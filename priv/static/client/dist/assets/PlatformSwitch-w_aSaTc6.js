import{r as d,i as no,j as c,x as po,w as uo,z as fo,B as W,s as U,bi as X,E as mo,bj as oo,bk as Mo,bl as Fo,bm as $o,aY as Bo,L as Io}from"./index-Du6cLc2g.js";import{A as No}from"./AnalyticsIcon-BTh_u3pF.js";import{P as zo,B as Ko}from"./PlayIcon-Dio1sQ0L.js";import{L as Uo}from"./LibraryIcon-Ce6_jpZ3.js";import{u as Ho}from"./index-8QNzrxwJ.js";import{B as lo}from"./Box-6qYIb0IB.js";import{u as K}from"./useSlot-Jtq-mfHw.js";import{u as Vo}from"./useControlled-B5xzdI43.js";import{u as bo,a as Yo}from"./ButtonBase-CdsCMxD3.js";import{T as Zo,g as co,r as _o}from"./utils-TS7gOHXB.js";import{g as Qo}from"./Modal-CVujTFOw.js";import{i as qo}from"./isMuiElement-BOwKGjxf.js";import{F as yo}from"./Fab-Bho1ORf6.js";import{m as Go}from"./Popover-DKSgKXB-.js";import{T as xo}from"./Tooltip-CkGlpyEO.js";const Jo={entering:{transform:"none"},entered:{transform:"none"}},Wo=d.forwardRef(function(e,r){const a=no(),x={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:v,appear:w=!0,children:C,easing:u,in:R,onEnter:A,onEntered:L,onEntering:O,onExit:h,onExited:p,onExiting:l,style:f,timeout:s=x,TransitionComponent:y=Zo,...P}=e,m=d.useRef(null),T=bo(m,Qo(C),r),D=i=>b=>{if(i){const g=m.current;b===void 0?i(g):i(g,b)}},H=D(O),z=D((i,b)=>{_o(i);const g=co({style:f,timeout:s,easing:u},{mode:"enter"});i.style.webkitTransition=a.transitions.create("transform",g),i.style.transition=a.transitions.create("transform",g),A&&A(i,b)}),V=D(L),Y=D(l),Z=D(i=>{const b=co({style:f,timeout:s,easing:u},{mode:"exit"});i.style.webkitTransition=a.transitions.create("transform",b),i.style.transition=a.transitions.create("transform",b),h&&h(i)}),E=D(p),S=i=>{v&&v(m.current,i)};return c.jsx(y,{appear:w,in:R,nodeRef:m,onEnter:z,onEntered:V,onEntering:H,onExit:Z,onExited:E,onExiting:Y,addEndListener:S,timeout:s,...P,children:(i,{ownerState:b,...g})=>d.cloneElement(C,{style:{transform:"scale(0)",visibility:i==="exited"&&!R?"hidden":void 0,...Jo[i],...f,...C.props.style},ref:T,...g})})});function Xo(o){return uo("MuiSpeedDial",o)}const q=po("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),ot=o=>{const{classes:e,open:r,direction:a}=o,x={root:["root",`direction${X(a)}`],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return mo(x,Xo,e)};function _(o){if(o==="up"||o==="down")return"vertical";if(o==="right"||o==="left")return"horizontal"}const M=32,G=16,tt=U("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[`direction${X(r.direction)}`]]}})(oo(({theme:o})=>({zIndex:(o.vars||o).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${q.actions}`]:{flexDirection:"column-reverse",marginBottom:-M,paddingBottom:G+M}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${q.actions}`]:{flexDirection:"column",marginTop:-M,paddingTop:G+M}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${q.actions}`]:{flexDirection:"row-reverse",marginRight:-M,paddingRight:G+M}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${q.actions}`]:{flexDirection:"row",marginLeft:-M,paddingLeft:G+M}}}]}))),et=U(yo,{name:"MuiSpeedDial",slot:"Fab"})({pointerEvents:"auto"}),nt=U("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.actions,!r.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:o})=>!o.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]}),st=d.forwardRef(function(e,r){const a=fo({props:e,name:"MuiSpeedDial"}),x=no(),v={enter:x.transitions.duration.enteringScreen,exit:x.transitions.duration.leavingScreen},{ariaLabel:w,FabProps:{ref:C,...u}={},children:R,className:A,direction:L="up",hidden:O=!1,icon:h,onBlur:p,onClose:l,onFocus:f,onKeyDown:s,onMouseEnter:y,onMouseLeave:P,onOpen:m,open:T,openIcon:D,slots:H={},slotProps:z={},TransitionComponent:V,TransitionProps:Y,transitionDuration:Z=v,...E}=a,[S,i]=Vo({controlled:T,default:!1,name:"SpeedDial",state:"open"}),b={...a,open:S,direction:L},g=ot(b),k=Yo(),F=d.useRef(0),$=d.useRef(),B=d.useRef([]);B.current=[B.current[0]];const Po=d.useCallback(t=>{B.current[0]=t},[]),So=bo(C,Po),go=(t,n,j)=>I=>{B.current[t+1]=I,n&&n(I),j&&j(I)},To=t=>{s&&s(t);const n=t.key.replace("Arrow","").toLowerCase(),{current:j=n}=$;if(t.key==="Escape"){i(!1),B.current[0].focus(),l&&l(t,"escapeKeyDown");return}if(_(n)===_(j)&&_(n)!==void 0){t.preventDefault();const I=n===j?1:-1,Q=Mo(F.current+I,0,B.current.length-1);B.current[Q].focus(),F.current=Q,$.current=j}};d.useEffect(()=>{S||(F.current=0,$.current=void 0)},[S]);const so=t=>{t.type==="mouseleave"&&P&&P(t),t.type==="blur"&&p&&p(t),k.clear(),t.type==="blur"?k.start(0,()=>{i(!1),l&&l(t,"blur")}):(i(!1),l&&l(t,"mouseLeave"))},Co=t=>{u.onClick&&u.onClick(t),k.clear(),S?(i(!1),l&&l(t,"toggle")):(i(!0),m&&m(t,"toggle"))},io=t=>{t.type==="mouseenter"&&y&&y(t),t.type==="focus"&&f&&f(t),k.clear(),S||k.start(0,()=>{i(!0),m&&m(t,{focus:"focus",mouseenter:"mouseEnter"}[t.type])})},to=w.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ro=d.Children.toArray(R).filter(t=>d.isValidElement(t)),ho=ro.map((t,n)=>{const{FabProps:{ref:j}={},slotProps:I={},tooltipPlacement:Q}=t.props,{fab:{ref:Ao,...Oo}={},...ko}=I,jo=Q||(_(L)==="vertical"?"left":"top");return d.cloneElement(t,{slotProps:{fab:{...Oo,ref:go(n,j,Ao)},...ko},delay:30*(S?n:ro.length-n),open:S,tooltipPlacement:jo,id:`${to}-action-${n}`})}),Do={transition:V,...H},wo={transition:Y,...z},ao={slots:Do,slotProps:wo},[Eo,vo]=K("root",{elementType:tt,externalForwardedProps:{...ao,...E},ownerState:b,ref:r,className:W(g.root,A),additionalProps:{role:"presentation"},getSlotProps:t=>({...t,onKeyDown:n=>{t.onKeyDown?.(n),To(n)},onBlur:n=>{t.onBlur?.(n),so(n)},onFocus:n=>{t.onFocus?.(n),io(n)},onMouseEnter:n=>{t.onMouseEnter?.(n),io(n)},onMouseLeave:n=>{t.onMouseLeave?.(n),so(n)}})}),[Ro,Lo]=K("transition",{elementType:Wo,externalForwardedProps:ao,ownerState:b});return c.jsxs(Eo,{...vo,children:[c.jsx(Ro,{in:!O,timeout:Z,unmountOnExit:!0,...Lo,children:c.jsx(et,{color:"primary","aria-label":w,"aria-haspopup":"true","aria-expanded":S,"aria-controls":`${to}-actions`,...u,onClick:Co,className:W(g.fab,u.className),ref:So,ownerState:b,children:d.isValidElement(h)&&qo(h,["SpeedDialIcon"])?d.cloneElement(h,{open:S}):h})}),c.jsx(nt,{id:`${to}-actions`,role:"menu","aria-orientation":_(L),className:W(g.actions,!S&&g.actionsClosed),ownerState:b,children:ho})]})});function it(o){return uo("MuiSpeedDialAction",o)}const J=po("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),rt=o=>{const{open:e,tooltipPlacement:r,classes:a}=o,x={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${X(r)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return mo(x,it,a)},at=U(yo,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.fab,!r.open&&e.fabClosed]}})(oo(({theme:o})=>({margin:8,color:(o.vars||o).palette.text.secondary,backgroundColor:(o.vars||o).palette.background.paper,"&:hover":{backgroundColor:o.vars?o.vars.palette.SpeedDialAction.fabHoverBg:Fo(o.palette.background.paper,.15)},transition:`${o.transitions.create("transform",{duration:o.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]}))),lt=U("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e[`tooltipPlacement${X(r.tooltipPlacement)}`]]}})(oo(({theme:o})=>({position:"relative",display:"flex",alignItems:"center",[`& .${J.staticTooltipLabel}`]:{transition:o.transitions.create(["transform","opacity"],{duration:o.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${J.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${J.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${J.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]}))),ct=U("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel"})(oo(({theme:o})=>({position:"absolute",...o.typography.body1,backgroundColor:(o.vars||o).palette.background.paper,borderRadius:(o.vars||o).shape.borderRadius,boxShadow:(o.vars||o).shadows[1],color:(o.vars||o).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),pt=d.forwardRef(function(e,r){const a=fo({props:e,name:"MuiSpeedDialAction"}),{className:x,delay:v=0,FabProps:w={},icon:C,id:u,open:R,TooltipClasses:A,tooltipOpen:L=!1,tooltipPlacement:O="left",tooltipTitle:h,slots:p={},slotProps:l={},...f}=a,s={...a,tooltipPlacement:O},y=rt(s),P={slots:p,slotProps:{fab:w,...l,tooltip:Go(typeof l.tooltip=="function"?l.tooltip(s):l.tooltip,{title:h,open:L,placement:O,classes:A})}},[m,T]=d.useState(P.slotProps.tooltip?.open),D=()=>{T(!1)},H=()=>{T(!0)},z={transitionDelay:`${v}ms`},[V,Y]=K("fab",{elementType:at,externalForwardedProps:P,ownerState:s,shouldForwardComponentProp:!0,className:W(y.fab,x),additionalProps:{style:z,tabIndex:-1,role:"menuitem",size:"small"}}),[Z,E]=K("tooltip",{elementType:xo,externalForwardedProps:P,shouldForwardComponentProp:!0,ref:r,additionalProps:{id:u},ownerState:s,getSlotProps:F=>({...F,onClose:$=>{F.onClose?.($),D()},onOpen:$=>{F.onOpen?.($),H()}})}),[S,i]=K("staticTooltip",{elementType:lt,externalForwardedProps:P,ownerState:s,ref:r,className:y.staticTooltip,additionalProps:{id:u}}),[b,g]=K("staticTooltipLabel",{elementType:ct,externalForwardedProps:P,ownerState:s,className:y.staticTooltipLabel,additionalProps:{style:z,id:`${u}-label`}}),k=c.jsx(V,{...Y,children:C});return E.open?c.jsxs(S,{...i,...f,children:[c.jsx(b,{...g,children:E.title}),d.cloneElement(k,{"aria-labelledby":`${u}-label`})]}):(!R&&m&&T(!1),c.jsx(Z,{...E,title:E.title,open:R&&m,placement:E.placement,classes:E.classes,...f,children:k}))}),N={Builder:"builder",Player:"player",Library:"library",Analytics:"analytics"},eo={[N.Builder]:Ko,[N.Player]:zo,[N.Library]:Uo,[N.Analytics]:No},Et=({id:o,spacing:e=.5,size:r=32,color:a=$o,accentColor:x=Bo,disabledColor:v="#CCC",sx:w,selected:C,platformsProps:u,CustomMobileIcon:R})=>{const A=no(),L=Ho(A.breakpoints.down("sm")),O=({platform:p,sx:l={}})=>{const f=p===C,s=u?.[p],y=eo[p],P=s?.tooltip,m={...l,...s?.sx};return c.jsx(xo,{title:s?.disabled?void 0:P,placement:s?.placement,children:c.jsx(Io,{id:s?.id,style:{display:"flex",cursor:s?.disabled?"default":"pointer"},"data-testid":p,to:s?.disabled?void 0:s?.href,"aria-disabled":s?.disabled,children:c.jsx(y,{disabledColor:v,disabled:s?.disabled,selected:f,secondaryColor:x,primaryColor:a,primaryOpacity:1,size:r,sx:m,disableHover:!1})})})},h=Object.values(N).map((p,l,f)=>c.jsx(O,{sx:{mr:l===f.length-1?0:e},platform:p},p));if(L){const p=C||N.Builder,l=R??eo[p],f=u?.[p],s={...w,...f?.sx};return c.jsx(lo,{sx:{position:"relative",height:"40px"},children:c.jsx(st,{FabProps:{size:"small",sx:{border:"2px solid white"}},icon:c.jsx(l,{selected:!0,secondaryColor:x,primaryColor:a,primaryOpacity:1,size:r,sx:s}),role:"navigation",direction:"down",ariaLabel:"platform switch dial",children:Object.values(N).map(y=>{const P=eo[y],m=y===C,T=u?.[y],D={...w,...f?.sx??{}};return c.jsx(pt,{icon:c.jsx(P,{disabledColor:v,disabled:T?.disabled,selected:m,secondaryColor:x,primaryColor:a,primaryOpacity:1,size:r,sx:D}),tooltipTitle:T?.tooltip,onClick:()=>{!T?.disabled&&T?.href&&location.assign(T?.href)}},y)})})})}return c.jsx(lo,{component:"nav",id:o,sx:{p:e,border:1,borderColor:a,borderRadius:`${r}px`,width:"fit-content",display:"flex",...w},children:h})};export{Et as P,N as a};
