import{r as t,b as P,N as x,cl as h,j as E,az as m}from"./index-Du6cLc2g.js";import{B as A}from"./Box-6qYIb0IB.js";import{T as g}from"./TextField-HOePLdCm.js";import{L as R}from"./List-BxElNHcx.js";import{L as M}from"./ListItemButton-TZ0nPx2E.js";const d={DELETE_ITEM_LOCATION_TITLE:"DELETE_ITEM_LOCATION_TITLE",DELETE_ITEM_LOCATION_EXPLANATION:"DELETE_ITEM_LOCATION_EXPLANATION",DELETE_ITEM_LOCATION_BUTTON:"DELETE_ITEM_LOCATION_BUTTON",DELETE_ITEM_BUTTON:"DELETE_ITEM_BUTTON",DELETE_ITEM_TITLE:"DELETE_ITEM_TITLE",DELETE_ITEM_EXPLANATION:"DELETE_ITEM_EXPLANATION",GEOLOCATION_PICKER_PLACEHOLDER:"GEOLOCATION_PICKER_PLACEHOLDER",GEOLOCATION_PICKER_NO_ADDRESS:"GEOLOCATION_PICKER_NO_ADDRESS",GEOLOCATION_PICKER_TITLE:"GEOLOCATION_PICKER_TITLE"},S=n=>{const T=t.useRef(null);return t.useEffect(()=>{const r=L=>{T.current&&!T.current.contains(L.target)&&n()};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[n]),T},j=({disabled:n=!1,useSuggestionsForAddress:T,onChangeOption:r,invisible:L=!1,initialValue:o="",label:N})=>{const{t:O,i18n:l}=P(x.Map),[C,_]=t.useState(!1),[s,a]=t.useState(o),[i,u]=t.useState(),{data:I,isFetching:c}=T({address:s!==o?s:void 0,lang:l.language??h}),D=S(()=>{_(!1)});t.useEffect(()=>{o!==s&&a(o)},[o]);const f=e=>{a(e.target.value),u(void 0)},p=e=>{r?.(e),u(e.addressLabel),a(void 0)};return E.jsxs(A,{flex:1,position:"relative",ref:D,children:[E.jsx(g,{disabled:n,fullWidth:!0,label:N??O(d.GEOLOCATION_PICKER_TITLE),multiline:!0,placeholder:O(d.GEOLOCATION_PICKER_PLACEHOLDER),onChange:f,onFocus:()=>_(!0),value:i??s,...L?{variant:"standard",InputLabelProps:{shrink:!0},InputProps:{disableUnderline:!0}}:{}}),c&&s&&E.jsx(A,{sx:{width:"100%"},children:E.jsx(m,{})}),C&&I&&!i&&E.jsxs(R,{sx:{position:"absolute",background:"white",top:60,width:"100%",zIndex:2,boxShadow:"0px 5px 6px rgba(0,0,0,0.3)"},children:[I.map(e=>E.jsx(M,{onMouseDown:()=>{p(e),_(!1)},children:e.addressLabel},e.id)),!I.length&&s&&!c&&O(d.GEOLOCATION_PICKER_NO_ADDRESS)]})]})};export{j as G,d as M};
