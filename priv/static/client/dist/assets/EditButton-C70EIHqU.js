import{w as at,x as st,j as e,r as L,z as ot,dd as ut,s as k,B as Y,bi as N,E as it,bj as K,bn as Q,v as nt,S as P,T as O,b as H,N as V,h as A,fH as D,fI as F,fJ as tt,fK as gt,fL as xt,eN as $}from"./index-Du6cLc2g.js";import{t as ft}from"./index-RERcJu9w.js";import{B as vt}from"./Breadcrumbs-B-53bV0w.js";import{T as rt}from"./Tooltip-CkGlpyEO.js";import{B as G}from"./Button-BZonE8EM.js";import{C as bt}from"./CancelButton-D_f8GGBm.js";import{I as ht}from"./ItemIcon-CVFe5RC4.js";import{C as yt}from"./CircularProgress-CnPELIce.js";import{I as lt}from"./IconButton-DGQNRfUk.js";import{c as E}from"./createSvgIcon-DpKUgtm0.js";import{u as z}from"./useSlot-Jtq-mfHw.js";import{B as mt}from"./ButtonBase-CdsCMxD3.js";import{u as It}from"./useControlled-B5xzdI43.js";import{S}from"./Skeleton-DL17Y8WH.js";import{A as J}from"./Alert-CbKF_a_e.js";import{B as jt}from"./Box-6qYIb0IB.js";import{D as Ct,a as Mt}from"./DialogContent-BVO65bHL.js";import{D as Pt}from"./DialogTitle-DnHtd1CR.js";import{D as St}from"./DialogActions-hH_AKLy2.js";import{M as wt}from"./MenuItem-BDQospWL.js";import{L as Rt}from"./ListItemIcon-B3CKIE52.js";import{L as Tt}from"./ListItemText-DtIE91_b.js";import{P as Nt}from"./pen-Lz7yweGr.js";function kt(t){return at("MuiPagination",t)}st("MuiPagination",["root","ul","outlined","text"]);function Et(t={}){const{boundaryCount:a=1,componentName:s="usePagination",count:o=1,defaultPage:d=1,disabled:r=!1,hideNextButton:i=!1,hidePrevButton:n=!1,onChange:l,page:u,showFirstButton:c=!1,showLastButton:x=!1,siblingCount:f=1,...j}=t,[g,y]=It({controlled:u,default:d,name:s,state:"page"}),w=(p,b)=>{u||y(b),l&&l(p,b)},C=(p,b)=>{const _=b-p+1;return Array.from({length:_},(X,W)=>p+W)},m=C(1,Math.min(a,o)),M=C(Math.max(o-a+1,a+1),o),I=Math.max(Math.min(g-f,o-a-f*2-1),a+2),v=Math.min(Math.max(g+f,a+f*2+2),o-a-1),B=[...c?["first"]:[],...n?[]:["previous"],...m,...I>a+2?["start-ellipsis"]:a+1<o-a?[a+1]:[],...C(I,v),...v<o-a-1?["end-ellipsis"]:o-a>a?[o-a]:[],...M,...i?[]:["next"],...x?["last"]:[]],R=p=>{switch(p){case"first":return 1;case"previous":return g-1;case"next":return g+1;case"last":return o;default:return null}};return{items:B.map(p=>typeof p=="number"?{onClick:b=>{w(b,p)},type:"page",page:p,selected:p===g,disabled:r,"aria-current":p===g?"page":void 0}:{onClick:b=>{w(b,R(p))},type:p,page:R(p),selected:!1,disabled:r||!p.includes("ellipsis")&&(p==="next"||p==="last"?g>=o:g<=1)}),...j}}function Bt(t){return at("MuiPaginationItem",t)}const h=st("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),_t=E(e.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),Lt=E(e.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),At=E(e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),$t=E(e.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),dt=(t,a)=>{const{ownerState:s}=t;return[a.root,a[s.variant],a[`size${N(s.size)}`],s.variant==="text"&&a[`text${N(s.color)}`],s.variant==="outlined"&&a[`outlined${N(s.color)}`],s.shape==="rounded"&&a.rounded,s.type==="page"&&a.page,(s.type==="start-ellipsis"||s.type==="end-ellipsis")&&a.ellipsis,(s.type==="previous"||s.type==="next")&&a.previousNext,(s.type==="first"||s.type==="last")&&a.firstLast]},zt=t=>{const{classes:a,color:s,disabled:o,selected:d,size:r,shape:i,type:n,variant:l}=t,u={root:["root",`size${N(r)}`,l,i,s!=="standard"&&`color${N(s)}`,s!=="standard"&&`${l}${N(s)}`,o&&"disabled",d&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[n]],icon:["icon"]};return it(u,Bt,a)},Ot=k("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:dt})(K(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${h.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),Dt=k(mt,{name:"MuiPaginationItem",slot:"Root",overridesResolver:dt})(K(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${h.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${h.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${h.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${h.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${h.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${h.selected}`]:{[`&.${h.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${h.selected}`]:{[`&.${h.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(Q(["dark","contrastText"])).map(([a])=>({props:{variant:"text",color:a},style:{[`&.${h.selected}`]:{color:(t.vars||t).palette[a].contrastText,backgroundColor:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:(t.vars||t).palette[a].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a].main}},[`&.${h.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a].dark},[`&.${h.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(Q(["light"])).map(([a])=>({props:{variant:"outlined",color:a},style:{[`&.${h.selected}`]:{color:(t.vars||t).palette[a].main,border:`1px solid ${t.alpha((t.vars||t).palette[a].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[a].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${h.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[a].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),Ft=k("div",{name:"MuiPaginationItem",slot:"Icon"})(K(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),Ut=L.forwardRef(function(a,s){const o=ot({props:a,name:"MuiPaginationItem"}),{className:d,color:r="standard",component:i,components:n={},disabled:l=!1,page:u,selected:c=!1,shape:x="circular",size:f="medium",slots:j={},slotProps:g={},type:y="page",variant:w="text",...C}=o,m={...o,color:r,disabled:l,selected:c,shape:x,size:f,type:y,variant:w},M=ut(),I=zt(m),v={slots:{previous:j.previous??n.previous,next:j.next??n.next,first:j.first??n.first,last:j.last??n.last},slotProps:g},[B,R]=z("previous",{elementType:At,externalForwardedProps:v,ownerState:m}),[T,p]=z("next",{elementType:$t,externalForwardedProps:v,ownerState:m}),[b,_]=z("first",{elementType:_t,externalForwardedProps:v,ownerState:m}),[X,W]=z("last",{elementType:Lt,externalForwardedProps:v,ownerState:m}),Z=M?{previous:"next",next:"previous",first:"last",last:"first"}[y]:y,q={previous:B,next:T,first:b,last:X}[Z],pt={previous:R,next:p,first:_,last:W}[Z];return y==="start-ellipsis"||y==="end-ellipsis"?e.jsx(Ot,{ref:s,ownerState:m,className:Y(I.root,d),children:"…"}):e.jsxs(Dt,{ref:s,ownerState:m,component:i,disabled:l,className:Y(I.root,d),...C,children:[y==="page"&&u,q?e.jsx(Ft,{...pt,className:I.icon,as:q}):null]})}),Ht=t=>{const{classes:a,variant:s}=t;return it({root:["root",s],ul:["ul"]},kt,a)},Vt=k("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.root,a[s.variant]]}})({}),Gt=k("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Wt(t,a,s){return t==="page"?`${s?"":"Go to "}page ${a}`:`Go to ${t} page`}const Yt=L.forwardRef(function(a,s){const o=ot({props:a,name:"MuiPagination"}),{boundaryCount:d=1,className:r,color:i="standard",count:n=1,defaultPage:l=1,disabled:u=!1,getItemAriaLabel:c=Wt,hideNextButton:x=!1,hidePrevButton:f=!1,onChange:j,page:g,renderItem:y=b=>e.jsx(Ut,{...b}),shape:w="circular",showFirstButton:C=!1,showLastButton:m=!1,siblingCount:M=1,size:I="medium",variant:v="text",...B}=o,{items:R}=Et({...o,componentName:"Pagination"}),T={...o,boundaryCount:d,color:i,count:n,defaultPage:l,disabled:u,getItemAriaLabel:c,hideNextButton:x,hidePrevButton:f,renderItem:y,shape:w,showFirstButton:C,showLastButton:m,siblingCount:M,size:I,variant:v},p=Ht(T);return e.jsx(Vt,{"aria-label":"pagination navigation",className:Y(p.root,r),ownerState:T,ref:s,...B,children:e.jsx(Gt,{className:p.ul,ownerState:T,children:R.map((b,_)=>e.jsx("li",{children:y({...b,color:i,"aria-label":c(b.type,b.page,b.selected),shape:w,size:I,variant:v})},_))})})});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Re=nt("copy",Kt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Te=nt("ellipsis-vertical",Jt),Xt=E(e.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),Zt=E(e.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),qt=15,Qt=({onSelect:t,elements:a,rootElements:s=[],selectedId:o,maxLength:d=qt})=>{if(!a)return null;const r=s.findIndex(({id:l})=>l==o),i=r<0?s.length:r+1,n=[...s.slice(0,i),...r<0?a:[]];return e.jsx(vt,{separator:"›","aria-label":"breadcrumb",children:n.map(l=>e.jsx(rt,{title:l.name,children:e.jsx(G,{variant:"text",color:"inherit",sx:{textTransform:"none",p:0,minWidth:0,"&:hover":{textDecoration:"underline",background:"none"}},onClick:()=>{t(l)},children:e.jsxs(P,{direction:"row",gap:1,children:[l.icon,ft(l.name,{length:d})]})},l.id)},l.name))})},te=k(G,{shouldForwardProp:t=>t!=="isSelected"})(({theme:t,isSelected:a})=>({color:t.palette.text.primary,width:"100%",justifyContent:"start",background:a?t.palette.grey[200]:"none",textTransform:"none",pl:1})),ct=({item:t,onNavigate:a,onClick:s,selectedId:o,isDisabled:d,id:r,arrowId:i})=>{const[n,l]=L.useState(!1);return e.jsx(P,{direction:"row",justifyContent:"space-between",id:r,sx:{"& .arrow":{visibility:"hidden"},"&:hover .arrow":{visibility:"unset"}},children:e.jsxs(P,{direction:"row",alignItems:"center",width:"100%",children:[e.jsx(te,{onClick:()=>{s(t)},isSelected:o===t.id,disabled:d?.(t),startIcon:e.jsx(ht,{size:"20px",alt:`${t.name} icon`,type:"folder"}),children:e.jsx(O,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},variant:"body1",children:t.name})}),n&&e.jsx(yt,{size:20}),!n&&e.jsx(lt,{className:"arrow",onClick:()=>{l(!0),a(t)},id:i,size:"small",children:e.jsx(Zt,{})})]})})},U=({elements:t,onNavigate:a,selectedId:s,onClick:o,isDisabled:d,setPage:r,nbPages:i,page:n,emptyContent:l=e.jsx(e.Fragment,{}),buildRowMenuId:u=x=>x,buildRowMenuArrowId:c=x=>x})=>e.jsxs(P,{height:"100%",flex:1,direction:"column",justifyContent:"space-between",children:[e.jsxs(P,{children:[t?.map(x=>e.jsx(ct,{item:x,onNavigate:a,selectedId:s,onClick:o,isDisabled:d,id:u(x.id),arrowId:c(x.id)},x.id)),!t?.length&&l]}),i&&e.jsx(P,{direction:"row",justifyContent:"end",children:i>1&&e.jsx(Yt,{sx:{justifyContent:"end"},size:"small",count:i,page:n,onChange:(x,f)=>r?.(f)})})]}),ee=10,ae=({isDisabled:t,onClick:a,onNavigate:s,selectedId:o})=>{const{t:d}=H(V.Builder),{data:r,isLoading:i,hasNextPage:n,fetchNextPage:l,isFetching:u}=A.useInfiniteAccessibleItems({permissions:["write","admin"],types:["folder"]},{pageSize:ee});if(r?.pages){const c=r.pages.flatMap(x=>x.data);return e.jsxs(P,{height:"100%",flex:1,direction:"column",justifyContent:"space-between",children:[e.jsx(P,{children:e.jsx(U,{elements:c,onNavigate:s,selectedId:o,onClick:a,isDisabled:t,buildRowMenuId:F,buildRowMenuArrowId:D})}),n&&e.jsx(P,{textAlign:"center",alignItems:"center",children:e.jsx(G,{variant:"text",onClick:()=>l(),role:"feed",size:"small",loading:u,children:d("HOME_SCREEN_LOAD_MORE_BUTTON")})})]})}return i?e.jsxs(e.Fragment,{children:[e.jsx(S,{height:50}),e.jsx(S,{height:50}),e.jsx(S,{height:50})]}):e.jsx(J,{severity:"error",children:"An unexpected error happened"})},se=({onClick:t,selectedId:a,selectedNavigationItem:s,onNavigate:o,isDisabled:d})=>{const{t:r}=H(V.Builder),{data:i,isLoading:n}=A.useChildren(s.id,{types:["folder"]});return i?e.jsxs(e.Fragment,{children:[e.jsx(U,{elements:i,onNavigate:o,selectedId:a,onClick:t,isDisabled:d,buildRowMenuId:F,buildRowMenuArrowId:D}),!i?.length&&e.jsx(jt,{sx:{color:"darkgrey",pt:1},children:r("EMPTY_FOLDER_CHILDREN_FOR_THIS_ITEM")})]}):n?e.jsxs(e.Fragment,{children:[e.jsx(S,{height:50}),e.jsx(S,{height:50}),e.jsx(S,{height:50})]}):e.jsx(J,{severity:"error",children:"An unexpected error happened"})},oe=({isDisabled:t,items:a,onClick:s,onNavigate:o,rootMenuItems:d,selectedId:r})=>{const{t:i}=H(V.Builder),{data:n,isLoading:l,isSuccess:u}=A.useAccessibleItems({permissions:["admin","write"],types:["folder"]},{pageSize:5}),{data:c}=A.useParents({id:a[0]?.id,enabled:!!a[0]});return u?e.jsxs(e.Fragment,{children:[e.jsx(O,{color:"darkgrey",variant:"subtitle2",children:i("HOME_TITLE")}),e.jsx(U,{elements:d,onNavigate:o,selectedId:r,onClick:s,buildRowMenuId:F,buildRowMenuArrowId:D}),!!n.data.length&&e.jsxs(e.Fragment,{children:[e.jsx(O,{color:"darkgrey",variant:"subtitle2",children:i("ITEM_SELECTION_NAVIGATION_RECENT_ITEMS")}),e.jsx(U,{elements:n.data,onNavigate:o,selectedId:r,onClick:s,isDisabled:t,buildRowMenuId:F,buildRowMenuArrowId:D})]}),c&&c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(O,{color:"darkgrey",variant:"subtitle2",children:i("ITEM_SELECTION_NAVIGATION_PARENT")}),e.jsx(ct,{item:c[c.length-2],onNavigate:o,selectedId:r,onClick:s,isDisabled:t})]})]}):l?e.jsxs(e.Fragment,{children:[e.jsx(S,{height:50}),e.jsx(S,{height:50}),e.jsx(S,{height:50})]}):e.jsx(J,{severity:"error",children:"An unexpected error happened"})},et="items-tree-modal",Ne=({buttonText:t=()=>"Submit",isDisabled:a=()=>!1,items:s=[],onClose:o,onConfirm:d,open:r=!1,title:i})=>{const{t:n}=H(V.Builder),l=s?i:e.jsx(S,{height:50}),u={icon:e.jsx(Xt,{}),name:"",path:"selectionModalRoot",id:"selectionModalRoot"},c={name:n("SELECT_MY_ITEMS"),id:tt,path:tt},x=[u.id,c.id],[f,j]=L.useState(),[g,y]=L.useState(u),{data:w}=A.useParents({id:g.id,enabled:!x.includes(g.id)}),C=()=>{o({id:null,open:!1})},m=()=>{d(f?.id===c.id?void 0:f?.id),C()},M=v=>{y(v),j(v)},I=v=>!s.length||a(s,v,c.id);return e.jsxs(Ct,{onClose:C,"aria-labelledby":et,open:r,scroll:"paper",children:[e.jsx(Pt,{id:et,children:l}),e.jsx(Mt,{children:e.jsxs(P,{direction:"column",sx:{minHeight:250,position:"relative"},id:gt,children:[g.id!==u.id&&e.jsx(Qt,{elements:[...w??[],g],rootElements:[u,c],selectedId:g.id,onSelect:M}),s&&g.id===u.id&&e.jsx(oe,{isDisabled:v=>a(s,v,c.id),onClick:j,selectedId:f?.id,onNavigate:M,items:s,rootMenuItems:[c]}),g.id===c.id&&e.jsx(ae,{isDisabled:I,onClick:j,onNavigate:M,selectedId:f?.id}),!x.includes(g.id)&&e.jsx(se,{isDisabled:I,onClick:j,onNavigate:M,selectedId:f?.id,selectedNavigationItem:g})]})}),e.jsxs(St,{children:[e.jsx(bt,{onClick:C}),e.jsx(G,{onClick:m,disabled:!f||f.id===u.id||I(f),id:xt,variant:"contained",sx:{textOverflow:"ellipsis",maxWidth:200,whiteSpace:"nowrap",overflow:"hidden",display:"block"},children:t(f?.name)})]})]})},ke=({id:t,className:a,ariaLabel:s,onClick:o,title:d="Edit",size:r="small",type:i=$.ICON_BUTTON})=>{const n=e.jsx(Nt,{});switch(i){case $.ICON:return n;case $.MENU_ITEM:return e.jsxs(wt,{onClick:o,id:t,className:a,children:[e.jsx(Rt,{children:n}),e.jsx(Tt,{children:d})]},d);case $.ICON_BUTTON:default:return e.jsx(rt,{title:d,children:e.jsx("span",{children:e.jsx(lt,{id:t,"aria-label":s,className:a,onClick:o,size:r,children:n})})})}};export{Re as C,ke as E,Ne as I,Te as a};
