import{j as t,S as s,D as d,e as h,Y as m,b as L,N as U,Z as u,_ as x,$ as C,a0 as _,a1 as D,T as n,a2 as N,L as j,a3 as S,a4 as p}from"./index-Du6cLc2g.js";import{B as O}from"./ButtonLink-rFd5ZjYd.js";import{A as a}from"./Alert-CbKF_a_e.js";import{A as E}from"./AlertTitle-Bdf1oZJW.js";import{B as A}from"./Button-BZonE8EM.js";import{C as M}from"./Card-CdGogg3Y.js";import"./useSlot-Jtq-mfHw.js";import"./ButtonBase-CdsCMxD3.js";import"./isFocusVisible-B8k4qzLc.js";import"./createSvgIcon-DpKUgtm0.js";import"./IconButton-DGQNRfUk.js";import"./CircularProgress-CnPELIce.js";import"./Paper-B8YcVVca.js";function f({children:r}){return t.jsx(s,{height:"100vh",bgcolor:d,children:t.jsx(h,{sx:{my:5,height:"100%"},children:t.jsx(s,{height:"100%",direction:"column",alignItems:"center",justifyContent:"center",flexGrow:1,gap:2,children:r})})})}function b(){const{email:r,t:i}=m.useSearch();return t.jsx(f,{children:t.jsx(g,{newEmail:r,jwtToken:i})})}function g({newEmail:r,jwtToken:i}){const{t:e}=L(U.Account),{mutate:c,error:o,isSuccess:I}=u.useValidateEmailUpdate();if(i){const l=()=>{c(i)};if(I)return t.jsxs(t.Fragment,{children:[t.jsxs(a,{id:x,severity:"success",children:[t.jsx(E,{children:e("EMAIL_UPDATE_SUCCESS_TITLE")}),e("EMAIL_UPDATE_SUCCESS_TEXT")]}),t.jsx(O,{to:"/auth/login",children:e("EMAIL_UPDATE_SUCCESS_BUTTON_TEXT")})]});if(o&&C(o)){const T=o.response?.status;if(T===_.Unauthorized)return t.jsxs(a,{severity:"error",id:D,children:[t.jsx(E,{children:e("EMAIL_UPDATE_UNAUTHORIZED_TITLE")}),t.jsxs(s,{direction:"column",gap:1,children:[t.jsx(n,{children:e("EMAIL_UPDATE_UNAUTHORIZED_TEXT_LINK_VALIDITY")}),t.jsx(n,{children:e("EMAIL_UPDATE_UNAUTHORIZED_TEXT_LINK_GENERATION")}),t.jsx(A,{component:j,to:N,children:e("EMAIL_UPDATE_UNAUTHORIZED_TEXT_LINK_GENERATION_BUTTON")})]})]});if(T===_.Conflict)return t.jsxs(a,{severity:"error",id:S,children:[t.jsx(E,{children:e("EMAIL_UPDATE_CONFLICT_TITLE")}),e("EMAIL_UPDATE_CONFLICT_TEXT")]})}return t.jsxs(t.Fragment,{children:[t.jsx(n,{variant:"h2",component:"h1",children:e("VALIDATE_EMAIL_TITLE")}),t.jsx(M,{children:t.jsxs(s,{direction:"column",alignItems:"center",gap:1,p:2,children:[t.jsx(n,{children:e("VALIDATE_EMAIL_TEXT")}),t.jsx(n,{fontWeight:"bold",children:r}),t.jsx(A,{id:p,variant:"contained",onClick:l,sx:{width:"min-content"},children:e("VALIDATE_EMAIL_BUTTON_TEXT")})]})})]})}return t.jsx(n,{children:e("EMAIL_UPDATE_MISSING_TOKEN")})}export{b as component};
