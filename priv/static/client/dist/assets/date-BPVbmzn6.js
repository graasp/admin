import{c as h,b as I,d as o,a as g}from"./differenceInMinutes-BbWlujZi.js";import{n as d,s as D}from"./normalizeDates-Bl5IZJGD.js";import{t as w,e as F,s as _,g as W,h as q,i as C,j as p,k as S,l as T}from"./toDate-BXq0HhWu.js";import{d as l}from"./differenceInCalendarDays-DiZ3ZI30.js";import{d as M}from"./differenceInCalendarMonths-C8dGLoK4.js";import{g as y}from"./getTimezoneOffsetInMilliseconds-CkMJBntH.js";import{d as c}from"./differenceInSeconds-DNsH8fUT.js";function b(s,i){const r=w(s,i?.in);return Math.trunc(r.getMonth()/3)+1}function u(s,i,r){const[e,t]=d(r?.in,s,i),n=e.getFullYear()-t.getFullYear(),a=b(e)-b(t);return n*4+a}function k(s,i,r){const[e,t]=d(r?.in,s,i),n=D(e,r),a=D(t,r),m=+n-y(n),f=+a-y(a);return Math.round((m-f)/F)}function Y(s,i,r){let e;return O(i)?e=i:r=i,new Intl.DateTimeFormat(r?.locale,e).format(w(s))}function O(s){return s!==void 0&&!("locale"in s)}function Q(s,i,r){let e=0,t;const[n,a]=d(r?.in,s,i);if(r?.unit)t=r?.unit,t==="second"?e=c(n,a):t==="minute"?e=h(n,a):t==="hour"?e=I(n,a):t==="day"?e=l(n,a):t==="week"?e=k(n,a):t==="month"?e=M(n,a):t==="quarter"?e=u(n,a):t==="year"&&(e=o(n,a));else{const f=c(n,a);Math.abs(f)<_?(e=c(n,a),t="second"):Math.abs(f)<W?(e=h(n,a),t="minute"):Math.abs(f)<q&&Math.abs(l(n,a))<1?(e=I(n,a),t="hour"):Math.abs(f)<C&&(e=l(n,a))&&Math.abs(e)<7?t="day":Math.abs(f)<p?(e=k(n,a),t="week"):Math.abs(f)<S?(e=M(n,a),t="month"):Math.abs(f)<T?u(n,a)<4?(e=u(n,a),t="quarter"):(e=o(n,a),t="year"):(e=o(n,a),t="year")}return new Intl.RelativeTimeFormat(r?.locale,{numeric:"auto",...r}).format(e,t)}const V=(s,i)=>{const{locale:r,defaultValue:e="Unknown"}=i;if(!s)return e;try{const t=new Date,n=new Date(s);return g(t,n)<7?Q(n,t,{locale:r}):Y(n,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},{locale:r})}catch(t){return console.error(t),e}};export{V as f};
