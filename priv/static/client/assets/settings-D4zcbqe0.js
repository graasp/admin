import{v as H,j as e,r as A,b as _,N as E,m as b,i8 as ee,y as te,S as d,i9 as ne,T as C,ia as se,ib as ie,ic as re,h as w,Z as D,id as oe,ie as ae,k as X,ig as le,dL as K,bb as W,e2 as z,ih as Te,ii as ce,ij as _e,X as Ee,ik as de,il as Ie,im as Le,eB as Ce,eN as F,io as Oe,ip as Ae,iq as Ne,ir as me,is as ue,b0 as Se}from"./index-B_BHgQQY.js";import{B as o}from"./langs-BKRoRoQy.js";import{G as N}from"./Button-C2DML4l_.js";import{B as f}from"./Box-CXXiFbSb.js";import{c as he}from"./createSvgIcon-CR_wPvPv.js";import{D as j,a as S}from"./DialogContent-BLGJ1kXP.js";import{D as g}from"./DialogTitle-BL-ZXwRQ.js";import{D as h}from"./DialogActions-B4c7iV3e.js";import{I as q}from"./ItemSettingProperty-DyTew-Ej.js";import{M as Y}from"./pin-CWXz_P8J.js";import{C as xe,u as pe,c as De,a as je,L as ge,T as Re,E as B}from"./ThumbnailUploader-_WZiGa47.js";import{C as Me}from"./Clear-BLTcymBh.js";import{c as Z,a as fe}from"./itemGeolocation-aPAjzerS.js";import{G as Be}from"./GeolocationPicker-BtIdhDYV.js";import{D as $}from"./DialogContentText-X3gecpnz.js";import{T as M}from"./TextField-CCzZwtaB.js";import{T as be}from"./Tooltip-CY4gBTjx.js";import{I as Ge}from"./IconButton-t5WdCoTE.js";import{u as G}from"./OutletContext-BGjGZ_Uz.js";import{B as m}from"./Button-4ORflwU5.js";import{g as Pe,i as ke}from"./capsule-ocBuEWIN.js";import{u as Q}from"./useModalStatus-CF1QQN94.js";import{T as Fe,I as p,H as Ve}from"./HideSettingCheckbox-DBhwBIPL.js";import{T as ve,c as ye,a as u,b as I}from"./TableRow-iBTETprB.js";import{f as Ue}from"./fileSize-Ct-TZ2my.js";import{g as He}from"./fileItem-Bbp5pYua.js";import{f as V}from"./date-BPVbmzn6.js";import{C as we,P as Xe}from"./PinButton-B2O-3CYr.js";import{F as Ke}from"./RadioGroup-B8axso0y.js";import{S as v}from"./Switch-BMLgWMtw.js";import{F as y}from"./FormControlLabel-CAZP-rGy.js";import{F as We,S as U,b as ze}from"./FileMaxWidthSetting-B0EgjMCQ.js";import{M as qe}from"./message-square-off-CesP20iE.js";import"./useSlot-D6B6Ly0P.js";import"./ButtonBase-ylRkSt5R.js";import"./isFocusVisible-B8k4qzLc.js";import"./Paper-e3G0y0Go.js";import"./Modal-DNRlalor.js";import"./createChainedFunction-BO_9K8Jh.js";import"./utils-NE7yIt1Q.js";import"./Edit-CA3IAl03.js";import"./index-CAxbq8YW.js";import"./Autocomplete-DLfOXbvp.js";import"./Alert-af15MLjr.js";import"./useControlled-BMwunPLn.js";import"./usePreviousProps-WLnL_Kyw.js";import"./ThumbnailCrop-iMyJZY_9.js";import"./CropModal-D3OxYzrA.js";import"./trash-2-D4QstvMZ.js";import"./Skeleton-Bf_dEhrE.js";import"./Trans-1gex2Erj.js";import"./langs-C5VEx8tQ.js";import"./normalizeDates-Bl5IZJGD.js";import"./toDate-BXq0HhWu.js";import"./Select-CwIsZUkW.js";import"./FormControl-DkBPBeJg.js";import"./isMuiElement-BdxtYttK.js";import"./MenuItem-i4R53H8t.js";import"./listItemTextClasses-DkicRqsl.js";import"./dividerClasses-Bk0V9OT7.js";import"./permissionLevel-BOsSKewz.js";import"./uploadWithProgress-X8OCjAji.js";import"./CircularProgress-_2M16NEZ.js";import"./List-Cf8ruq7c.js";import"./ListItemButton-TRjTb-Ya.js";import"./listItemButtonClasses-BxUs8zQL.js";import"./Popover-CgVTRYfe.js";import"./Grow-BvZTf0bq.js";import"./Menu-C45l_y2r.js";import"./itemType-D9KQEJss.js";import"./eye-off-WWB42nol.js";import"./eye-c2LSV0oY.js";import"./differenceInMinutes-BbWlujZi.js";import"./differenceInCalendarDays-DiZ3ZI30.js";import"./getTimezoneOffsetInMilliseconds-CkMJBntH.js";import"./differenceInSeconds-DNsH8fUT.js";import"./differenceInCalendarMonths-C8dGLoK4.js";import"./ListItemIcon-BTN91sVG.js";import"./ListItemText-Db53d-gu.js";import"./SwitchBase-BpBcR0Ys.js";import"./text-align-start-BvNJbDOj.js";import"./getValidReactChildren-BkgtYZbS.js";import"./alignment-FBy0_b-y.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ze=H("chart-column",Ye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M10 9.3a2.8 2.8 0 0 0-3.5 1 3.1 3.1 0 0 0 0 3.4 2.7 2.7 0 0 0 3.5 1",key:"1ss3eq"}],["path",{d:"M17 9.3a2.8 2.8 0 0 0-3.5 1 3.1 3.1 0 0 0 0 3.4 2.7 2.7 0 0 0 3.5 1",key:"1od56t"}]],Qe=H("creative-commons",$e),Je=he(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),et=({chatId:s})=>{const[i,n]=A.useState(!1),{t}=_(E.Builder),{t:T}=_(E.Common),{mutate:r}=b({...ee(),onError:()=>{te.error(t("CHATBOX.CLEAR_ERROR"))}}),c=()=>{r({path:{itemId:s}})};return e.jsxs(e.Fragment,{children:[e.jsx(d,{direction:"column",spacing:2,children:e.jsx(f,{width:"max-content",children:e.jsx(N,{id:ne,startIcon:e.jsx(Je,{}),variant:"outlined",color:"error",onClick:()=>n(!0),children:e.jsx(C,{noWrap:!0,children:t("CHAT.CLEAR_ALL")})})})}),e.jsxs(j,{open:i,id:se,children:[e.jsx(g,{children:t("CHAT.CLEAR_ALL_TITLE")}),e.jsx(S,{children:e.jsxs(d,{flexDirection:"column",alignItems:"center",spacing:1,children:[e.jsx(C,{textAlign:"justify",children:t("CHAT.CLEAR_ALL_CONTENT")}),e.jsx(C,{children:t("ITEM_SETTINGS_CLEAR_CHAT_BACKUP_TEXT")})]})}),e.jsxs(h,{children:[e.jsx(N,{id:ie,variant:"contained",onClick:()=>{n(!1)},children:T("CANCEL.BUTTON_TEXT")}),e.jsx(N,{id:re,variant:"outlined",color:"error",onClick:()=>{n(!1),c()},children:t("CHAT.CLEAR_BUTTON_TEXT")})]})]})]})},tt=({item:s})=>{const i=s.id,{t:n}=_(E.Builder),{data:t}=w.useCurrentMember();return(t?s?.permission==="admin":!1)?e.jsx(q,{title:n(o.ITEM_SETTINGS_CHAT_SETTINGS_TITLE),valueText:n(o.ITEM_SETTINGS_CLEAR_CHAT_EXPLANATION),icon:e.jsx(Y,{}),inputSetting:e.jsx(et,{chatId:i})}):null},nt=({item:s})=>{const{t:i}=_(E.Builder);return e.jsxs(d,{spacing:1,children:[e.jsx(C,{variant:"h4",children:i(o.ITEM_TAGS_TITLE)}),e.jsx(C,{children:i(o.ITEM_TAGS_PLACEHOLDER)}),e.jsx(xe,{item:s})]})},st=({item:s})=>{const{t:i}=_(E.Builder),{t:n}=_(E.Common),[t,T]=A.useState(!1),{data:r}=Z(s.id),{mutate:c}=D.usePutItemGeolocation(),a=A.useRef(null),l=A.useRef(null),L=A.useRef(null),O=A.useRef(null),x=()=>{T(!0)},R=()=>{T(!1)},J=()=>{const P=L.current?.value??r?.lat,k=O.current?.value??r?.lng;if(!P||!k){oe({type:"PUT_GEOLOCATION_ERROR",payload:{error:new Error(i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_ERROR))}});return}c({itemId:s.id,geolocation:{helperLabel:a.current?.value??r?.helperLabel,addressLabel:l.current?.value??r?.addressLabel,lat:+P,lng:+k}}),T(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"text",onClick:x,children:i(o.ITEM_GEOLOCATION_ADVANCED_BUTTON)}),e.jsxs(j,{onClose:R,open:t,scroll:"body",children:[e.jsx(g,{children:i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_TITLE)}),e.jsx(S,{children:e.jsxs(d,{gap:2,children:[e.jsx(d,{children:e.jsx($,{children:i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_DESCRIPTION)})}),e.jsxs(d,{direction:"row",gap:2,children:[e.jsx(d,{flexGrow:1,children:e.jsx(M,{inputRef:L,defaultValue:r?.lat,label:i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_LATITUDE_LABEL),type:"number",required:!0})}),e.jsx(d,{flexGrow:1,children:e.jsx(M,{inputRef:O,defaultValue:r?.lng,label:i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_LONGITUDE_LABEL),type:"number",required:!0})})]}),e.jsx(d,{children:e.jsx(M,{inputRef:l,label:i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_ADDRESS_LABEL),multiline:!0,type:"text",defaultValue:r?.addressLabel??void 0})}),e.jsx(d,{children:e.jsx(M,{inputRef:a,defaultValue:r?.helperLabel??void 0,multiline:!0,label:i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_SECONDARY_ADDRESS_LABEL),placeholder:i(o.ITEM_GEOLOCATION_ADVANCED_MODAL_SECONDARY_ADDRESS_PLACEHOLDER),type:"text"})})]})}),e.jsxs(h,{children:[e.jsx(N,{onClick:R,variant:"text",children:n("CANCEL.BUTTON_TEXT")}),e.jsx(N,{onClick:J,children:n("SAVE.BUTTON_TEXT")})]})]})]})},it=({item:s})=>{const{t:i}=_(E.Builder),{data:n}=Z(s.id),{mutate:t}=D.usePutItemGeolocation(),{mutate:T}=D.useDeleteItemGeolocation(),r=l=>{const{addressLabel:L,lat:O,lng:x,country:R}=l;t({itemId:s.id,geolocation:{addressLabel:L,lat:O,lng:x,country:R}})},c=()=>{T({itemId:s.id})},a=!!(n&&n?.item?.id!==s.id);return e.jsxs(d,{gap:1,children:[e.jsxs(f,{children:[e.jsx(C,{variant:"h4",children:i(o.ITEM_SETTINGS_GEOLOCATION_TITLE)}),e.jsx(C,{variant:"body1",children:i(o.ITEM_SETTINGS_GEOLOCATION_EXPLANATION)})]}),e.jsxs(d,{direction:"row",alignItems:"center",children:[e.jsx(Be,{useSuggestionsForAddress:fe,onChangeOption:r,initialValue:n?.addressLabel??void 0,disabled:a}),!a&&e.jsx(be,{title:i(o.ITEM_SETTINGS_GEOLOCATION_CLEAR),children:e.jsx(Ge,{onClick:c,children:e.jsx(Me,{})})})]}),a&&e.jsx(C,{variant:"caption",children:i(o.ITEM_SETTINGS_GEOLOCATION_INHERITED_EXPLANATION)}),e.jsx(st,{item:s})]})},rt=({handleSubmit:s,disableSubmission:i,handleBack:n})=>{const{t}=_(E.Builder);return e.jsxs(e.Fragment,{children:[e.jsx(S,{sx:{paddingX:3},children:e.jsx($,{children:t("ITEM_SETTINGS_CC_LICENSE_MODAL_CONTENT")})}),e.jsxs(h,{children:[e.jsx(N,{variant:"text",onClick:n,children:t("BACK")}),e.jsx(N,{onClick:s,disabled:i,children:t("CONFIRM_BUTTON")})]})]})},ot={border:"1px solid #eee",borderRadius:2,minWidth:300,alignItems:"center"},at=({open:s,setOpen:i,item:n})=>{const{t}=_(E.Builder),[T,r]=A.useState(!1),{handleSubmit:c,licenseForm:a,creativeCommons:l,requireAttributionValue:L}=pe({item:n,commonsSx:ot}),O=()=>{i(!1)},x=()=>{c(),i(!1)};return A.useEffect(()=>{s||r(!1)},[s]),e.jsxs(j,{open:s,transitionDuration:0,onClose:O,children:[e.jsx(g,{children:t("ITEM_SETTINGS_LICENSE_TITLE")}),T?e.jsx(rt,{handleSubmit:x,handleBack:()=>r(!1)}):e.jsxs(e.Fragment,{children:[e.jsx(S,{sx:{paddingX:3},children:a}),L&&e.jsx(f,{display:"flex",justifyContent:"center",children:l}),e.jsxs(h,{children:[e.jsx(m,{variant:"text",onClick:O,children:t("CANCEL_BUTTON")}),e.jsx(m,{variant:"text",disabled:!L,onClick:()=>r(!0),children:t("SAVE_BTN")})]})]})]})},lt=()=>{const{t:s}=_(E.Builder),[i,n]=A.useState(!1),{item:t}=G(),{allowSharing:T,allowCommercialUse:r,requireAccreditation:c}=A.useMemo(()=>De(t?.settings.ccLicenseAdaption??""),[t?.settings.ccLicenseAdaption]);return t?e.jsxs(e.Fragment,{children:[e.jsx(q,{title:s(o.ITEM_SETTINGS_CC_LICENSE_TITLE),icon:e.jsx(Qe,{}),inputSetting:e.jsx(N,{variant:"outlined",onClick:()=>n(!0),children:s(o.UPDATE_LICENSE)}),valueText:e.jsx("a",{href:ae,children:s(o.ITEM_SETTINGS_CC_LICENSE_MORE_INFORMATIONS)}),additionalInfo:t?.settings?.ccLicenseAdaption?e.jsx(je,{sx:{border:"1px solid #bbb",borderRadius:2,backgroundColor:"white"},requireAccreditation:c,allowSharedAdaptation:T,allowCommercialUse:r,iconSize:30}):void 0}),e.jsx(at,{open:i,setOpen:n,item:t})]}):null};function Tt({itemId:s,itemPath:i}){const{t:n}=_(E.Builder),{t}=_(E.Common),{isOpen:T,openModal:r,closeModal:c}=Q(),a=X(),{mutate:l}=b({...le(),onSuccess:async()=>{const O=K(W(i));a.removeQueries({queryKey:O}),await a.invalidateQueries({queryKey:z.single(s).content})}}),L=()=>{l({path:{id:s}}),c()};return e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"outlined",size:"small",sx:{ml:1},onClick:r,type:"button","aria-label":n("CONVERT_TO_CAPSULE_MODAL_TITLE"),children:n("CONVERT_TO_CAPSULE_MODAL_TITLE")}),e.jsxs(j,{onClose:c,open:T,children:[e.jsx(g,{children:n("CONVERT_TO_CAPSULE_MODAL_TITLE")}),e.jsxs(S,{children:[e.jsx("p",{children:n("CONVERT_TO_CAPSULE_MODAL_CONTENT")}),e.jsxs("p",{children:[n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.TITLE"),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.SIMPLIFIED_PERMISSIONS.TITLE")}),": ",n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.SIMPLIFIED_PERMISSIONS.DESCRIPTION")]}),e.jsxs("li",{children:[e.jsx("strong",{children:n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.INLINE_EDITOR.TITLE")}),": ",n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.INLINE_EDITOR.DESCRIPTION")]}),e.jsxs("li",{children:[e.jsx("strong",{children:n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.CLEAR_ROLES_AND_VIEWS.TITLE")}),": ",e.jsxs("ul",{children:[e.jsx("li",{children:n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.CLEAR_ROLES_AND_VIEWS.READERS")}),e.jsx("li",{children:n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.CLEAR_ROLES_AND_VIEWS.WRITERS_AND_ADMINS")})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.ACTIVITY_UNITY.TITLE")}),": ",n("CONVERT_TO_CAPSULE_MODAL_CONTENT_DETAILS.ACTIVITY_UNITY.DESCRIPTION")]})]})]})]}),e.jsxs(h,{children:[e.jsx(m,{onClick:c,children:t("CANCEL.BUTTON_TEXT")}),e.jsx(m,{type:"button",variant:"contained",onClick:L,"aria-label":n("CONVERT_TO_CAPSULE_MODAL_CONFIRM_BUTTON_ARIA_LABEL"),children:n("CONVERT_TO_CAPSULE_MODAL_CONFIRM_BUTTON")})]})]})]})}function ct({itemId:s,itemPath:i}){const{t:n}=_(E.Builder),{t}=_(E.Common),{isOpen:T,openModal:r,closeModal:c}=Q(),a=X(),{mutate:l}=b({...Te(),onSuccess:async()=>{const O=K(W(i));a.removeQueries({queryKey:O}),await a.invalidateQueries({queryKey:z.single(s).content})}}),L=()=>{l({path:{id:s}}),c()};return e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"outlined",size:"small",sx:{ml:1},onClick:r,type:"button","aria-label":n("CONVERT_TO_FOLDER_MODAL_TITLE"),children:n("CONVERT_TO_FOLDER_MODAL_TITLE")}),e.jsxs(j,{onClose:c,open:T,children:[e.jsx(g,{children:n("CONVERT_TO_FOLDER_MODAL_TITLE")}),e.jsxs(S,{children:[e.jsx("p",{children:n("CONVERT_TO_FOLDER_MODAL_CONTENT")}),e.jsxs("p",{children:[e.jsx("strong",{children:n("CONVERT_TO_FOLDER_MODAL_CONTENT_DETAILS.TITLE")}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:n("CONVERT_TO_FOLDER_MODAL_CONTENT_DETAILS.FLEXIBLE_PERMISSIONS.TITLE")}),": ",n("CONVERT_TO_FOLDER_MODAL_CONTENT_DETAILS.FLEXIBLE_PERMISSIONS.DESCRIPTION")]}),e.jsxs("li",{children:[e.jsx("strong",{children:n("CONVERT_TO_FOLDER_MODAL_CONTENT_DETAILS.FOLDER_EDITOR.TITLE")}),": ",n("CONVERT_TO_FOLDER_MODAL_CONTENT_DETAILS.FOLDER_EDITOR.DESCRIPTION")]}),e.jsxs("li",{children:[e.jsx("strong",{children:n("CONVERT_TO_FOLDER_MODAL_CONTENT_DETAILS.EXPANDED_VISIBILITY.TITLE")}),": ",n("CONVERT_TO_FOLDER_MODAL_CONTENT_DETAILS.EXPANDED_VISIBILITY.DESCRIPTION")]})]})]})]}),e.jsxs(h,{children:[e.jsx(m,{onClick:c,children:t("CANCEL.BUTTON_TEXT")}),e.jsx(m,{variant:"contained",onClick:L,"aria-label":n("CONVERT_TO_FOLDER_MODAL_CONFIRM_BUTTON_ARIA_LABEL"),children:n("CONVERT_TO_FOLDER_MODAL_CONFIRM_BUTTON")})]})]})]})}const{useMember:_t}=w,Et=()=>{const{t:s,i18n:i}=_(E.Builder),{t:n}=_(E.Common),{item:t}=G(),{data:T}=_t(t?.creator?.id);let r=null,c=null;if(t.type==="file"){const l=He(t.extra);c=l?.mimetype,r=l?.size}const a=()=>{const l=L=>e.jsxs(u,{children:[e.jsx(I,{align:"left",children:s(o.ITEM_METADATA_LINK_TITLE)}),e.jsx(I,{align:"right",children:L})]});return t.type==="app"?l(t.extra.app.url):t.type==="embeddedLink"?l(t.extra.embeddedLink.url):null};return e.jsx(f,{children:e.jsxs(Fe,{sx:{boxSizing:"border-box"},children:[e.jsx(C,{variant:"h5",id:ce,noWrap:!0,children:t.name}),e.jsx(ve,{id:_e,size:"small","aria-label":s(o.ITEM_METADATA_TITLE),children:e.jsxs(ye,{children:[e.jsxs(u,{children:[e.jsx(I,{component:"th",scope:"row",children:s(o.ITEM_METADATA_TYPE_TITLE)}),e.jsxs(I,{align:"right",children:[c??Pe(t),e.jsx(Ee,{children:t.type==="folder"&&(ke(t)?e.jsx(ct,{itemPath:t.path,itemId:t.id}):e.jsx(Tt,{itemPath:t.path,itemId:t.id}))})]})]}),r&&e.jsxs(u,{children:[e.jsx(I,{component:"th",scope:"row",children:s(o.ITEM_METADATA_SIZE_TITLE)}),e.jsx(I,{align:"right",children:Ue(r)})]}),e.jsxs(u,{children:[e.jsx(I,{align:"left",children:s(o.ITEM_METADATA_CREATOR_TITLE)}),e.jsx(I,{align:"right",children:T?.name})]}),e.jsxs(u,{children:[e.jsx(I,{align:"left",children:s(o.ITEM_METADATA_CREATED_AT_TITLE)}),e.jsx(I,{align:"right",children:V(t.createdAt,{locale:i.language,defaultValue:n("UNKNOWN_DATE")})})]}),e.jsxs(u,{children:[e.jsx(I,{align:"left",children:s(o.ITEM_METADATA_UPDATED_AT_TITLE)}),e.jsx(I,{align:"right",children:V(t.updatedAt,{locale:i.language,defaultValue:n("UNKNOWN_DATE")})})]}),a(),e.jsxs(u,{children:[e.jsx(I,{align:"left",children:s(o.ITEM_METADATA_LANGUAGE_TITLE)}),e.jsx(I,{align:"right",children:e.jsx(ge,{item:t})})]})]})})]})})},dt=({item:s})=>{const{t:i}=_(E.Builder),{mutate:n}=D.useEditItem(),{settings:t}=s,T=l=>{l?.target?.checked!==t?.showLinkIframe?n({id:s.id,name:s.name,settings:{showLinkIframe:l.target.checked}}):console.error(`Value ${l?.target?.checked} is invalid`)},r=l=>{l?.target?.checked!==t?.showLinkButton?n({id:s.id,name:s.name,settings:{showLinkButton:l.target.checked}}):console.error(`Value ${l?.target?.checked} is invalid`)},c=()=>{const l=e.jsx(v,{id:de,onChange:T,checked:!!(t?.showLinkIframe??Ie),color:"primary"});return e.jsx(y,{label:i(o.SETTINGS_LINK_SHOW_IFRAME),control:l})},a=()=>{const l=e.jsx(v,{id:Le,onChange:r,checked:!!(t?.showLinkButton??Ce),color:"primary"});return e.jsx(y,{label:i(o.SETTINGS_LINK_SHOW_BUTTON),control:l})};return e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"h6",m:0,p:0,children:i(o.SETTINGS_LINK_SETTINGS_TITLE)}),e.jsx(C,{variant:"body1",children:i(o.SETTINGS_LINK_SETTINGS_INFORMATIONS)}),e.jsxs(Ke,{children:[c(),a()]})]})},It=!1,Lt=!0,Ct=({item:s})=>{const{t:i}=_(E.Builder),{mutate:n}=D.useEditItem(),{settings:t}=s,T=(a,l)=>{n({id:s.id,name:s.name,settings:{[a]:l}})},r=(a,l)=>{T(l,a.target.checked)},c=()=>{switch(s.type){case"embeddedLink":return e.jsx(dt,{item:s});case"file":return e.jsxs(e.Fragment,{children:[e.jsx(We,{item:s,variant:U.List}),e.jsx(ze,{item:s,variant:U.List})]});case"app":return e.jsx(p,{id:me,title:i("ITEM_SETTINGS_RESIZABLE_ENABLED_TEXT"),checked:!!(t?.isResizable||It),onClick:a=>{r({target:{checked:a}},"isResizable")},valueText:t?.isResizable?i("ITEM_SETTINGS_RESIZABLE_ENABLED_TEXT"):i("ITEM_SETTINGS_RESIZABLE_DISABLED_TEXT")});default:return null}};return e.jsxs(d,{direction:"column",gap:2,children:[e.jsx(p,{title:i("ITEM_SETTINGS_IS_COLLAPSED_TITLE"),icon:e.jsx(we,{type:F.ICON,item:s}),checked:!!t.isCollapsible,disabled:s.type==="folder",onClick:a=>{r({target:{checked:a}},"isCollapsible")},valueText:s.type==="folder"?i("SETTINGS_COLLAPSE_FOLDER_INFORMATION"):t.isCollapsible?i("ITEM_SETTINGS_IS_COLLAPSED_ENABLED_TEXT"):i("ITEM_SETTINGS_IS_COLLAPSED_DISABLED_TEXT")}),e.jsx(p,{id:Oe,icon:e.jsx(Xe,{isPinned:!!t.isPinned,type:F.ICON}),title:i("ITEM_SETTINGS_IS_PINNED_TITLE"),checked:!!t.isPinned,onClick:a=>{r({target:{checked:a}},"isPinned")},valueText:t.isPinned?i("ITEM_SETTINGS_IS_PINNED_ENABLED_TEXT"):i("ITEM_SETTINGS_IS_PINNED_DISABLED_TEXT")}),e.jsx(Ve,{item:s}),e.jsx(p,{id:Ae,title:i("ITEM_SETTINGS_SHOW_CHAT_TITLE"),icon:t.showChatbox?e.jsx(Y,{}):e.jsx(qe,{}),checked:!!t.showChatbox,onClick:a=>{r({target:{checked:a}},"showChatbox")},valueText:t.showChatbox?i("ITEM_SETTINGS_SHOW_CHAT_ENABLED_TEXT"):i("ITEM_SETTINGS_SHOW_CHAT_DISABLED_TEXT")}),e.jsx(p,{id:Ne,title:i("SETTINGS_SAVE_ACTIONS"),icon:e.jsx(Ze,{}),checked:!!(t?.enableSaveActions??Lt),onClick:a=>{r({target:{checked:a}},"enableSaveActions")},valueText:"Coming soon",disabled:!0}),c()]})},Ot=120,At=({item:s})=>{const{t:i}=_(E.Builder),[n,t]=A.useState(!!s.thumbnails),T=r=>{switch(r){case B.ON_UPLOADING:case B.ON_HAS_THUMBNAIL:t(!0);break;case B.ON_NO_THUMBNAIL:t(!1);break}};return e.jsxs(d,{alignItems:"center",spacing:2,children:[e.jsx(Re,{item:s,thumbnailSize:Ot,onChange:T}),!n&&e.jsx(C,{variant:"caption",children:i(o.SETTINGS_THUMBNAIL_SETTINGS_INFORMATIONS)})]})};function Yn(){const{itemId:s}=ue.useParams(),{canWrite:i,item:n}=G();return i?e.jsxs(d,{gap:4,mb:4,children:[e.jsx(At,{item:n}),e.jsx(Et,{}),e.jsx(nt,{item:n}),e.jsx(Ct,{item:n}),e.jsx(tt,{item:n}),e.jsx(lt,{}),e.jsx(it,{item:n})]}):e.jsx(Se,{to:"/builder/items/$itemId",params:{itemId:s},replace:!0})}export{Yn as component};
