import{w as E,x as k,r as D,z as O,j as e,s as W,B as U,E as F,i as H,aW as L,S as m,T as c,aY as M,b as I,N as v,f7 as N,f6 as P}from"./index-B_BHgQQY.js";import{T as G}from"./Thumbnail-CeEWDJof.js";import{I as B}from"./ItemIcon-aRVTEBTL.js";import{B as T}from"./Box-CXXiFbSb.js";import{G as d}from"./Grid-DwBZvdO2.js";import{C as Y}from"./Card-Rs4ggG5A.js";import{T as $}from"./TextDisplay-DKy1jHXb.js";import{g as K}from"./capsule-ocBuEWIN.js";import{f as V}from"./date-BPVbmzn6.js";import{g as q}from"./linkItem-VVVu8jA7.js";function J(t){return E("MuiCardActions",t)}k("MuiCardActions",["root","spacing"]);const Q=t=>{const{classes:n,disableSpacing:s}=t;return F({root:["root",!s&&"spacing"]},J,n)},X=W("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,!s.disableSpacing&&n.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Z=D.forwardRef(function(n,s){const i=O({props:n,name:"MuiCardActions"}),{disableSpacing:r=!1,className:l,...o}=i,x={...i,disableSpacing:r},h=Q(x);return e.jsx(X,{className:U(h.root,l),ownerState:x,ref:s,...o})}),A=({thumbnail:t,alt:n,width:s,minHeight:i,type:r="folder"})=>{const l=H();return t?e.jsx(G,{url:t,alt:n,maxHeight:"100%",maxWidth:s}):e.jsx(T,{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:L.main,width:s,height:"100%",flexShrink:0,minHeight:i,minWidth:0,children:e.jsx(B,{type:r,alt:n,color:l.palette.primary.main})})},ee=130,te=["elevation","fullWidth","isSelected","isOver"],R=W(Y,{shouldForwardProp:t=>!te.includes(t)})(({theme:t,elevation:n,fullWidth:s,isOver:i,isSelected:r})=>({borderRadius:t.spacing(1),boxShadow:n?t.shadows[2]:"0px 2px 2px #eeeeee",width:s?"100%":"max-content",maxWidth:"100%",outline:i||r?`2px solid ${M}`:"none"}));function se({footer:t,id:n,creator:s,height:i,name:r,sx:l,dense:o,thumbnail:x,menu:h,fullWidth:g=!1,elevation:y=!0,content:j,alt:b,CardLink:p=({children:a})=>e.jsx(e.Fragment,{children:a}),type:S,isOver:u=!1,isDragging:w=!1,isSelected:f=!1,className:C,onThumbnailClick:z}){let a=i;return a||(a=o?60:ee),o?e.jsx(R,{elevation:y&&!w,id:n,className:C,sx:l,fullWidth:g,isOver:u,isSelected:f,children:e.jsxs(m,{sx:{height:a,boxSizing:"border-box"},direction:"row",gap:1,alignItems:"center",mr:1,children:[e.jsx(T,{onClick:z,height:"100%",children:e.jsx(A,{width:a,minHeight:a,thumbnail:x,alt:b,type:S})}),e.jsxs(d,{container:!0,minWidth:0,width:"100%",sx:{mt:0},boxSizing:"border-box",marginTop:1,justifyContent:"space-between",alignItems:"center",children:[e.jsx(d,{size:{xs:9,sm:5,md:5},justifyContent:"space-between",alignItems:"start",boxSizing:"border-box",children:e.jsx(p,{children:e.jsxs(m,{minWidth:0,children:[e.jsx(c,{noWrap:!0,variant:o?"h5":"h3",children:r}),s&&e.jsx(c,{noWrap:!0,variant:o?"caption":"body1",color:"text.secondary",children:s})]})})}),e.jsx(d,{size:{sm:4,xs:0,md:5},display:{xs:"none",sm:"block"},children:e.jsx(p,{children:j})}),e.jsx(d,{size:{xs:3,sm:3,md:2},justifyContent:"flex-end",children:e.jsxs(Z,{sx:{p:0,justifyContent:"flex-end"},children:[e.jsx(m,{width:"100%",alignItems:"end",direction:"row",justifyContent:"flex-end",alignContent:"center",display:{xs:"none",sm:"block"},children:t}),h]})})]})]})}):e.jsx(R,{isOver:u,id:n,sx:l,fullWidth:g,className:C,children:e.jsxs(m,{sx:{height:a,boxSizing:"border-box"},direction:"row",gap:2,children:[e.jsx(A,{width:a,minHeight:a,thumbnail:x,alt:b}),e.jsxs(m,{direction:"column",minWidth:0,width:"100%",boxSizing:"border-box",marginTop:1,children:[e.jsxs(m,{direction:"row",justifyContent:"space-between",alignItems:"start",boxSizing:"border-box",children:[e.jsx(p,{children:e.jsxs(m,{minWidth:0,direction:"column",children:[e.jsx(c,{noWrap:!0,variant:o?"h5":"h3",children:r}),s&&e.jsx(c,{noWrap:!0,variant:o?"caption":"body1",color:"text.secondary",children:s})]})}),h]}),e.jsx(c,{justifySelf:"start",position:"relative",minHeight:0,flexShrink:1,flexGrow:1,variant:"caption",color:"textSecondary",sx:{mr:1,overflow:"hidden","&:before":{content:'""',width:"100%",height:"30px",position:"absolute",left:"0px",bottom:"0px",background:_=>`linear-gradient(transparent 10px, ${_.palette.background.paper})`}},children:j}),t]})]})})}const he=({item:t,footer:n,dense:s=!0,isDragging:i=!1,isOver:r=!1,isSelected:l=!1,disabled:o,menu:x,thumbnailUrl:h,onThumbnailClick:g,CardLink:y})=>{const{t:j,i18n:b}=I(v.Common),{t:p}=I(v.Enums),S=C=>V(C,{locale:b.language,defaultValue:j("UNKNOWN_DATE")}),u=K(t),w=e.jsx(d,{container:!0,height:"100%",justifyContent:"flex-start",alignItems:"center",pl:1,children:s?e.jsxs(e.Fragment,{children:[e.jsx(d,{size:{xs:12,sm:12,md:6},children:e.jsx(c,{variant:"caption",children:p(u)})}),e.jsx(d,{size:{xs:12,sm:12,md:6},children:e.jsx(c,{variant:"caption",children:S(t.updatedAt)})})]}):e.jsx(d,{size:12,children:e.jsx(c,{variant:"caption",children:e.jsx($,{content:t.description??""})})})});let f=h;return!f&&t.type==="embeddedLink"&&(f=q(t.extra)),e.jsx(T,{"data-id":t.id,children:e.jsx(se,{onThumbnailClick:g,className:P,id:N(t.id),sx:{background:o?"lightgrey":void 0},dense:s,elevation:!1,thumbnail:f,name:t.name,alt:t.name,type:u,footer:n,creator:t.creator?.name,content:w,fullWidth:!0,menu:x,isDragging:i,isOver:r,isSelected:l,CardLink:y})})};export{he as I};
