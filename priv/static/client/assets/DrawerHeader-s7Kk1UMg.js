import{b as ku,C as v0}from"./withResizing-Bmu3xIGc.js";import{v as Vo,j as D,r as P,h as Ep,k as C0,gi as A0,gj as T0,gk as D0,gl as Fs,b as Vt,N as qt,c3 as us,gm as I0,m as vl,gn as F0,y as Cl,go as O0,gp as N0,f as L0,s as Pe,T as Ot,gq as Gr,bF as fe,dq as M0,i as vp,fA as _u,bE as Cp,B as Ap,gr as Tp,S as St,gs as P0,I as xa,ez as R0,gt as B0,F as z0,gu as j0}from"./index-B_BHgQQY.js";import{e as $0,b as U0,d as W0,i as H0,f as K0,s as V0,g as q0,h as G0,A as Y0,j as J0,k as X0,l as Z0,n as Q0}from"./Avatar-DCfOgV-R.js";import{D as e1}from"./Divider-DwBPlmwR.js";import{P as t1}from"./pen-DzBOH2fN.js";import{I as qo}from"./IconButton-t5WdCoTE.js";import{X as n1}from"./x-B2OknFaz.js";import{B as qe}from"./Box-CXXiFbSb.js";import{c as Dp,S as r1}from"./createSvgIcon-CR_wPvPv.js";import{P as H}from"./index-Du_uXtnU.js";import{g as i1}from"./index-CAxbq8YW.js";import{g as Ip}from"./langs-C5VEx8tQ.js";import{t as s1}from"./index-BzmWlSRn.js";import{f as Fp}from"./format-C1rEO6Ru.js";import{M as o1}from"./Menu-C45l_y2r.js";import{M as Fi}from"./MenuItem-i4R53H8t.js";import{E as l1}from"./Edit-CA3IAl03.js";import{L as gf}from"./ListItemText-Db53d-gu.js";import{D as a1}from"./Delete-I6zc3GRu.js";import{L as u1}from"./ListItemIcon-BTN91sVG.js";import{L as c1,c as f1,F as d1,g as h1,w as p1,I as g1}from"./LinkUrlField-BcIiYqG0.js";import{S as m1}from"./TextField-CCzZwtaB.js";import{L as y1}from"./link-nLlUeqkm.js";import{u as b1,F as x1}from"./index.esm-D6N0kWEX.js";import{D as w1,a as k1}from"./DialogContent-BLGJ1kXP.js";import{B as Ai}from"./Button-4ORflwU5.js";import{D as _1}from"./DialogActions-B4c7iV3e.js";import{A as Op}from"./Alert-af15MLjr.js";import{S as Np}from"./Skeleton-Bf_dEhrE.js";import{L as S1}from"./Link-DLKBSA2n.js";import{d as E1}from"./differenceInSeconds-DNsH8fUT.js";import{T as Lp}from"./TextDisplay-DKy1jHXb.js";import{S as v1,U as C1,a as A1}from"./constants-CyQbYbhY.js";import{D as T1}from"./download-C1DwLYTP.js";import{F as D1}from"./ItemIcon-aRVTEBTL.js";import{M as Ir,g as I1}from"./fileItem-Bbp5pYua.js";import{M as Os}from"./mimeTypes-Bpmm_hmI.js";import{f as F1}from"./fileSize-Ct-TZ2my.js";import{v as Mp}from"./validate-DVgNBRRM.js";import{T as O1}from"./Thumbnail-CeEWDJof.js";import{u as N1}from"./index-CVpgN-ou.js";import{C as L1}from"./chevron-right-CtTm1uPZ.js";function M1(t){if(!Mp(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}const _L=t=>t?`https://${t}/pdf-viewer/web/viewer.html?file=`:"",SL=t=>{{console.debug("No assets url provided");return}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],R1=Vo("chevron-left",P1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]],z1=Vo("fullscreen",B1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],$1=Vo("rectangle-horizontal",j1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],W1=Vo("square-arrow-out-up-right",U1),H1=Dp(D.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),K1=Dp(D.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}));function Wi(t){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(t)}function V1(t,e){if(Wi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1(t){var e=V1(t,"string");return Wi(e)=="symbol"?e:e+""}function Hi(t,e,n){return(e=q1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const G1=64,Y1=16,J1="Anonymous",X1="Unknown",Z1=30,mf=400,Q1="dd MMMM yyyy",ex=30,yf=30,wa={open:!1,id:"",body:""},tx="#b9b9ed",Go="00000000-0000-4000-8000-000000000000",Pp="all",nx={id:Go,display:Pp},rx={id:Go,name:Pp},Rp=P.createContext({open:!1,body:"",messageId:"",editing:wa,enableEdit:()=>null,cancelEdit:()=>null}),ix=({children:t})=>{const[e,n]=P.useState(wa),r=e.open,i=e.body,s=e.id,o=(a,u)=>n({id:a,open:!0,body:u}),l=()=>n(wa);return D.jsx(Rp.Provider,{value:{open:r,body:i,messageId:s,editing:e,enableEdit:o,cancelEdit:l},children:t})},Yo=()=>P.useContext(Rp),Bp=P.createContext({itemId:"",members:[]}),sx=({children:t,messages:e,itemId:n})=>{const{data:r}=Ep.useItemMemberships(n),i=r?.map(({account:o})=>o),s={messages:e,members:i??[],itemId:n};return D.jsx(Bp.Provider,{value:s,children:t})},Su=()=>P.useContext(Bp);function Eu({itemId:t}){const{t:e}=Vt(qt.Builder,{keyPrefix:"CHATBOX"}),n=us(I0({path:{itemId:t}})),{mutate:r}=vl({...F0(),onError:()=>{Cl.error(e("SEND_MESSAGE_ERROR"))}}),{mutate:i}=vl({...O0(),onError:()=>{Cl.error(e("EDIT_MESSAGE_ERROR"))}}),{mutate:s}=vl({...N0(),onError:()=>{Cl.error(e("DELETE_MESSAGE_ERROR"))}});return{...n,sendMessage:r,editMessage:i,deleteMessage:s}}const ox=(t,e)=>{const n=C0();P.useEffect(()=>{if(!e||!t)return()=>{};const r={name:e,topic:A0.CHAT_ITEM},i=s=>{if(s.kind===T0.ITEM){const o=D0({path:{itemId:e}}),l=n.getQueryData(o),{message:a}=s;if(l)switch(s.op){case Fs.PUBLISH:{n.setQueryData(o,[...l,a]);break}case Fs.UPDATE:{const u=l.findIndex(c=>c.id===s.message.id);if(u>=0){const c=[...l.slice(0,u),a,...l.slice(u+1)];n.setQueryData(o,c)}break}case Fs.DELETE:{const u=l.findIndex(c=>c.id===a.id);if(u>=0){const c=[...l.slice(0,u),...l.slice(u+1)];n.setQueryData(o,c)}break}case Fs.CLEAR:{n.setQueryData(o,[]);break}}}};return t.subscribe(r,i),function(){t.unsubscribe(r,i)}})},lx=t=>/<!@(?<id>[\da-f]{8}-[\da-f]{4}-4[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12})>/i.exec(t),ax=t=>{const e=/`<!@([\da-f]{8}-[\da-f]{4}-4[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12})>\[([\s\w]+)\]`/gi;return t.replace(e,"@$2")},ux="`<!@__id__>[__display__]`",cx=Pe(qe)({display:"flex",flexDirection:"row",alignItems:"center"}),fx=Pe(qe)({display:"flex",flexDirection:"column",alignItems:"left",width:"100%",minWidth:"0px"}),dx=Pe(Ot)(({theme:t})=>({color:t.palette.primary.main})),hx=Pe(r1)(({theme:t})=>({margin:t.spacing(1)}));function px({onClose:t,editedText:e}){const{open:n}=Yo(),{color:r}=L0("error"),{t:i}=Vt(qt.Chatbox);return n?D.jsxs(D.Fragment,{children:[D.jsx(e1,{}),D.jsxs(cx,{"data-cy":$0,children:[D.jsx(hx,{fontSize:"small",color:"primary",children:D.jsx(t1,{})}),D.jsxs(fx,{children:[D.jsx(dx,{variant:"subtitle2",children:i("EDITING_MESSAGE_LABEL")}),D.jsx(Ot,{noWrap:!0,"data-cy":U0,children:ax(e)})]}),D.jsx(qo,{"data-cy":W0,onClick:t,children:D.jsx(n1,{color:r})})]})]}):null}function gx(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function mx(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function yx(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function uo(t){return gx(t)||mx(t)||yx()}function Et(){return Et=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Et.apply(this,arguments)}function bx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wx(t,e,n){return e&&xx(t.prototype,e),t}function se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ka(t,e){return ka=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ka(t,e)}function kx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ka(t,e)}function Br(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Br=function(n){return typeof n}:Br=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Br(t)}function Ys(t){return typeof Symbol=="function"&&Br(Symbol.iterator)==="symbol"?Ys=function(n){return Br(n)}:Ys=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":Br(n)},Ys(t)}function _x(t,e){return e&&(Ys(e)==="object"||typeof e=="function")?e:se(t)}function co(t){return co=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},co(t)}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sx(t){if(Array.isArray(t))return t}function Ex(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(a){i=!0,s=a}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}function vx(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function fo(t,e){return Sx(t)||Ex(t,e)||vx()}function Cx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ax(t,e){if(t==null)return{};var n=Cx(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _a(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tx(t){if(Array.isArray(t))return _a(t)}function Dx(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ix(t,e){if(t){if(typeof t=="string")return _a(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_a(t,e):void 0}}function Fx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dn(t){return Tx(t)||Dx(t)||Ix(t)||Fx()}var li=function(e){return e===Object(e)?Object.keys(e):[]},zp=function(e){return e===Object(e)?Object.values(e):[]};function jp(t,e){var n=Object.assign({},t);return Js(t)&&Js(e)&&li(e).forEach(function(r){Js(e[r])?r in t?n[r]=jp(t[r],e[r]):Object.assign(n,Hi({},r,e[r])):Object.assign(n,Hi({},r,e[r]))}),n}var Sa=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(function(s,o){return jp(s,o)},e)},Ox=function(e,n){var r=Object.assign({},e);if(n)for(var i=0;i<n.length;i++)delete r[n[i]];return r},Js=function(e){return e===Object(e)&&!(e instanceof Date)&&!Array.isArray(e)},Nx=function(e){return(e||[]).filter(Boolean)},vu=function(e){return e[0]==="&"},Lx=function(e){return!vu(e)},bf=function(e){return e.replace(/-(\w)/g,function(n,r){return r.toUpperCase()})},Mx=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=li(e),i={},s=0,o=r.length;s<o;s+=1){var l=r[s],a=Object.prototype.toString.call(e[l])!=="[object Object]"||l[0]===":"||l[0]==="@"||n.indexOf(l)>=0;a&&(i[l]=e[l])}return i},$p=function(e,n){for(var r=n.map(bf),i=li(e),s={},o=0,l=i.length;o<l;o+=1){var a=i[o];(n.indexOf(a)>=0||r.indexOf(bf(a))>=0)&&(s[a]=e[a])}return s},Px=function t(e,n){for(var r=Sa.apply(void 0,[{},Ox(e,n)].concat(dn(zp($p(e,n))))),i=li(r).filter(vu),s=0,o=i.length;s<o;s+=1){var l=i[s],a=t(r[l],n);n.indexOf(l)>=0?(delete r[l],r=Sa({},r,a)):r[l]=a}return r};function xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xf(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Rx=["animationName"],Up=function(e){var n=e.style,r=e.className;return wf(wf({},n?{style:Mx(n,Rx)}:{}),r?{className:r}:{})},Wp=P.createContext(Up);Wp.Provider;var Hp=function(e){if(e){if(typeof e=="string")return[e];if(!Array.isArray(e)){var n=e;return li(e).reduce(function(r,i){return r.concat(n[i]?[i]:[])},[])}}else return[];return e},Bx={},zx=function(e){return function(n,r){var i=r||Bx;e.memoize=e.memoize||new WeakMap;var s;e.memoize.has(i)?s=e.memoize.get(i):(s={},e.memoize.set(i,s));var o=Hp(n).join(" ");return o in s?s[o]:s[o]=e(n||[],r)}};function kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kf(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var jx=function(e){var n=e&&li(e)[0];return n&&n.split("__")[0].split("--")[0]},$x=function(e,n,r){if(e){var i=e.split(" ")[0],s=[].concat(dn(n.length===0?r.map(function(o){return"".concat(i,"--").concat(o.substring(1))}):[]),dn(n.map(function(o){return"".concat(i,"__").concat(o)})));return n.length===0?[e].concat(dn(s)):s}};function Kp(t){var e=t.style,n=t.className,r=t.classNames,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Up,s=n||jx(r)||e?.className,o=typeof e=="function"?e:zx(function(f,d){var h=Hp(f);Gr(Array.isArray(h),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),Gr(!d||Js(d),"Optional second parameter must be a plain object.");var p=h.filter(vu),g=h.filter(Lx),m=g.length>0?function(x){return zp($p(x,g))}:function(x){return[x]},y=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m(Px(k,p))},b=$x(s,g,p);return Kp(vr(vr(vr({},(e||d)&&{style:Sa.apply(void 0,[{}].concat(dn(y(d)),dn(y(e))))}),b&&{className:b.join(" ")}),r&&{classNames:r}),i)}),l=vr({},typeof e=="function"?e:{style:e}),a=dn(new Set([].concat(dn(l.className?l.className.split(" "):[]),dn(s?s.split(" "):[])))),u=r?Nx(a.map(function(f){return r[f]})):a,c=i(vr(vr({},l),u.length>0?{className:u.join(" ")}:{}));return Object.assign(o,c),o}function _f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_f(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ux=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce(function(i,s){return xi(xi(xi({},i),typeof s=="function"?s:{}),{},{style:xi(xi({},i.style),typeof s=="function"?s.style:s)})},{})},Cu=function(e,n,r){var i=n.style,s=n.className,o=n.classNames,l=P.useContext(Wp),a=P.useMemo(function(){return Kp({style:i,className:s,classNames:o},l)},[i,s,o,l]);return a(r,e)},Xs=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},$t={id:"__id__",display:"__display__"},Sf=function(e,n){Gr(n==="id"||n==="display",'Second arg must be either "id" or "display", got: "'.concat(n,'"'));var r=e.indexOf($t.display),i=e.indexOf($t.id);return r<0&&(r=null),i<0&&(i=null),Gr(r!==null||i!==null,"The markup '".concat(e,"' does not contain either of the placeholders '__id__' or '__display__'")),r!==null&&i!==null?n==="id"&&i<=r||n==="display"&&r<=i?0:1:0},Wx=function(e){var n=/^\/(.+)\/(\w+)?$/;return new RegExp(e.map(function(r){var i=n.exec(r.toString()),s=fo(i,3),o=s[1],l=s[2];return Gr(!l,"RegExp flags are not supported. Change /".concat(o,"/").concat(l," into /").concat(o,"/")),"(".concat(o,")")}).join("|"),"g")},Vp=function(e){var n=0;return e.indexOf("__id__")>=0&&n++,e.indexOf("__display__")>=0&&n++,n},Hx=function(){},cs=function(e,n,r){for(var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Hx,s=Wx(n.map(function(S){return S.regex})),o=2,l=n.map(function(S){var w=S.markup,A=o;return o+=Vp(w)+1,A}),a,u=0,c=0;(a=s.exec(e))!==null;){var f=l.find(function(S){return!!a[S]}),d=l.indexOf(f),h=n[d],p=h.markup,g=h.displayTransform,m=f+Sf(p,"id"),y=f+Sf(p,"display"),b=a[m],x=g(b,a[y]),k=e.substring(u,a.index);i(k,u,c),c+=k.length,r(a[0],a.index,c,b,x,d,u),c+=x.length,u=s.lastIndex}u<e.length&&i(e.substring(u),u,c)},Jn=function(e,n){var r="";return cs(e,n,function(i,s,o,l,a){r+=a},function(i){r+=i}),r},tt=function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"START";if(typeof r!="number")return r;var s,o=function(u,c,f){s===void 0&&f+u.length>=r&&(s=c+r-f)},l=function(u,c,f,d,h,p,g){s===void 0&&f+h.length>r&&(i==="NULL"?s=null:s=c+(i==="END"?u.length:0))};return cs(e,n,l,o),s===void 0?e.length:s},Oi=function(e,n,r,i){return e.substring(0,n)+i+e.substring(r)},Kx=function(e,n,r,i){var s=r.selectionStartBefore,o=r.selectionEndBefore,l=r.selectionEndAfter,a=Jn(e,i),u=a.length-n.length;s==="undefined"&&(s=l+u),o==="undefined"&&(o=s),s===o&&o===l&&a.length===n.length&&(s=s-1);var c=n.slice(s,l),f=Math.min(s,l),d=o;s===l&&(d=Math.max(o,s+u));var h=tt(e,i,f,"START"),p=tt(e,i,d,"END"),g=tt(e,i,f,"NULL"),m=tt(e,i,d,"NULL"),y=g===null||m===null,b=Oi(e,h,p,c);if(!y){var x=Jn(b,i);if(x!==n){for(f=0;n[f]===x[f];)f++;c=n.slice(f,l),d=a.lastIndexOf(n.substring(l)),h=tt(e,i,f,"START"),p=tt(e,i,d,"END"),b=Oi(e,h,p,c)}}return b},Ef=function(e,n,r){var i=r,s=!1,o=function(a,u,c,f,d,h,p){c<=r&&c+d.length>r&&(i=c,s=!0)};if(cs(e,n,o),s)return i},Ti=function(e,n){var r=[];return cs(e,n,function(i,s,o,l,a,u,c){r.push({id:l,display:a,childIndex:u,index:s,plainTextIndex:o})}),r},qp=function(e,n){return"".concat(e,"-").concat(n)},Ns=function(e){return Object.values(e).reduce(function(n,r){var i=r.results;return n+i.length},0)},Vx=function(e,n){var r=Ti(e,n),i=r[r.length-1];return i?i.plainTextIndex+i.display.length:0},qx=function(e){var n=Xs(e),r=e[e.indexOf($t.display)+$t.display.length],i=e[e.indexOf($t.id)+$t.id.length];return new RegExp(n.replace($t.display,"([^".concat(Xs(r||""),"]+?)")).replace($t.id,"([^".concat(Xs(i||""),"]+?)")))},Cn=function(e){return P.Children.toArray(e).map(function(n){var r=n.props,i=r.markup,s=r.regex,o=r.displayTransform;return{markup:i,regex:s?Gx(s,i):qx(i),displayTransform:o||function(l,a){return a||l}}})},Gx=function(e,n){var r=new RegExp(e.toString()+"|").exec("").length-1,i=Vp(n);return Gr(r===i,"Number of capturing groups in RegExp ".concat(e.toString()," (").concat(r,") does not match the number of placeholders in the markup '").concat(n,"' (").concat(i,")")),e},Yx=function(e,n,r){return e.replace($t.id,n).replace($t.display,r)},Jx=[{base:"A",letters:/(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F])/g},{base:"AA",letters:/(&#42802;|[\uA732])/g},{base:"AE",letters:/(&#198;|&#508;|&#482;|[\u00C6\u01FC\u01E2])/g},{base:"AO",letters:/(&#42804;|[\uA734])/g},{base:"AU",letters:/(&#42806;|[\uA736])/g},{base:"AV",letters:/(&#42808;|&#42810;|[\uA738\uA73A])/g},{base:"AY",letters:/(&#42812;|[\uA73C])/g},{base:"B",letters:/(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181])/g},{base:"C",letters:/(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E])/g},{base:"D",letters:/(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0])/g},{base:"DZ",letters:/(&#497;|&#452;|[\u01F1\u01C4])/g},{base:"Dz",letters:/(&#498;|&#453;|[\u01F2\u01C5])/g},{base:"E",letters:/(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E])/g},{base:"F",letters:/(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B])/g},{base:"G",letters:/(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E])/g},{base:"H",letters:/(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D])/g},{base:"I",letters:/(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197])/g},{base:"J",letters:/(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\u004A\u24BF\uFF2A\u0134\u0248])/g},{base:"K",letters:/(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2])/g},{base:"L",letters:/(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780])/g},{base:"LJ",letters:/(&#455;|[\u01C7])/g},{base:"Lj",letters:/(&#456;|[\u01C8])/g},{base:"M",letters:/(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C])/g},{base:"N",letters:/(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4\u014A])/g},{base:"NJ",letters:/(&#458;|[\u01CA])/g},{base:"Nj",letters:/(&#459;|[\u01CB])/g},{base:"O",letters:/(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C])/g},{base:"OE",letters:/(&#338;|[\u0152])/g},{base:"OI",letters:/(&#418;|[\u01A2])/g},{base:"OO",letters:/(&#42830;|[\uA74E])/g},{base:"OU",letters:/(&#546;|[\u0222])/g},{base:"P",letters:/(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754])/g},{base:"Q",letters:/(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\u0051\u24C6\uFF31\uA756\uA758\u024A])/g},{base:"R",letters:/(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782])/g},{base:"S",letters:/(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784])/g},{base:"T",letters:/(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786])/g},{base:"TH",letters:/(&#222;|[\u00DE])/g},{base:"TZ",letters:/(&#42792;|[\uA728])/g},{base:"U",letters:/(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244])/g},{base:"V",letters:/(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245])/g},{base:"VY",letters:/(&#42848;|[\uA760])/g},{base:"W",letters:/(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72])/g},{base:"X",letters:/(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\u0058\u24CD\uFF38\u1E8A\u1E8C])/g},{base:"Y",letters:/(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE])/g},{base:"Z",letters:/(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762])/g},{base:"a",letters:/(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250])/g},{base:"aa",letters:/(&#42803;|[\uA733])/g},{base:"ae",letters:/(&#230;|&#509;|&#483;|[\u00E6\u01FD\u01E3])/g},{base:"ao",letters:/(&#42805;|[\uA735])/g},{base:"au",letters:/(&#42807;|[\uA737])/g},{base:"av",letters:/(&#42809;|&#42811;|[\uA739\uA73B])/g},{base:"ay",letters:/(&#42813;|[\uA73D])/g},{base:"b",letters:/(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253])/g},{base:"c",letters:/(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184])/g},{base:"d",letters:/(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u00F0])/g},{base:"dz",letters:/(&#499;|&#454;|[\u01F3\u01C6])/g},{base:"e",letters:/(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD])/g},{base:"f",letters:/(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C])/g},{base:"g",letters:/(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F])/g},{base:"h",letters:/(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265])/g},{base:"hv",letters:/(&#405;|[\u0195])/g},{base:"i",letters:/(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131])/g},{base:"ij",letters:/(&#307;|[\u0133])/g},{base:"j",letters:/(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\u006A\u24D9\uFF4A\u0135\u01F0\u0249])/g},{base:"k",letters:/(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3])/g},{base:"l",letters:/(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747])/g},{base:"lj",letters:/(&#457;|[\u01C9])/g},{base:"m",letters:/(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F])/g},{base:"n",letters:/(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u014B])/g},{base:"nj",letters:/(&#460;|[\u01CC])/g},{base:"o",letters:/(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275])/g},{base:"oe",letters:/(&#339;|[\u0153])/g},{base:"oi",letters:/(&#419;|[\u01A3])/g},{base:"ou",letters:/(&#547;|[\u0223])/g},{base:"oo",letters:/(&#42831;|[\uA74F])/g},{base:"p",letters:/(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755])/g},{base:"q",letters:/(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\u0071\u24E0\uFF51\u024B\uA757\uA759])/g},{base:"r",letters:/(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783])/g},{base:"s",letters:/(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F])/g},{base:"ss",letters:/(&#223;|[\u00DF])/g},{base:"t",letters:/(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787])/g},{base:"th",letters:/(&#254;|[\u00FE])/g},{base:"tz",letters:/(&#42793;|[\uA729])/g},{base:"u",letters:/(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289])/g},{base:"v",letters:/(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C])/g},{base:"vy",letters:/(&#42849;|[\uA761])/g},{base:"w",letters:/(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73])/g},{base:"x",letters:/(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\u0078\u24E7\uFF58\u1E8B\u1E8D])/g},{base:"y",letters:/(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF])/g},{base:"z",letters:/(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763])/g}],Xx=function(e){var n=e;return Jx.forEach(function(r){n=n.replace(r.letters,r.base)}),n},vf=function(e){return Xx(e).toLowerCase()},Gp=function(e,n,r){return r?vf(e).indexOf(vf(n)):e.toLowerCase().indexOf(n.toLowerCase())},Zx=function(){return!!document.documentMode},Ea=function(e){return typeof e=="number"},Qx=function(e){return e===Object(e)?Object.keys(e):[]},ew=function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o=(n=[]).concat.apply(n,i);return Object.keys(e).reduce(function(l,a){return e.hasOwnProperty(a)&&!o.includes(a)&&e[a]!==void 0&&(l[a]=e[a]),l},{})},tw=["style","className","classNames"];function Cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cf(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jo(t,e){var n=function(i){var s=function(a){var u=a.style,c=a.className,f=a.classNames,d=Ax(a,tw),h=e?e(d):void 0,p=Cu(t,{style:u,className:c,classNames:f},h);return fe.createElement(i,Et({},d,{style:p}))},o=i.displayName||i.name||"Component";return s.displayName="defaultStyle(".concat(o,")"),fe.forwardRef(function(l,a){return s(Af(Af({},l),{},{ref:a}))})};return n}var nw=function(e,n){return e.hasOwnProperty(n)?e[n]++:e[n]=0,n+"_"+e[n]};function Yp(t){var e=t.selectionStart,n=t.selectionEnd,r=t.value,i=r===void 0?"":r,s=t.onCaretPositionChange,o=t.containerRef,l=t.children;t.singleLine;var a=t.style,u=P.useState({left:void 0,top:void 0}),c=fo(u,2),f=c[0],d=c[1],h=P.useState(),p=fo(h,2),g=p[0],m=p[1];P.useEffect(function(){y()});var y=function(){if(g){var I=g.offsetLeft,B=g.offsetTop;if(!(f.left===I&&f.top===B)){var q={left:I,top:B};d(q),s(q)}}},b=Cn(l),x;n===e&&(x=tt(i,b,e,"START"));var k=[],S={},w=k,A=0,C=function(I,B,q){if(Ea(x)&&x>=B&&x<=B+I.length){var G=x-B;w.push(_(I.substring(0,G),A)),w=[_(I.substring(G),A)]}else w.push(_(I,A));A++},T=function(I,B,q,G,Y,te,E){var he=nw(S,G);w.push(F(G,Y,te,he))},_=function(I,B){return fe.createElement("span",Et({},a("substring"),{key:B}),I)},F=function(I,B,q,G){var Y={id:I,display:B,key:G},te=P.Children.toArray(l)[q];return fe.cloneElement(te,Y)},L=function(I){return fe.createElement("span",Et({},a("caret"),{ref:m,key:"caret"}),I)};return cs(i,b,T,C),w.push(" "),w!==k&&k.push(L(w)),fe.createElement("div",Et({},a,{ref:o}),k)}Yp.propTypes={selectionStart:H.number,selectionEnd:H.number,value:H.string.isRequired,onCaretPositionChange:H.func.isRequired,containerRef:H.oneOfType([H.func,H.shape({current:typeof Element>"u"?H.any:H.instanceOf(Element)})]),children:H.oneOfType([H.element,H.arrayOf(H.element)]).isRequired};var rw=Jo({position:"relative",boxSizing:"border-box",width:"100%",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word",border:"1px solid transparent",textAlign:"start","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},function(t){return{"&singleLine":t.singleLine}}),iw=rw(Yp);function Jp(t){var e=t.id,n=t.focused,r=t.ignoreAccents,i=t.index,s=t.onClick,o=t.onMouseEnter,l=t.query,a=t.renderSuggestion,u=t.suggestion,c=t.style;t.className,t.classNames;var f={onClick:s,onMouseEnter:o},d=function(){var m=h(),y=p(m);return a?a(u,l,y,i,n):y},h=function(){if(typeof u=="string")return u;var m=u.id,y=u.display;return m===void 0||!y?m:y},p=function(m){var y=Gp(m,l,r);return y===-1?fe.createElement("span",c("display"),m):fe.createElement("span",c("display"),m.substring(0,y),fe.createElement("b",c("highlight"),m.substring(y,y+l.length)),m.substring(y+l.length))};return fe.createElement("li",Et({id:e,role:"option","aria-selected":n},f,c),d())}Jp.propTypes={id:H.string.isRequired,query:H.string.isRequired,index:H.number.isRequired,ignoreAccents:H.bool,suggestion:H.oneOfType([H.string,H.shape({id:H.oneOfType([H.string,H.number]).isRequired,display:H.string})]).isRequired,renderSuggestion:H.func,focused:H.bool};var sw=Jo({cursor:"pointer"},function(t){return{"&focused":t.focused}}),ow=sw(Jp);function lw(t){var e=t.style,n=t.className,r=t.classNames,i=Cu(aw,{style:e,className:n,classNames:r}),s=i("spinner");return fe.createElement("div",i,fe.createElement("div",s,fe.createElement("div",s(["element","element1"])),fe.createElement("div",s(["element","element2"])),fe.createElement("div",s(["element","element3"])),fe.createElement("div",s(["element","element4"])),fe.createElement("div",s(["element","element5"]))))}var aw={};function Xp(t){var e=t.id,n=t.suggestions,r=n===void 0?{}:n,i=t.a11ySuggestionsListLabel,s=t.focusIndex,o=t.position,l=t.left,a=t.right,u=t.top,c=t.scrollFocusedIntoView,f=t.isLoading,d=t.isOpened,h=t.onSelect,p=h===void 0?function(){return null}:h,g=t.ignoreAccents,m=t.containerRef,y=t.children,b=t.style,x=t.customSuggestionsContainer,k=t.onMouseDown,S=t.onMouseEnter,w=P.useState(void 0),A=fo(w,2),C=A[0],T=A[1];P.useEffect(function(){if(!(!C||C.offsetHeight>=C.scrollHeight||!c)){var q=C.scrollTop,G=C.children[s].getBoundingClientRect(),Y=G.top,te=G.bottom,E=C.getBoundingClientRect(),he=E.top;Y=Y-he+q,te=te-he+q,Y<q?C.scrollTop=Y:te>C.offsetHeight&&(C.scrollTop=te-C.offsetHeight)}},[s,c,C]);var _=function(){var G=fe.createElement("ul",Et({ref:T,id:e,role:"listbox","aria-label":i},b("list")),Object.values(r).reduce(function(Y,te){var E=te.results,he=te.queryInfo;return[].concat(uo(Y),uo(E.map(function(Ee,v){return F(Ee,he,Y.length+v)})))},[]));return x?x(G):G},F=function(G,Y,te){var E=te===s,he=Y.childIndex,Ee=Y.query,v=P.Children.toArray(y)[he].props.renderSuggestion;return fe.createElement(ow,{style:b("item"),key:"".concat(he,"-").concat(B(G)),id:qp(e,te),query:Ee,index:te,ignoreAccents:g,renderSuggestion:v,suggestion:G,focused:E,onClick:function(){return I(G,Y)},onMouseEnter:function(){return R(te)}})},L=function(){if(f)return fe.createElement(lw,{style:b("loadingIndicator")})},R=function(G,Y){S&&S(G)},I=function(G,Y){p(G,Y)},B=function(G){return typeof G=="string"?G:G.id};return d?fe.createElement("div",Et({},Ux({position:o||"absolute",left:l,right:a,top:u},b),{onMouseDown:k,ref:m}),_(),L()):null}Xp.propTypes={id:H.string.isRequired,suggestions:H.object.isRequired,a11ySuggestionsListLabel:H.string,focusIndex:H.number,position:H.string,left:H.number,right:H.number,top:H.number,scrollFocusedIntoView:H.bool,isLoading:H.bool,isOpened:H.bool.isRequired,onSelect:H.func,ignoreAccents:H.bool,customSuggestionsContainer:H.func,containerRef:H.oneOfType([H.func,H.shape({current:typeof Element>"u"?H.any:H.instanceOf(Element)})])};var uw=Jo({zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100,list:{margin:0,padding:0,listStyleType:"none"}}),cw=uw(Xp);function Tf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tf(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fw(t){var e=dw();return function(){var r=co(t),i;if(e){var s=co(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return _x(this,i)}}function dw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var hw=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e instanceof RegExp)return e;var r=n.allowSpaceInQuery,i=Xs(e);return new RegExp("(?:^|\\s)(".concat(i,"([^").concat(r?"":"\\s").concat(i,"]*))$"))},pw=function(e,n){return e instanceof Array?function(r,i){for(var s=[],o=0,l=e.length;o<l;++o){var a=e[o].display||e[o].id;Gp(a,r,n)>=0&&s.push(e[o])}return s}:e},Cr={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},Ls=!1,Zp={singleLine:H.bool,allowSpaceInQuery:H.bool,allowSuggestionsAboveCursor:H.bool,forceSuggestionsAboveCursor:H.bool,ignoreAccents:H.bool,a11ySuggestionsListLabel:H.string,value:H.string,onKeyDown:H.func,customSuggestionsContainer:H.func,onSelect:H.func,onBlur:H.func,onChange:H.func,suggestionsPortalHost:typeof Element>"u"?H.any:H.PropTypes.instanceOf(Element),inputRef:H.oneOfType([H.func,H.shape({current:typeof Element>"u"?H.any:H.instanceOf(Element)})]),children:H.oneOfType([H.element,H.arrayOf(H.element)]).isRequired},Au=(function(t){kx(n,t);var e=fw(n);function n(r){var i;return bx(this,n),i=e.call(this,r),ie(se(i),"setContainerElement",function(s){i.containerElement=s}),ie(se(i),"getInputProps",function(){var s=i.props,o=s.readOnly,l=s.disabled,a=s.style,u=ew(i.props,["style","classNames","className"],Qx(Zp));return Tt(Tt(Tt(Tt({},u),a("input")),{},{value:i.getPlainText(),onScroll:i.updateHighlighterScroll},!o&&!l&&{onChange:i.handleChange,onSelect:i.handleSelect,onKeyDown:i.handleKeyDown,onBlur:i.handleBlur,onCompositionStart:i.handleCompositionStart,onCompositionEnd:i.handleCompositionEnd}),i.isOpened()&&{role:"combobox","aria-controls":i.uuidSuggestionsOverlay,"aria-expanded":!0,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":qp(i.uuidSuggestionsOverlay,i.state.focusIndex)})}),ie(se(i),"renderControl",function(){var s=i.props,o=s.singleLine,l=s.style,a=i.getInputProps();return fe.createElement("div",l("control"),i.renderHighlighter(),o?i.renderInput(a):i.renderTextarea(a))}),ie(se(i),"renderInput",function(s){return fe.createElement("input",Et({type:"text",ref:i.setInputRef},s))}),ie(se(i),"renderTextarea",function(s){return fe.createElement("textarea",Et({ref:i.setInputRef},s))}),ie(se(i),"setInputRef",function(s){i.inputElement=s;var o=i.props.inputRef;typeof o=="function"?o(s):o&&(o.current=s)}),ie(se(i),"setSuggestionsElement",function(s){i.suggestionsElement=s}),ie(se(i),"renderSuggestionsOverlay",function(){if(!Ea(i.state.selectionStart))return null;var s=i.state.suggestionsPosition,o=s.position,l=s.left,a=s.top,u=s.right,c=fe.createElement(cw,{id:i.uuidSuggestionsOverlay,style:i.props.style("suggestions"),position:o,left:l,top:a,right:u,focusIndex:i.state.focusIndex,scrollFocusedIntoView:i.state.scrollFocusedIntoView,containerRef:i.setSuggestionsElement,suggestions:i.state.suggestions,customSuggestionsContainer:i.props.customSuggestionsContainer,onSelect:i.addMention,onMouseDown:i.handleSuggestionsMouseDown,onMouseEnter:i.handleSuggestionsMouseEnter,isLoading:i.isLoading(),isOpened:i.isOpened(),ignoreAccents:i.props.ignoreAccents,a11ySuggestionsListLabel:i.props.a11ySuggestionsListLabel},i.props.children);return i.props.suggestionsPortalHost?M0.createPortal(c,i.props.suggestionsPortalHost):c}),ie(se(i),"renderHighlighter",function(){var s=i.state,o=s.selectionStart,l=s.selectionEnd,a=i.props,u=a.singleLine,c=a.children,f=a.value,d=a.style;return fe.createElement(iw,{containerRef:i.setHighlighterElement,style:d("highlighter"),value:f,singleLine:u,selectionStart:o,selectionEnd:l,onCaretPositionChange:i.handleCaretPositionChange},c)}),ie(se(i),"setHighlighterElement",function(s){i.highlighterElement=s}),ie(se(i),"handleCaretPositionChange",function(s){i.setState({caretPosition:s})}),ie(se(i),"getPlainText",function(){return Jn(i.props.value||"",Cn(i.props.children))}),ie(se(i),"executeOnChange",function(s){for(var o=arguments.length,l=new Array(o>1?o-1:0),a=1;a<o;a++)l[a-1]=arguments[a];if(i.props.onChange){var u;return(u=i.props).onChange.apply(u,[s].concat(l))}if(i.props.valueLink){var c;return(c=i.props.valueLink).requestChange.apply(c,[s.target.value].concat(l))}}),ie(se(i),"handleChange",function(s){if(Ls=!1,Zx()){var o=document.activeElement&&document.activeElement.contentDocument||document;if(o.activeElement!==s.target)return}var l=i.props.value||"",a=Cn(i.props.children),u=s.target.value,c=i.state.selectionStart;c==null&&(c=s.target.selectionStart);var f=i.state.selectionEnd;f==null&&(f=s.target.selectionEnd);var d=Kx(l,u,{selectionStartBefore:c,selectionEndBefore:f,selectionEndAfter:s.target.selectionEnd},a);u=Jn(d,a);var h=s.target.selectionStart,p=s.target.selectionEnd,g=!1,m=Ef(l,a,h);m!==void 0&&i.state.selectionEnd>m&&(h=m+(s.nativeEvent.data?s.nativeEvent.data.length:0),p=h,g=!0),i.setState({selectionStart:h,selectionEnd:p,setSelectionAfterMentionChange:g});var y=Ti(d,a);s.nativeEvent.isComposing&&h===p&&i.updateMentionsQueries(i.inputElement.value,h);var b={target:{value:d}};i.executeOnChange(b,d,u,y)}),ie(se(i),"handleSelect",function(s){if(i.setState({selectionStart:s.target.selectionStart,selectionEnd:s.target.selectionEnd}),!Ls){var o=i.inputElement;s.target.selectionStart===s.target.selectionEnd?i.updateMentionsQueries(o.value,s.target.selectionStart):i.clearSuggestions(),i.updateHighlighterScroll(),i.props.onSelect(s)}}),ie(se(i),"handleKeyDown",function(s){var o=Ns(i.state.suggestions);if(o===0||!i.suggestionsElement){i.props.onKeyDown(s);return}switch(Object.values(Cr).indexOf(s.keyCode)>=0&&(s.preventDefault(),s.stopPropagation()),s.keyCode){case Cr.ESC:{i.clearSuggestions();return}case Cr.DOWN:{i.shiftFocus(1);return}case Cr.UP:{i.shiftFocus(-1);return}case Cr.RETURN:{i.selectFocused();return}case Cr.TAB:{i.selectFocused();return}default:return}}),ie(se(i),"shiftFocus",function(s){var o=Ns(i.state.suggestions);i.setState({focusIndex:(o+i.state.focusIndex+s)%o,scrollFocusedIntoView:!0})}),ie(se(i),"selectFocused",function(){var s=i.state,o=s.suggestions,l=s.focusIndex,a=Object.values(o).reduce(function(f,d){var h=d.results,p=d.queryInfo;return[].concat(uo(f),uo(h.map(function(g){return{result:g,queryInfo:p}})))},[])[l],u=a.result,c=a.queryInfo;i.addMention(u,c),i.setState({focusIndex:0})}),ie(se(i),"handleBlur",function(s){var o=i._suggestionsMouseDown;i._suggestionsMouseDown=!1,o||i.setState({selectionStart:null,selectionEnd:null}),window.setTimeout(function(){i.updateHighlighterScroll()},1),i.props.onBlur(s,o)}),ie(se(i),"handleSuggestionsMouseDown",function(s){i._suggestionsMouseDown=!0}),ie(se(i),"handleSuggestionsMouseEnter",function(s){i.setState({focusIndex:s,scrollFocusedIntoView:!1})}),ie(se(i),"updateSuggestionsPosition",function(){var s=i.state.caretPosition,o=i.props,l=o.suggestionsPortalHost,a=o.allowSuggestionsAboveCursor,u=o.forceSuggestionsAboveCursor;if(!(!s||!i.suggestionsElement)){var c=i.suggestionsElement,f=i.highlighterElement,d=f.getBoundingClientRect(),h=Al(f,"font-size"),p={left:d.left+s.left,top:d.top+s.top+h},g=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(c){var m={};if(l){m.position="fixed";var y=p.left,b=p.top;y-=Al(c,"margin-left"),b-=Al(c,"margin-top"),y-=f.scrollLeft,b-=f.scrollTop;var x=Math.max(document.documentElement.clientWidth,window.innerWidth||0);y+c.offsetWidth>x?m.left=Math.max(0,x-c.offsetWidth):m.left=y,a&&b+c.offsetHeight>g&&c.offsetHeight<b-h||u?m.top=Math.max(0,b-c.offsetHeight-h):m.top=b}else{var k=s.left-f.scrollLeft,S=s.top-f.scrollTop;k+c.offsetWidth>i.containerElement.offsetWidth?m.right=0:m.left=k,a&&p.top-f.scrollTop+c.offsetHeight>g&&c.offsetHeight<d.top-h-f.scrollTop||u?m.top=S-c.offsetHeight-h:m.top=S}m.left===i.state.suggestionsPosition.left&&m.top===i.state.suggestionsPosition.top&&m.position===i.state.suggestionsPosition.position||i.setState({suggestionsPosition:m})}}}),ie(se(i),"updateHighlighterScroll",function(){var s=i.inputElement,o=i.highlighterElement;!s||!o||(o.scrollLeft=s.scrollLeft,o.scrollTop=s.scrollTop,o.height=s.height)}),ie(se(i),"handleCompositionStart",function(){Ls=!0}),ie(se(i),"handleCompositionEnd",function(){Ls=!1}),ie(se(i),"setSelection",function(s,o){if(!(s===null||o===null)){var l=i.inputElement;if(l.setSelectionRange)l.setSelectionRange(s,o);else if(l.createTextRange){var a=l.createTextRange();a.collapse(!0),a.moveEnd("character",o),a.moveStart("character",s),a.select()}}}),ie(se(i),"updateMentionsQueries",function(s,o){i._queryId++,i.suggestions={},i.setState({suggestions:{}});var l=i.props.value||"",a=i.props.children,u=Cn(a),c=tt(l,u,o,"NULL");if(c!==null){var f=Vx(l.substring(0,c),u),d=s.substring(f,o);fe.Children.forEach(a,function(h,p){if(h){var g=hw(h.props.trigger,i.props),m=d.match(g);if(m){var y=f+d.indexOf(m[1],m.index);i.queryData(m[2],p,y,y+m[1].length,s)}}})}}),ie(se(i),"clearSuggestions",function(){i._queryId++,i.suggestions={},i.setState({suggestions:{},focusIndex:0})}),ie(se(i),"queryData",function(s,o,l,a,u){var c=i.props,f=c.children,d=c.ignoreAccents,h=P.Children.toArray(f)[o],p=pw(h.props.data,d),g=p(s,i.updateSuggestions.bind(null,i._queryId,o,s,l,a,u));g instanceof Array&&i.updateSuggestions(i._queryId,o,s,l,a,u,g)}),ie(se(i),"updateSuggestions",function(s,o,l,a,u,c,f){if(s===i._queryId){i.suggestions=Tt(Tt({},i.suggestions),{},ie({},o,{queryInfo:{childIndex:o,query:l,querySequenceStart:a,querySequenceEnd:u,plainTextValue:c},results:f}));var d=i.state.focusIndex,h=Ns(i.suggestions);i.setState({suggestions:i.suggestions,focusIndex:d>=h?Math.max(h-1,0):d})}}),ie(se(i),"addMention",function(s,o){var l=s.id,a=s.display,u=o.childIndex,c=o.querySequenceStart,f=o.querySequenceEnd,d=o.plainTextValue,h=i.props.value||"",p=Cn(i.props.children),g=P.Children.toArray(i.props.children)[u],m=g.props,y=m.markup,b=m.displayTransform,x=m.appendSpaceOnAdd,k=m.onAdd,S=tt(h,p,c,"START"),w=S+f-c,A=Yx(y,l,a);x&&(A+=" ");var C=Oi(h,S,w,A);i.inputElement.focus();var T=b(l,a);x&&(T+=" ");var _=c+T.length;i.setState({selectionStart:_,selectionEnd:_,setSelectionAfterMentionChange:!0});var F={target:{value:C}},L=Ti(C,p),R=Oi(d,c,f,T);i.executeOnChange(F,C,R,L),k&&k(l,a,S,w),i.clearSuggestions()}),ie(se(i),"isLoading",function(){var s=!1;return fe.Children.forEach(i.props.children,function(o){s=s||o&&o.props.isLoading}),s}),ie(se(i),"isOpened",function(){return Ea(i.state.selectionStart)&&(Ns(i.state.suggestions)!==0||i.isLoading())}),ie(se(i),"_queryId",0),i.suggestions={},i.uuidSuggestionsOverlay=Math.random().toString(16).substring(2),i.handleCopy=i.handleCopy.bind(se(i)),i.handleCut=i.handleCut.bind(se(i)),i.handlePaste=i.handlePaste.bind(se(i)),i.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:{},setSelectionAfterHandlePaste:!1},i}return wx(n,[{key:"componentDidMount",value:function(){document.addEventListener("copy",this.handleCopy),document.addEventListener("cut",this.handleCut),document.addEventListener("paste",this.handlePaste),this.updateSuggestionsPosition()}},{key:"componentDidUpdate",value:function(i,s){s.suggestionsPosition===this.state.suggestionsPosition&&this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd)),this.state.setSelectionAfterHandlePaste&&(this.setState({setSelectionAfterHandlePaste:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("cut",this.handleCut),document.removeEventListener("paste",this.handlePaste)}},{key:"render",value:function(){return fe.createElement("div",Et({ref:this.setContainerElement},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())}},{key:"handlePaste",value:function(i){if(i.target===this.inputElement&&this.supportsClipboardActions(i)){i.preventDefault();var s=this.state,o=s.selectionStart,l=s.selectionEnd,a=this.props,u=a.value,c=a.children,f=Cn(c),d=tt(u,f,o,"START"),h=tt(u,f,l,"END"),p=i.clipboardData.getData("text/react-mentions"),g=i.clipboardData.getData("text/plain"),m=Oi(u,d,h,p||g).replace(/\r/g,""),y=Jn(m,f),b={target:Tt(Tt({},i.target),{},{value:m})};this.executeOnChange(b,m,y,Ti(m,f));var x=Ef(u,f,o),k=(x||o)+Jn(p||g,f).length;this.setState({selectionStart:k,selectionEnd:k,setSelectionAfterHandlePaste:!0})}}},{key:"saveSelectionToClipboard",value:function(i){var s=this.inputElement.selectionStart,o=this.inputElement.selectionEnd,l=this.props,a=l.children,u=l.value,c=Cn(a),f=tt(u,c,s,"START"),d=tt(u,c,o,"END");i.clipboardData.setData("text/plain",i.target.value.slice(s,o)),i.clipboardData.setData("text/react-mentions",u.slice(f,d))}},{key:"supportsClipboardActions",value:function(i){return!!i.clipboardData}},{key:"handleCopy",value:function(i){i.target===this.inputElement&&this.supportsClipboardActions(i)&&(i.preventDefault(),this.saveSelectionToClipboard(i))}},{key:"handleCut",value:function(i){if(i.target===this.inputElement&&this.supportsClipboardActions(i)){i.preventDefault(),this.saveSelectionToClipboard(i);var s=this.state,o=s.selectionStart,l=s.selectionEnd,a=this.props,u=a.children,c=a.value,f=Cn(u),d=tt(c,f,o,"START"),h=tt(c,f,l,"END"),p=[c.slice(0,d),c.slice(h)].join(""),g=Jn(p,f),m={target:Tt(Tt({},i.target),{},{value:g})};this.executeOnChange(m,p,g,Ti(c,f))}}}]),n})(fe.Component);ie(Au,"propTypes",Zp);ie(Au,"defaultProps",{ignoreAccents:!1,singleLine:!1,allowSuggestionsAboveCursor:!1,onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}});var Al=function(e,n){var r=parseFloat(window.getComputedStyle(e,null).getPropertyValue(n));return isFinite(r)?r:0},gw=typeof navigator<"u"&&/iPhone|iPad|iPod/i.test(navigator.userAgent),mw=Jo({position:"relative",overflowY:"visible",input:{display:"block",width:"100%",position:"absolute",margin:0,top:0,left:0,boxSizing:"border-box",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit"},"&multiLine":{input:Tt({height:"100%",bottom:0,overflow:"hidden",resize:"none"},gw?{marginTop:1,marginLeft:-3}:null)}},function(t){var e=t.singleLine;return{"&singleLine":e,"&multiLine":!e}}),yw=mw(Au),bw={fontWeight:"inherit"},Tu=function(e){var n=e.display,r=e.style,i=e.className,s=e.classNames,o=Cu(bw,{style:r,className:i,classNames:s});return fe.createElement("strong",o,n)};Tu.propTypes={onAdd:H.func,onRemove:H.func,renderSuggestion:H.func,trigger:H.oneOfType([H.string,H.instanceOf(RegExp)]),markup:H.string,displayTransform:H.func,allowSpaceInQuery:H.bool,isLoading:H.bool};Tu.defaultProps={trigger:"@",markup:"@[__display__](__id__)",displayTransform:function(e,n){return n||e},onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};const xw=Pe(Ot)(({theme:t})=>({whiteSpace:"pre",paddingLeft:t.spacing(1),marginBottom:t.spacing(1),color:"gray"})),ww={backgroundColor:tx};function kw({id:t,inputRef:e,textInput:n,setTextInput:r,placeholder:i,sendOrEditMessage:s}){const o=vp(),l=o.spacing(1),a=o.spacing(.5),u={width:"100%",height:"100%",minWidth:"0px",control:{minHeight:"63px"},input:{padding:l,border:"1px solid silver",width:"100%",overflow:"auto",height:"100%",maxHeight:"30vh",lineHeight:"inherit",borderRadius:a},highlighter:{padding:l,border:"1px solid transparent",boxSizing:"border-box",overflow:"hidden",height:"100%",maxHeight:"30vh"},suggestions:{overflow:"hidden",borderRadius:a,list:{overflow:"hidden",backgroundColor:"white",fontSize:"1rem",border:"1px solid rgba(0,0,0,0.15)",borderRadius:a},item:{padding:o.spacing(.5,2),"&focused":{backgroundColor:"#b9b9ed"}}}},{members:c}=Su(),{data:f}=us(_u()),{t:d}=Vt(qt.Chatbox),[h,p]=P.useState([]),[g,m]=P.useState("");if(P.useEffect(()=>{e.current?.focus()},[]),!f)return null;const{id:y}=f,b=[nx,...c?.filter(C=>C.id!==y)?.map(C=>({id:C.id,display:C.name}))||[]],x=n.length>mf,k=()=>{if(n){let C=h;h.includes(Go)&&c?.length&&(C=c.map(T=>T.id)),s({body:n,mentions:C}),r(""),m(""),p([])}},S=(C,T,_,F)=>{r(T),m(_),p(F.map(({id:L})=>L))},w=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),x||k())},A=()=>{let C=" ";return n&&g&&(C=g.length.toString(),x&&(C+=` ${d("INPUT_MESSAGE_TOO_LONG",{length:mf})}`)),D.jsx(xw,{sx:{...x&&{color:"red !important"}},variant:"caption","data-cy":q0,children:C})};return D.jsxs("div",{children:[D.jsxs(qe,{width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",id:t,children:[D.jsx(yw,{"data-cy":K0,id:H0,inputRef:e,value:n,onChange:S,onKeyDown:w,style:u,forceSuggestionsAboveCursor:!0,a11ySuggestionsListLabel:d("SUGGESTED_MENTIONS"),placeholder:i??d("INPUT_FIELD_PLACEHOLDER"),children:D.jsx(Tu,{displayTransform:(C,T)=>`@${T}`,markup:ux,trigger:"@",renderSuggestion:(C,T,_)=>D.jsx("div",{className:"user",children:_}),data:b,style:ww})}),D.jsx(qo,{"data-cy":V0,onClick:k,disabled:x,children:D.jsx(K1,{color:x?"disabled":"primary"})})]}),A()]})}function _w({sendMessageBoxId:t}){const{open:e,body:n,messageId:r,cancelEdit:i}=Yo(),[s,o]=P.useState(e?n:""),l=P.useRef(null),{itemId:a}=Su(),{editMessage:u,sendMessage:c}=Eu({itemId:a});P.useEffect(()=>{o(e?n:""),e&&l.current?.focus()},[e,r]);const f=()=>{i(),o("")},d=h=>{e?u({path:{messageId:r,itemId:a},body:{body:h.body}}):c({path:{itemId:a},body:h}),i()};return D.jsxs(qe,{width:"100%",children:[D.jsx(px,{onClose:f,editedText:n}),D.jsx(kw,{id:t,inputRef:l,textInput:s,setTextInput:o,sendOrEditMessage:d})]})}function Sw(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Ew=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vw=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cw={};function Df(t,e){return(Cw.jsx?vw:Ew).test(t)}const Aw=/[ \t\n\f\r]/g;function Tw(t){return typeof t=="object"?t.type==="text"?If(t.value):!1:If(t)}function If(t){return t.replace(Aw,"")===""}class fs{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}fs.prototype.normal={};fs.prototype.property={};fs.prototype.space=void 0;function Qp(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new fs(n,r,e)}function va(t){return t.toLowerCase()}class dt{constructor(e,n){this.attribute=n,this.property=e}}dt.prototype.attribute="";dt.prototype.booleanish=!1;dt.prototype.boolean=!1;dt.prototype.commaOrSpaceSeparated=!1;dt.prototype.commaSeparated=!1;dt.prototype.defined=!1;dt.prototype.mustUseProperty=!1;dt.prototype.number=!1;dt.prototype.overloadedBoolean=!1;dt.prototype.property="";dt.prototype.spaceSeparated=!1;dt.prototype.space=void 0;let Dw=0;const ne=mr(),Te=mr(),Ca=mr(),$=mr(),ke=mr(),zr=mr(),gt=mr();function mr(){return 2**++Dw}const Aa=Object.freeze(Object.defineProperty({__proto__:null,boolean:ne,booleanish:Te,commaOrSpaceSeparated:gt,commaSeparated:zr,number:$,overloadedBoolean:Ca,spaceSeparated:ke},Symbol.toStringTag,{value:"Module"})),Tl=Object.keys(Aa);class Du extends dt{constructor(e,n,r,i){let s=-1;if(super(e,n),Ff(this,"space",i),typeof r=="number")for(;++s<Tl.length;){const o=Tl[s];Ff(this,Tl[s],(r&Aa[o])===Aa[o])}}}Du.prototype.defined=!0;function Ff(t,e,n){n&&(t[e]=n)}function ai(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Du(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[va(r)]=r,n[va(s.attribute)]=r}return new fs(e,n,t.space)}const eg=ai({properties:{ariaActiveDescendant:null,ariaAtomic:Te,ariaAutoComplete:null,ariaBusy:Te,ariaChecked:Te,ariaColCount:$,ariaColIndex:$,ariaColSpan:$,ariaControls:ke,ariaCurrent:null,ariaDescribedBy:ke,ariaDetails:null,ariaDisabled:Te,ariaDropEffect:ke,ariaErrorMessage:null,ariaExpanded:Te,ariaFlowTo:ke,ariaGrabbed:Te,ariaHasPopup:null,ariaHidden:Te,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ke,ariaLevel:$,ariaLive:null,ariaModal:Te,ariaMultiLine:Te,ariaMultiSelectable:Te,ariaOrientation:null,ariaOwns:ke,ariaPlaceholder:null,ariaPosInSet:$,ariaPressed:Te,ariaReadOnly:Te,ariaRelevant:null,ariaRequired:Te,ariaRoleDescription:ke,ariaRowCount:$,ariaRowIndex:$,ariaRowSpan:$,ariaSelected:Te,ariaSetSize:$,ariaSort:null,ariaValueMax:$,ariaValueMin:$,ariaValueNow:$,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function tg(t,e){return e in t?t[e]:e}function ng(t,e){return tg(t,e.toLowerCase())}const Iw=ai({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zr,acceptCharset:ke,accessKey:ke,action:null,allow:null,allowFullScreen:ne,allowPaymentRequest:ne,allowUserMedia:ne,alt:null,as:null,async:ne,autoCapitalize:null,autoComplete:ke,autoFocus:ne,autoPlay:ne,blocking:ke,capture:null,charSet:null,checked:ne,cite:null,className:ke,cols:$,colSpan:null,content:null,contentEditable:Te,controls:ne,controlsList:ke,coords:$|zr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ne,defer:ne,dir:null,dirName:null,disabled:ne,download:Ca,draggable:Te,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ne,formTarget:null,headers:ke,height:$,hidden:Ca,high:$,href:null,hrefLang:null,htmlFor:ke,httpEquiv:ke,id:null,imageSizes:null,imageSrcSet:null,inert:ne,inputMode:null,integrity:null,is:null,isMap:ne,itemId:null,itemProp:ke,itemRef:ke,itemScope:ne,itemType:ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ne,low:$,manifest:null,max:null,maxLength:$,media:null,method:null,min:null,minLength:$,multiple:ne,muted:ne,name:null,nonce:null,noModule:ne,noValidate:ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ne,optimum:$,pattern:null,ping:ke,placeholder:null,playsInline:ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ne,referrerPolicy:null,rel:ke,required:ne,reversed:ne,rows:$,rowSpan:$,sandbox:ke,scope:null,scoped:ne,seamless:ne,selected:ne,shadowRootClonable:ne,shadowRootDelegatesFocus:ne,shadowRootMode:null,shape:null,size:$,sizes:null,slot:null,span:$,spellCheck:Te,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$,step:null,style:null,tabIndex:$,target:null,title:null,translate:null,type:null,typeMustMatch:ne,useMap:null,value:Te,width:$,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ke,axis:null,background:null,bgColor:null,border:$,borderColor:null,bottomMargin:$,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ne,declare:ne,event:null,face:null,frame:null,frameBorder:null,hSpace:$,leftMargin:$,link:null,longDesc:null,lowSrc:null,marginHeight:$,marginWidth:$,noResize:ne,noHref:ne,noShade:ne,noWrap:ne,object:null,profile:null,prompt:null,rev:null,rightMargin:$,rules:null,scheme:null,scrolling:Te,standby:null,summary:null,text:null,topMargin:$,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ne,disableRemotePlayback:ne,prefix:null,property:null,results:$,security:null,unselectable:null},space:"html",transform:ng}),Fw=ai({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gt,accentHeight:$,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$,amplitude:$,arabicForm:null,ascent:$,attributeName:null,attributeType:null,azimuth:$,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$,by:null,calcMode:null,capHeight:$,className:ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$,diffuseConstant:$,direction:null,display:null,dur:null,divisor:$,dominantBaseline:null,download:ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:$,enableBackground:null,end:null,event:null,exponent:$,externalResourcesRequired:null,fill:null,fillOpacity:$,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zr,g2:zr,glyphName:zr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$,horizOriginX:$,horizOriginY:$,id:null,ideographic:$,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$,k:$,k1:$,k2:$,k3:$,k4:$,kernelMatrix:gt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$,overlineThickness:$,paintOrder:null,panose1:null,path:null,pathLength:$,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$,pointsAtY:$,pointsAtZ:$,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gt,rev:gt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gt,requiredFeatures:gt,requiredFonts:gt,requiredFormats:gt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$,specularExponent:$,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$,strikethroughThickness:$,string:null,stroke:null,strokeDashArray:gt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$,strokeOpacity:$,strokeWidth:null,style:null,surfaceScale:$,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gt,tabIndex:$,tableValues:null,target:null,targetX:$,targetY:$,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$,underlineThickness:$,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$,values:null,vAlphabetic:$,vMathematical:$,vectorEffect:null,vHanging:$,vIdeographic:$,version:null,vertAdvY:$,vertOriginX:$,vertOriginY:$,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:tg}),rg=ai({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ig=ai({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ng}),sg=ai({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Ow={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Nw=/[A-Z]/g,Of=/-[a-z]/g,Lw=/^data[-\w.:]+$/i;function Mw(t,e){const n=va(e);let r=e,i=dt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Lw.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Of,Rw);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Of.test(s)){let o=s.replace(Nw,Pw);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Du}return new i(r,e)}function Pw(t){return"-"+t.toLowerCase()}function Rw(t){return t.charAt(1).toUpperCase()}const Bw=Qp([eg,Iw,rg,ig,sg],"html"),Iu=Qp([eg,Fw,rg,ig,sg],"svg");function zw(t){return t.join(" ").trim()}var Ar={},Dl,Nf;function jw(){if(Nf)return Dl;Nf=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,a=`
`,u="/",c="*",f="",d="comment",h="declaration";Dl=function(g,m){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];m=m||{};var y=1,b=1;function x(R){var I=R.match(e);I&&(y+=I.length);var B=R.lastIndexOf(a);b=~B?R.length-B:b+R.length}function k(){var R={line:y,column:b};return function(I){return I.position=new S(R),C(),I}}function S(R){this.start=R,this.end={line:y,column:b},this.source=m.source}S.prototype.content=g;function w(R){var I=new Error(m.source+":"+y+":"+b+": "+R);if(I.reason=R,I.filename=m.source,I.line=y,I.column=b,I.source=g,!m.silent)throw I}function A(R){var I=R.exec(g);if(I){var B=I[0];return x(B),g=g.slice(B.length),I}}function C(){A(n)}function T(R){var I;for(R=R||[];I=_();)I!==!1&&R.push(I);return R}function _(){var R=k();if(!(u!=g.charAt(0)||c!=g.charAt(1))){for(var I=2;f!=g.charAt(I)&&(c!=g.charAt(I)||u!=g.charAt(I+1));)++I;if(I+=2,f===g.charAt(I-1))return w("End of comment missing");var B=g.slice(2,I-2);return b+=2,x(B),g=g.slice(I),b+=2,R({type:d,comment:B})}}function F(){var R=k(),I=A(r);if(I){if(_(),!A(i))return w("property missing ':'");var B=A(s),q=R({type:h,property:p(I[0].replace(t,f)),value:B?p(B[0].replace(t,f)):f});return A(o),q}}function L(){var R=[];T(R);for(var I;I=F();)I!==!1&&(R.push(I),T(R));return R}return C(),L()};function p(g){return g?g.replace(l,f):f}return Dl}var Lf;function $w(){if(Lf)return Ar;Lf=1;var t=Ar&&Ar.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.default=n;var e=t(jw());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),l=typeof i=="function";return o.forEach(function(a){if(a.type==="declaration"){var u=a.property,c=a.value;l?i(u,c,a):c&&(s=s||{},s[u]=c)}}),s}return Ar}var wi={},Mf;function Uw(){if(Mf)return wi;Mf=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||t.test(u)},o=function(u,c){return c.toUpperCase()},l=function(u,c){return"".concat(c,"-")},a=function(u,c){return c===void 0&&(c={}),s(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,l):u=u.replace(r,l),u.replace(e,o))};return wi.camelCase=a,wi}var ki,Pf;function Ww(){if(Pf)return ki;Pf=1;var t=ki&&ki.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t($w()),n=Uw();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(l,a){l&&a&&(o[(0,n.camelCase)(l,s)]=a)}),o}return r.default=r,ki=r,ki}var Hw=Ww();const Kw=Cp(Hw),og=lg("end"),Fu=lg("start");function lg(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Vw(t){const e=Fu(t),n=og(t);if(e&&n)return{start:e,end:n}}function Ni(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Rf(t.position):"start"in t||"end"in t?Rf(t):"line"in t||"column"in t?Ta(t):""}function Ta(t){return Bf(t&&t.line)+":"+Bf(t&&t.column)}function Rf(t){return Ta(t&&t.start)+"-"+Ta(t&&t.end)}function Bf(t){return t&&typeof t=="number"?t:1}class Xe extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Ni(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Xe.prototype.file="";Xe.prototype.name="";Xe.prototype.reason="";Xe.prototype.message="";Xe.prototype.stack="";Xe.prototype.column=void 0;Xe.prototype.line=void 0;Xe.prototype.ancestors=void 0;Xe.prototype.cause=void 0;Xe.prototype.fatal=void 0;Xe.prototype.place=void 0;Xe.prototype.ruleId=void 0;Xe.prototype.source=void 0;const Ou={}.hasOwnProperty,qw=new Map,Gw=/[A-Z]/g,Yw=new Set(["table","tbody","thead","tfoot","tr"]),Jw=new Set(["td","th"]),ag="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Xw(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=sk(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ik(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Iu:Bw,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=ug(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function ug(t,e,n){if(e.type==="element")return Zw(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Qw(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return tk(t,e,n);if(e.type==="mdxjsEsm")return ek(t,e);if(e.type==="root")return nk(t,e,n);if(e.type==="text")return rk(t,e)}function Zw(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Iu,t.schema=i),t.ancestors.push(e);const s=fg(t,e.tagName,!1),o=ok(t,e);let l=Lu(t,e);return Yw.has(e.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!Tw(a):!0})),cg(t,o,s,e),Nu(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Qw(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ki(t,e.position)}function ek(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ki(t,e.position)}function tk(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Iu,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:fg(t,e.name,!0),o=lk(t,e),l=Lu(t,e);return cg(t,o,s,e),Nu(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function nk(t,e,n){const r={};return Nu(r,Lu(t,e)),t.create(e,t.Fragment,r,n)}function rk(t,e){return e.value}function cg(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Nu(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function ik(t,e,n){return r;function r(i,s,o,l){const u=Array.isArray(o.children)?n:e;return l?u(s,o,l):u(s,o)}}function sk(t,e){return n;function n(r,i,s,o){const l=Array.isArray(s.children),a=Fu(r);return e(i,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:t,lineNumber:a?a.line:void 0},void 0)}}function ok(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Ou.call(e.properties,i)){const s=ak(t,i,e.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Jw.has(e.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function lk(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Ki(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else Ki(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Lu(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:qw;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const l=ug(t,s,o);l!==void 0&&n.push(l)}return n}function ak(t,e,n){const r=Mw(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Sw(n):zw(n)),r.property==="style"){let i=typeof n=="object"?n:uk(t,String(n));return t.stylePropertyNameCase==="css"&&(i=ck(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Ow[r.property]||r.property:r.attribute,n]}}function uk(t,e){try{return Kw(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Xe("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=ag+"#cannot-parse-style-attribute",i}}function fg(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const l=Df(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=Df(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Ou.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ki(t)}function Ki(t,e){const n=new Xe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=ag+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ck(t){const e={};let n;for(n in t)Ou.call(t,n)&&(e[fk(n)]=t[n]);return e}function fk(t){let e=t.replace(Gw,dk);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function dk(t){return"-"+t.toLowerCase()}const Il={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},hk={};function Mu(t,e){const n=hk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return dg(t,r,i)}function dg(t,e,n){if(pk(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return zf(t.children,e,n)}return Array.isArray(t)?zf(t,e,n):""}function zf(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=dg(t[i],e,n);return r.join("")}function pk(t){return!!(t&&typeof t=="object")}const jf=document.createElement("i");function Pu(t){const e="&"+t+";";jf.innerHTML=e;const n=jf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function yt(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function xt(t,e){return t.length>0?(yt(t,t.length,0,e),t):e}const $f={}.hasOwnProperty;function hg(t){const e={};let n=-1;for(;++n<t.length;)gk(e,t[n]);return e}function gk(t,e){let n;for(n in e){const i=($f.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){$f.call(i,o)||(i[o]=[]);const l=s[o];mk(i[o],Array.isArray(l)?l:l?[l]:[])}}}function mk(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);yt(t,0,0,r)}function pg(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function It(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nt=Wn(/[A-Za-z]/),Ve=Wn(/[\dA-Za-z]/),yk=Wn(/[#-'*+\--9=?A-Z^-~]/);function ho(t){return t!==null&&(t<32||t===127)}const Da=Wn(/\d/),bk=Wn(/[\dA-Fa-f]/),xk=Wn(/[!-/:-@[-`{-~]/);function X(t){return t!==null&&t<-2}function we(t){return t!==null&&(t<0||t===32)}function oe(t){return t===-2||t===-1||t===32}const Xo=Wn(new RegExp("\\p{P}|\\p{S}","u")),ir=Wn(/\s/);function Wn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ui(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Ve(t.charCodeAt(n+1))&&Ve(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ue(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return oe(a)?(t.enter(n),l(a)):e(a)}function l(a){return oe(a)&&s++<i?(t.consume(a),l):(t.exit(n),e(a))}}const wk={tokenize:kk};function kk(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ue(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return X(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const _k={tokenize:Sk},Uf={tokenize:Ek};function Sk(t){const e=this,n=[];let r=0,i,s,o;return l;function l(x){if(r<n.length){const k=n[r];return e.containerState=k[1],t.attempt(k[0].continuation,a,u)(x)}return u(x)}function a(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const k=e.events.length;let S=k,w;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){w=e.events[S][1].end;break}y(r);let A=k;for(;A<e.events.length;)e.events[A][1].end={...w},A++;return yt(e.events,S+1,0,e.events.slice(k)),e.events.length=A,u(x)}return l(x)}function u(x){if(r===n.length){if(!i)return d(x);if(i.currentConstruct&&i.currentConstruct.concrete)return p(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Uf,c,f)(x)}function c(x){return i&&b(),y(r),d(x)}function f(x){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,p(x)}function d(x){return e.containerState={},t.attempt(Uf,h,p)(x)}function h(x){return r++,n.push([e.currentConstruct,e.containerState]),d(x)}function p(x){if(x===null){i&&b(),y(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(x)}function g(x){if(x===null){m(t.exit("chunkFlow"),!0),y(0),t.consume(x);return}return X(x)?(t.consume(x),m(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(x),g)}function m(x,k){const S=e.sliceStream(x);if(k&&S.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(S),e.parser.lazy[x.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const A=e.events.length;let C=A,T,_;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(T){_=e.events[C][1].end;break}T=!0}for(y(r),w=A;w<e.events.length;)e.events[w][1].end={..._},w++;yt(e.events,C+1,0,e.events.slice(A)),e.events.length=w}}function y(x){let k=n.length;for(;k-- >x;){const S=n[k];e.containerState=S[1],S[0].exit.call(e,t)}n.length=x}function b(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Ek(t,e,n){return ue(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Yr(t){if(t===null||we(t)||ir(t))return 1;if(Xo(t))return 2}function Zo(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Ia={name:"attention",resolveAll:vk,tokenize:Ck};function vk(t,e){let n=-1,r,i,s,o,l,a,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},d={...t[n][1].start};Wf(f,-a),Wf(d,a),o={type:a>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:d},s={type:a>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=xt(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=xt(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=xt(u,Zo(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=xt(u,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=xt(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,yt(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Ck(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Yr(r);let s;return o;function o(a){return s=a,t.enter("attentionSequence"),l(a)}function l(a){if(a===s)return t.consume(a),l;const u=t.exit("attentionSequence"),c=Yr(a),f=!c||c===2&&i||n.includes(a),d=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?f:f&&(i||!d)),u._close=!!(s===42?d:d&&(c||!f)),e(a)}}function Wf(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Ak={name:"autolink",tokenize:Tk};function Tk(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(h){return nt(h)?(t.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||Ve(h)?(r=1,l(h)):u(h)}function l(h){return h===58?(t.consume(h),r=0,a):(h===43||h===45||h===46||Ve(h))&&r++<32?(t.consume(h),l):(r=0,u(h))}function a(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||ho(h)?n(h):(t.consume(h),a)}function u(h){return h===64?(t.consume(h),c):yk(h)?(t.consume(h),u):n(h)}function c(h){return Ve(h)?f(h):n(h)}function f(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):d(h)}function d(h){if((h===45||Ve(h))&&r++<63){const p=h===45?d:f;return t.consume(h),p}return n(h)}}const ds={partial:!0,tokenize:Dk};function Dk(t,e,n){return r;function r(s){return oe(s)?ue(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||X(s)?e(s):n(s)}}const gg={continuation:{tokenize:Fk},exit:Ok,name:"blockQuote",tokenize:Ik};function Ik(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return oe(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Fk(t,e,n){const r=this;return i;function i(o){return oe(o)?ue(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(gg,e,n)(o)}}function Ok(t){t.exit("blockQuote")}const mg={name:"characterEscape",tokenize:Nk};function Nk(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return xk(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const yg={name:"characterReference",tokenize:Lk};function Lk(t,e,n){const r=this;let i=0,s,o;return l;function l(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),a}function a(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Ve,c(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=bk,c):(t.enter("characterReferenceValue"),s=7,o=Da,c(f))}function c(f){if(f===59&&i){const d=t.exit("characterReferenceValue");return o===Ve&&!Pu(r.sliceSerialize(d))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),c):n(f)}}const Hf={partial:!0,tokenize:Pk},Kf={concrete:!0,name:"codeFenced",tokenize:Mk};function Mk(t,e,n){const r=this,i={partial:!0,tokenize:S};let s=0,o=0,l;return a;function a(w){return u(w)}function u(w){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,l=w,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===l?(o++,t.consume(w),c):o<3?n(w):(t.exit("codeFencedFenceSequence"),oe(w)?ue(t,f,"whitespace")(w):f(w))}function f(w){return w===null||X(w)?(t.exit("codeFencedFence"),r.interrupt?e(w):t.check(Hf,g,k)(w)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||X(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(w)):oe(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ue(t,h,"whitespace")(w)):w===96&&w===l?n(w):(t.consume(w),d)}function h(w){return w===null||X(w)?f(w):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||X(w)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(w)):w===96&&w===l?n(w):(t.consume(w),p)}function g(w){return t.attempt(i,k,m)(w)}function m(w){return t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),y}function y(w){return s>0&&oe(w)?ue(t,b,"linePrefix",s+1)(w):b(w)}function b(w){return w===null||X(w)?t.check(Hf,g,k)(w):(t.enter("codeFlowValue"),x(w))}function x(w){return w===null||X(w)?(t.exit("codeFlowValue"),b(w)):(t.consume(w),x)}function k(w){return t.exit("codeFenced"),e(w)}function S(w,A,C){let T=0;return _;function _(B){return w.enter("lineEnding"),w.consume(B),w.exit("lineEnding"),F}function F(B){return w.enter("codeFencedFence"),oe(B)?ue(w,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):L(B)}function L(B){return B===l?(w.enter("codeFencedFenceSequence"),R(B)):C(B)}function R(B){return B===l?(T++,w.consume(B),R):T>=o?(w.exit("codeFencedFenceSequence"),oe(B)?ue(w,I,"whitespace")(B):I(B)):C(B)}function I(B){return B===null||X(B)?(w.exit("codeFencedFence"),A(B)):C(B)}}}function Pk(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Fl={name:"codeIndented",tokenize:Bk},Rk={partial:!0,tokenize:zk};function Bk(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),ue(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):X(u)?t.attempt(Rk,o,a)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||X(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),l)}function a(u){return t.exit("codeIndented"),e(u)}}function zk(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):X(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):ue(t,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):X(o)?i(o):n(o)}}const jk={name:"codeText",previous:Uk,resolve:$k,tokenize:Wk};function $k(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Uk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wk(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),l(f)}function l(f){return f===96?(t.consume(f),r++,l):(t.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),a):f===96?(s=t.enter("codeTextSequence"),i=0,c(f)):X(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||X(f)?(t.exit("codeTextData"),a(f)):(t.consume(f),u)}function c(f){return f===96?(t.consume(f),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",u(f))}}class Hk{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_i(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),_i(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),_i(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);_i(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);_i(this.left,n.reverse())}}}function _i(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function bg(t){const e={};let n=-1,r,i,s,o,l,a,u;const c=new Hk(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Kk(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return yt(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Kk(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,a=[],u={};let c,f,d=-1,h=n,p=0,g=0;const m=[g];for(;h;){for(;t.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<l.length;)l[d][0]==="exit"&&l[d-1][0]==="enter"&&l[d][1].type===l[d-1][1].type&&l[d][1].start.line!==l[d][1].end.line&&(g=d+1,m.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):m.pop(),d=m.length;d--;){const y=l.slice(m[d],m[d+1]),b=s.pop();a.push([b,b+y.length-1]),t.splice(b,2,y)}for(a.reverse(),d=-1;++d<a.length;)u[p+a[d][0]]=p+a[d][1],p+=a[d][1]-a[d][0]-1;return u}const Vk={resolve:Gk,tokenize:Yk},qk={partial:!0,tokenize:Jk};function Gk(t){return bg(t),t}function Yk(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):X(l)?t.check(qk,o,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Jk(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ue(t,s,"linePrefix")}function s(o){if(o===null||X(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function xg(t,e,n,r,i,s,o,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),d):y===null||y===32||y===41||ho(y)?n(y):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),g(y))}function d(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(t.exit("chunkString"),t.exit(l),d(y)):y===null||y===60||X(y)?n(y):(t.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(t.consume(y),h):h(y)}function g(y){return!c&&(y===null||y===41||we(y))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(y)):c<u&&y===40?(t.consume(y),c++,g):y===41?(t.consume(y),c--,g):y===null||y===32||y===40||ho(y)?n(y):(t.consume(y),y===92?m:g)}function m(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function wg(t,e,n,r,i,s){const o=this;let l=0,a;return u;function u(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(s),c}function c(h){return l>999||h===null||h===91||h===93&&!a||h===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(t.exit(s),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):X(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||X(h)||l++>999?(t.exit("chunkString"),c(h)):(t.consume(h),a||(a=!oe(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(t.consume(h),l++,f):f(h)}}function kg(t,e,n,r,i,s){let o;return l;function l(d){return d===34||d===39||d===40?(t.enter(r),t.enter(i),t.consume(d),t.exit(i),o=d===40?41:d,a):n(d)}function a(d){return d===o?(t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):(t.enter(s),u(d))}function u(d){return d===o?(t.exit(s),a(o)):d===null?n(d):X(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),ue(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||X(d)?(t.exit("chunkString"),u(d)):(t.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(t.consume(d),c):c(d)}}function Li(t,e){let n;return r;function r(i){return X(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):oe(i)?ue(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Xk={name:"definition",tokenize:Qk},Zk={partial:!0,tokenize:e_};function Qk(t,e,n){const r=this;let i;return s;function s(h){return t.enter("definition"),o(h)}function o(h){return wg.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=It(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),a):n(h)}function a(h){return we(h)?Li(t,u)(h):u(h)}function u(h){return xg(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(Zk,f,f)(h)}function f(h){return oe(h)?ue(t,d,"whitespace")(h):d(h)}function d(h){return h===null||X(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function e_(t,e,n){return r;function r(l){return we(l)?Li(t,i)(l):n(l)}function i(l){return kg(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return oe(l)?ue(t,o,"whitespace")(l):o(l)}function o(l){return l===null||X(l)?e(l):n(l)}}const t_={name:"hardBreakEscape",tokenize:n_};function n_(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return X(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const r_={name:"headingAtx",resolve:i_,tokenize:s_};function i_(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},yt(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function s_(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||we(c)?(t.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(t.enter("atxHeadingSequence"),a(c)):c===null||X(c)?(t.exit("atxHeading"),e(c)):oe(c)?ue(t,l,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function a(c){return c===35?(t.consume(c),a):(t.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||we(c)?(t.exit("atxHeadingText"),l(c)):(t.consume(c),u)}}const o_=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Vf=["pre","script","style","textarea"],l_={concrete:!0,name:"htmlFlow",resolveTo:c_,tokenize:f_},a_={partial:!0,tokenize:h_},u_={partial:!0,tokenize:d_};function c_(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function f_(t,e,n){const r=this;let i,s,o,l,a;return u;function u(v){return c(v)}function c(v){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(v),f}function f(v){return v===33?(t.consume(v),d):v===47?(t.consume(v),s=!0,g):v===63?(t.consume(v),i=3,r.interrupt?e:E):nt(v)?(t.consume(v),o=String.fromCharCode(v),m):n(v)}function d(v){return v===45?(t.consume(v),i=2,h):v===91?(t.consume(v),i=5,l=0,p):nt(v)?(t.consume(v),i=4,r.interrupt?e:E):n(v)}function h(v){return v===45?(t.consume(v),r.interrupt?e:E):n(v)}function p(v){const ve="CDATA[";return v===ve.charCodeAt(l++)?(t.consume(v),l===ve.length?r.interrupt?e:L:p):n(v)}function g(v){return nt(v)?(t.consume(v),o=String.fromCharCode(v),m):n(v)}function m(v){if(v===null||v===47||v===62||we(v)){const ve=v===47,Ze=o.toLowerCase();return!ve&&!s&&Vf.includes(Ze)?(i=1,r.interrupt?e(v):L(v)):o_.includes(o.toLowerCase())?(i=6,ve?(t.consume(v),y):r.interrupt?e(v):L(v)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(v):s?b(v):x(v))}return v===45||Ve(v)?(t.consume(v),o+=String.fromCharCode(v),m):n(v)}function y(v){return v===62?(t.consume(v),r.interrupt?e:L):n(v)}function b(v){return oe(v)?(t.consume(v),b):_(v)}function x(v){return v===47?(t.consume(v),_):v===58||v===95||nt(v)?(t.consume(v),k):oe(v)?(t.consume(v),x):_(v)}function k(v){return v===45||v===46||v===58||v===95||Ve(v)?(t.consume(v),k):S(v)}function S(v){return v===61?(t.consume(v),w):oe(v)?(t.consume(v),S):x(v)}function w(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),a=v,A):oe(v)?(t.consume(v),w):C(v)}function A(v){return v===a?(t.consume(v),a=null,T):v===null||X(v)?n(v):(t.consume(v),A)}function C(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||we(v)?S(v):(t.consume(v),C)}function T(v){return v===47||v===62||oe(v)?x(v):n(v)}function _(v){return v===62?(t.consume(v),F):n(v)}function F(v){return v===null||X(v)?L(v):oe(v)?(t.consume(v),F):n(v)}function L(v){return v===45&&i===2?(t.consume(v),q):v===60&&i===1?(t.consume(v),G):v===62&&i===4?(t.consume(v),he):v===63&&i===3?(t.consume(v),E):v===93&&i===5?(t.consume(v),te):X(v)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(a_,Ee,R)(v)):v===null||X(v)?(t.exit("htmlFlowData"),R(v)):(t.consume(v),L)}function R(v){return t.check(u_,I,Ee)(v)}function I(v){return t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),B}function B(v){return v===null||X(v)?R(v):(t.enter("htmlFlowData"),L(v))}function q(v){return v===45?(t.consume(v),E):L(v)}function G(v){return v===47?(t.consume(v),o="",Y):L(v)}function Y(v){if(v===62){const ve=o.toLowerCase();return Vf.includes(ve)?(t.consume(v),he):L(v)}return nt(v)&&o.length<8?(t.consume(v),o+=String.fromCharCode(v),Y):L(v)}function te(v){return v===93?(t.consume(v),E):L(v)}function E(v){return v===62?(t.consume(v),he):v===45&&i===2?(t.consume(v),E):L(v)}function he(v){return v===null||X(v)?(t.exit("htmlFlowData"),Ee(v)):(t.consume(v),he)}function Ee(v){return t.exit("htmlFlow"),e(v)}}function d_(t,e,n){const r=this;return i;function i(o){return X(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function h_(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(ds,e,n)}}const p_={name:"htmlText",tokenize:g_};function g_(t,e,n){const r=this;let i,s,o;return l;function l(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),a}function a(E){return E===33?(t.consume(E),u):E===47?(t.consume(E),S):E===63?(t.consume(E),x):nt(E)?(t.consume(E),C):n(E)}function u(E){return E===45?(t.consume(E),c):E===91?(t.consume(E),s=0,p):nt(E)?(t.consume(E),b):n(E)}function c(E){return E===45?(t.consume(E),h):n(E)}function f(E){return E===null?n(E):E===45?(t.consume(E),d):X(E)?(o=f,G(E)):(t.consume(E),f)}function d(E){return E===45?(t.consume(E),h):f(E)}function h(E){return E===62?q(E):E===45?d(E):f(E)}function p(E){const he="CDATA[";return E===he.charCodeAt(s++)?(t.consume(E),s===he.length?g:p):n(E)}function g(E){return E===null?n(E):E===93?(t.consume(E),m):X(E)?(o=g,G(E)):(t.consume(E),g)}function m(E){return E===93?(t.consume(E),y):g(E)}function y(E){return E===62?q(E):E===93?(t.consume(E),y):g(E)}function b(E){return E===null||E===62?q(E):X(E)?(o=b,G(E)):(t.consume(E),b)}function x(E){return E===null?n(E):E===63?(t.consume(E),k):X(E)?(o=x,G(E)):(t.consume(E),x)}function k(E){return E===62?q(E):x(E)}function S(E){return nt(E)?(t.consume(E),w):n(E)}function w(E){return E===45||Ve(E)?(t.consume(E),w):A(E)}function A(E){return X(E)?(o=A,G(E)):oe(E)?(t.consume(E),A):q(E)}function C(E){return E===45||Ve(E)?(t.consume(E),C):E===47||E===62||we(E)?T(E):n(E)}function T(E){return E===47?(t.consume(E),q):E===58||E===95||nt(E)?(t.consume(E),_):X(E)?(o=T,G(E)):oe(E)?(t.consume(E),T):q(E)}function _(E){return E===45||E===46||E===58||E===95||Ve(E)?(t.consume(E),_):F(E)}function F(E){return E===61?(t.consume(E),L):X(E)?(o=F,G(E)):oe(E)?(t.consume(E),F):T(E)}function L(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,R):X(E)?(o=L,G(E)):oe(E)?(t.consume(E),L):(t.consume(E),I)}function R(E){return E===i?(t.consume(E),i=void 0,B):E===null?n(E):X(E)?(o=R,G(E)):(t.consume(E),R)}function I(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||we(E)?T(E):(t.consume(E),I)}function B(E){return E===47||E===62||we(E)?T(E):n(E)}function q(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function G(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Y}function Y(E){return oe(E)?ue(t,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):te(E)}function te(E){return t.enter("htmlTextData"),o(E)}}const Ru={name:"labelEnd",resolveAll:x_,resolveTo:w_,tokenize:k_},m_={tokenize:__},y_={tokenize:S_},b_={tokenize:E_};function x_(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&yt(t,0,t.length,n),t}function w_(t,e){let n=t.length,r=0,i,s,o,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},c={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",a,e],["enter",u,e]],l=xt(l,t.slice(s+1,s+r+3)),l=xt(l,[["enter",c,e]]),l=xt(l,Zo(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),l=xt(l,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),l=xt(l,t.slice(o+1)),l=xt(l,[["exit",a,e]]),yt(t,s,t.length,l),t}function k_(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(It(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),a):n(d)}function a(d){return d===40?t.attempt(m_,c,o?c:f)(d):d===91?t.attempt(y_,c,o?u:f)(d):o?c(d):f(d)}function u(d){return t.attempt(b_,c,f)(d)}function c(d){return e(d)}function f(d){return s._balanced=!0,n(d)}}function __(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return we(f)?Li(t,s)(f):s(f)}function s(f){return f===41?c(f):xg(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return we(f)?Li(t,a)(f):c(f)}function l(f){return n(f)}function a(f){return f===34||f===39||f===40?kg(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return we(f)?Li(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function S_(t,e,n){const r=this;return i;function i(l){return wg.call(r,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(It(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function E_(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const v_={name:"labelStartImage",resolveAll:Ru.resolveAll,tokenize:C_};function C_(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const A_={name:"labelStartLink",resolveAll:Ru.resolveAll,tokenize:T_};function T_(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Ol={name:"lineEnding",tokenize:D_};function D_(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ue(t,e,"linePrefix")}}const Zs={name:"thematicBreak",tokenize:I_};function I_(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||X(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),oe(u)?ue(t,l,"whitespace")(u):l(u))}}const lt={continuation:{tokenize:L_},exit:P_,name:"list",tokenize:N_},F_={partial:!0,tokenize:R_},O_={partial:!0,tokenize:M_};function N_(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Da(h)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Zs,n,u)(h):u(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(h)}return n(h)}function a(h){return Da(h)&&++o<10?(t.consume(h),a):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),u(h)):n(h)}function u(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(ds,r.interrupt?n:c,t.attempt(F_,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return oe(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function L_(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ds,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ue(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!oe(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(O_,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,ue(t,t.attempt(lt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function M_(t,e,n){const r=this;return ue(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function P_(t){t.exit(this.containerState.type)}function R_(t,e,n){const r=this;return ue(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!oe(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const qf={name:"setextUnderline",resolveTo:B_,tokenize:z_};function B_(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function z_(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),oe(u)?ue(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||X(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const j_={tokenize:$_};function $_(t){const e=this,n=t.attempt(ds,r,t.attempt(this.parser.constructs.flowInitial,i,ue(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Vk,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const U_={resolveAll:Sg()},W_=_g("string"),H_=_g("text");function _g(t){return{resolveAll:Sg(t==="text"?K_:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,l);return o;function o(c){return u(c)?s(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Sg(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function K_(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)a=!0,l++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const u={type:n===t.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const V_={42:lt,43:lt,45:lt,48:lt,49:lt,50:lt,51:lt,52:lt,53:lt,54:lt,55:lt,56:lt,57:lt,62:gg},q_={91:Xk},G_={[-2]:Fl,[-1]:Fl,32:Fl},Y_={35:r_,42:Zs,45:[qf,Zs],60:l_,61:qf,95:Zs,96:Kf,126:Kf},J_={38:yg,92:mg},X_={[-5]:Ol,[-4]:Ol,[-3]:Ol,33:v_,38:yg,42:Ia,60:[Ak,p_],91:A_,92:[t_,mg],93:Ru,95:Ia,96:jk},Z_={null:[Ia,U_]},Q_={null:[42,95]},eS={null:[]},tS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Q_,contentInitial:q_,disable:eS,document:V_,flow:Y_,flowInitial:G_,insideSpan:Z_,string:J_,text:X_},Symbol.toStringTag,{value:"Module"}));function nS(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],l=[];const a={attempt:A(S),check:A(w),consume:b,enter:x,exit:k,interrupt:A(w,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:t,previous:null,sliceSerialize:d,sliceStream:h,write:f};let c=e.tokenize.call(u,a);return e.resolveAll&&s.push(e),u;function f(F){return o=xt(o,F),m(),o[o.length-1]!==null?[]:(C(e,0),u.events=Zo(s,u.events,u),u.events)}function d(F,L){return iS(h(F),L)}function h(F){return rS(o,F)}function p(){const{_bufferIndex:F,_index:L,line:R,column:I,offset:B}=r;return{_bufferIndex:F,_index:L,line:R,column:I,offset:B}}function g(F){i[F.line]=F.column,_()}function m(){let F;for(;r._index<o.length;){const L=o[r._index];if(typeof L=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<L.length;)y(L.charCodeAt(r._bufferIndex));else y(L)}}function y(F){c=c(F)}function b(F){X(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,_()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function x(F,L){const R=L||{};return R.type=F,R.start=p(),u.events.push(["enter",R,u]),l.push(R),R}function k(F){const L=l.pop();return L.end=p(),u.events.push(["exit",L,u]),L}function S(F,L){C(F,L.from)}function w(F,L){L.restore()}function A(F,L){return R;function R(I,B,q){let G,Y,te,E;return Array.isArray(I)?Ee(I):"tokenize"in I?Ee([I]):he(I);function he(pe){return ot;function ot(Ue){const Qe=Ue!==null&&pe[Ue],rn=Ue!==null&&pe.null,Is=[...Array.isArray(Qe)?Qe:Qe?[Qe]:[],...Array.isArray(rn)?rn:rn?[rn]:[]];return Ee(Is)(Ue)}}function Ee(pe){return G=pe,Y=0,pe.length===0?q:v(pe[Y])}function v(pe){return ot;function ot(Ue){return E=T(),te=pe,pe.partial||(u.currentConstruct=pe),pe.name&&u.parser.constructs.disable.null.includes(pe.name)?Ze():pe.tokenize.call(L?Object.assign(Object.create(u),L):u,a,ve,Ze)(Ue)}}function ve(pe){return F(te,E),B}function Ze(pe){return E.restore(),++Y<G.length?v(G[Y]):q}}}function C(F,L){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&yt(u.events,L,u.events.length-L,F.resolve(u.events.slice(L),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function T(){const F=p(),L=u.previous,R=u.currentConstruct,I=u.events.length,B=Array.from(l);return{from:I,restore:q};function q(){r=F,u.previous=L,u.currentConstruct=R,u.events.length=I,l=B,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rS(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function iS(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function sS(t){const r={constructs:hg([tS,...(t||{}).extensions||[]]),content:i(wk),defined:[],document:i(_k),flow:i(j_),lazy:{},string:i(W_),text:i(H_)};return r;function i(s){return o;function o(l){return nS(r,s,l)}}}function oS(t){for(;!bg(t););return t}const Gf=/[\0\t\n\r]/g;function lS(){let t=1,e="",n=!0,r;return i;function i(s,o,l){const a=[];let u,c,f,d,h;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(Gf.lastIndex=f,u=Gf.exec(s),d=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(d),!u){e=s.slice(f);break}if(h===10&&f===d&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<d&&(a.push(s.slice(f,d)),t+=d-f),h){case 0:{a.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,a.push(-2);t++<c;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}f=d+1}return l&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const aS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uS(t){return t.replace(aS,cS)}function cS(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return pg(n.slice(s?2:1),s?16:10)}return Pu(n)||t}const Eg={}.hasOwnProperty;function fS(t,e,n){return typeof e!="string"&&(n=e,e=void 0),dS(n)(oS(sS(n).document().write(lS()(t,e,!0))))}function dS(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(hf),autolinkProtocol:T,autolinkEmail:T,atxHeading:s(cf),blockQuote:s(rn),characterEscape:T,characterReference:T,codeFenced:s(Is),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Is,o),codeText:s(m0,o),codeTextData:T,data:T,codeFlowValue:T,definition:s(y0),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(b0),hardBreakEscape:s(ff),hardBreakTrailing:s(ff),htmlFlow:s(df,o),htmlFlowData:T,htmlText:s(df,o),htmlTextData:T,image:s(x0),label:o,link:s(hf),listItem:s(w0),listItemValue:d,listOrdered:s(pf,f),listUnordered:s(pf),paragraph:s(k0),reference:v,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(cf),strong:s(_0),thematicBreak:s(E0)},exit:{atxHeading:a(),atxHeadingSequence:S,autolink:a(),autolinkEmail:Qe,autolinkProtocol:Ue,blockQuote:a(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:Ze,characterReferenceMarkerNumeric:Ze,characterReferenceValue:pe,characterReference:ot,codeFenced:a(m),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:_,codeIndented:a(y),codeText:a(B),codeTextData:_,data:_,definition:a(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:x,emphasis:a(),hardBreakEscape:a(L),hardBreakTrailing:a(L),htmlFlow:a(R),htmlFlowData:_,htmlText:a(I),htmlTextData:_,image:a(G),label:te,labelText:Y,lineEnding:F,link:a(q),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:ve,resourceDestinationString:E,resourceTitleString:he,resource:Ee,setextHeading:a(C),setextHeadingLineSequence:A,setextHeadingText:w,strong:a(),thematicBreak:a()}};vg(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(N){let W={type:"root",children:[]};const ee={stack:[W],tokenStack:[],config:e,enter:l,exit:u,buffer:o,resume:c,data:n},ae=[];let ye=-1;for(;++ye<N.length;)if(N[ye][1].type==="listOrdered"||N[ye][1].type==="listUnordered")if(N[ye][0]==="enter")ae.push(ye);else{const At=ae.pop();ye=i(N,At,ye)}for(ye=-1;++ye<N.length;){const At=e[N[ye][0]];Eg.call(At,N[ye][1].type)&&At[N[ye][1].type].call(Object.assign({sliceSerialize:N[ye][2].sliceSerialize},ee),N[ye][1])}if(ee.tokenStack.length>0){const At=ee.tokenStack[ee.tokenStack.length-1];(At[1]||Yf).call(ee,void 0,At[0])}for(W.position={start:vn(N.length>0?N[0][1].start:{line:1,column:1,offset:0}),end:vn(N.length>0?N[N.length-2][1].end:{line:1,column:1,offset:0})},ye=-1;++ye<e.transforms.length;)W=e.transforms[ye](W)||W;return W}function i(N,W,ee){let ae=W-1,ye=-1,At=!1,qn,sn,yi,bi;for(;++ae<=ee;){const ht=N[ae];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?ye++:ye--,bi=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(qn&&!bi&&!ye&&!yi&&(yi=ae),bi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bi=void 0}if(!ye&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||ye===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(qn){let Er=ae;for(sn=void 0;Er--;){const on=N[Er];if(on[1].type==="lineEnding"||on[1].type==="lineEndingBlank"){if(on[0]==="exit")continue;sn&&(N[sn][1].type="lineEndingBlank",At=!0),on[1].type="lineEnding",sn=Er}else if(!(on[1].type==="linePrefix"||on[1].type==="blockQuotePrefix"||on[1].type==="blockQuotePrefixWhitespace"||on[1].type==="blockQuoteMarker"||on[1].type==="listItemIndent"))break}yi&&(!sn||yi<sn)&&(qn._spread=!0),qn.end=Object.assign({},sn?N[sn][1].start:ht[1].end),N.splice(sn||ae,0,["exit",qn,ht[2]]),ae++,ee++}if(ht[1].type==="listItemPrefix"){const Er={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};qn=Er,N.splice(ae,0,["enter",Er,ht[2]]),ae++,ee++,yi=void 0,bi=!0}}}return N[W][1]._spread=At,ee}function s(N,W){return ee;function ee(ae){l.call(this,N(ae),ae),W&&W.call(this,ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(N,W,ee){this.stack[this.stack.length-1].children.push(N),this.stack.push(N),this.tokenStack.push([W,ee||void 0]),N.position={start:vn(W.start),end:void 0}}function a(N){return W;function W(ee){N&&N.call(this,ee),u.call(this,ee)}}function u(N,W){const ee=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==N.type&&(W?W.call(this,N,ae[0]):(ae[1]||Yf).call(this,N,ae[0]));else throw new Error("Cannot close `"+N.type+"` ("+Ni({start:N.start,end:N.end})+"): its not open");ee.position.end=vn(N.end)}function c(){return Mu(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(N){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(N),10),this.data.expectingFirstListItemValue=void 0}}function h(){const N=this.resume(),W=this.stack[this.stack.length-1];W.lang=N}function p(){const N=this.resume(),W=this.stack[this.stack.length-1];W.meta=N}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const N=this.resume(),W=this.stack[this.stack.length-1];W.value=N.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const N=this.resume(),W=this.stack[this.stack.length-1];W.value=N.replace(/(\r?\n|\r)$/g,"")}function b(N){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.label=W,ee.identifier=It(this.sliceSerialize(N)).toLowerCase()}function x(){const N=this.resume(),W=this.stack[this.stack.length-1];W.title=N}function k(){const N=this.resume(),W=this.stack[this.stack.length-1];W.url=N}function S(N){const W=this.stack[this.stack.length-1];if(!W.depth){const ee=this.sliceSerialize(N).length;W.depth=ee}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function A(N){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(N).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function T(N){const ee=this.stack[this.stack.length-1].children;let ae=ee[ee.length-1];(!ae||ae.type!=="text")&&(ae=S0(),ae.position={start:vn(N.start),end:void 0},ee.push(ae)),this.stack.push(ae)}function _(N){const W=this.stack.pop();W.value+=this.sliceSerialize(N),W.position.end=vn(N.end)}function F(N){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ee=W.children[W.children.length-1];ee.position.end=vn(N.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(W.type)&&(T.call(this,N),_.call(this,N))}function L(){this.data.atHardBreak=!0}function R(){const N=this.resume(),W=this.stack[this.stack.length-1];W.value=N}function I(){const N=this.resume(),W=this.stack[this.stack.length-1];W.value=N}function B(){const N=this.resume(),W=this.stack[this.stack.length-1];W.value=N}function q(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=W,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function G(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=W,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function Y(N){const W=this.sliceSerialize(N),ee=this.stack[this.stack.length-2];ee.label=uS(W),ee.identifier=It(W).toLowerCase()}function te(){const N=this.stack[this.stack.length-1],W=this.resume(),ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,ee.type==="link"){const ae=N.children;ee.children=ae}else ee.alt=W}function E(){const N=this.resume(),W=this.stack[this.stack.length-1];W.url=N}function he(){const N=this.resume(),W=this.stack[this.stack.length-1];W.title=N}function Ee(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function ve(N){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.label=W,ee.identifier=It(this.sliceSerialize(N)).toLowerCase(),this.data.referenceType="full"}function Ze(N){this.data.characterReferenceType=N.type}function pe(N){const W=this.sliceSerialize(N),ee=this.data.characterReferenceType;let ae;ee?(ae=pg(W,ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=Pu(W);const ye=this.stack[this.stack.length-1];ye.value+=ae}function ot(N){const W=this.stack.pop();W.position.end=vn(N.end)}function Ue(N){_.call(this,N);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(N)}function Qe(N){_.call(this,N);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(N)}function rn(){return{type:"blockquote",children:[]}}function Is(){return{type:"code",lang:null,meta:null,value:""}}function m0(){return{type:"inlineCode",value:""}}function y0(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function b0(){return{type:"emphasis",children:[]}}function cf(){return{type:"heading",depth:0,children:[]}}function ff(){return{type:"break"}}function df(){return{type:"html",value:""}}function x0(){return{type:"image",title:null,url:"",alt:null}}function hf(){return{type:"link",title:null,url:"",children:[]}}function pf(N){return{type:"list",ordered:N.type==="listOrdered",start:null,spread:N._spread,children:[]}}function w0(N){return{type:"listItem",spread:N._spread,checked:null,children:[]}}function k0(){return{type:"paragraph",children:[]}}function _0(){return{type:"strong",children:[]}}function S0(){return{type:"text",value:""}}function E0(){return{type:"thematicBreak"}}}function vn(t){return{line:t.line,column:t.column,offset:t.offset}}function vg(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?vg(t,r):hS(t,r)}}function hS(t,e){let n;for(n in e)if(Eg.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Yf(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ni({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ni({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ni({start:e.start,end:e.end})+") is still open")}function pS(t){const e=this;e.parser=n;function n(r){return fS(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function gS(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function mS(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function yS(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function bS(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xS(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wS(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=ui(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,l+=1,t.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,u),t.applyData(e,u)}function kS(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _S(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Cg(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function SS(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Cg(t,e);const i={src:ui(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function ES(t,e){const n={src:ui(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function vS(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function CS(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Cg(t,e);const i={href:ui(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function AS(t,e){const n={href:ui(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function TS(t,e,n){const r=t.all(e),i=n?DS(n):Ag(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function DS(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Ag(n[r])}return e}function Ag(t){const e=t.spread;return e??t.children.length>1}function IS(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function FS(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OS(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function NS(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LS(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=Fu(e.children[1]),a=og(e.children[e.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function MS(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let a=-1;const u=[];for(;++a<l;){const f=e.children[a],d={},h=o?o[a]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=t.all(f),t.patch(f,p),p=t.applyData(f,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function PS(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Jf=9,Xf=32;function RS(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Zf(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Zf(e.slice(i),i>0,!1)),s.join("")}function Zf(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Jf||s===Xf;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Jf||s===Xf;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function BS(t,e){const n={type:"text",value:RS(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function zS(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const jS={blockquote:gS,break:mS,code:yS,delete:bS,emphasis:xS,footnoteReference:wS,heading:kS,html:_S,imageReference:SS,image:ES,inlineCode:vS,linkReference:CS,link:AS,listItem:TS,list:IS,paragraph:FS,root:OS,strong:NS,table:LS,tableCell:PS,tableRow:MS,text:BS,thematicBreak:zS,toml:Ms,yaml:Ms,definition:Ms,footnoteDefinition:Ms};function Ms(){}const Tg=-1,Qo=0,Mi=1,po=2,Bu=3,zu=4,ju=5,$u=6,Dg=7,Ig=8,Qf=typeof self=="object"?self:globalThis,$S=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Qo:case Tg:return n(o,i);case Mi:{const l=n([],i);for(const a of o)l.push(r(a));return l}case po:{const l=n({},i);for(const[a,u]of o)l[r(a)]=r(u);return l}case Bu:return n(new Date(o),i);case zu:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case ju:{const l=n(new Map,i);for(const[a,u]of o)l.set(r(a),r(u));return l}case $u:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case Dg:{const{name:l,message:a}=o;return n(new Qf[l](a),i)}case Ig:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new Qf[s](o),i)};return r},ed=t=>$S(new Map,t)(0),Tr="",{toString:US}={},{keys:WS}=Object,Si=t=>{const e=typeof t;if(e!=="object"||!t)return[Qo,e];const n=US.call(t).slice(8,-1);switch(n){case"Array":return[Mi,Tr];case"Object":return[po,Tr];case"Date":return[Bu,Tr];case"RegExp":return[zu,Tr];case"Map":return[ju,Tr];case"Set":return[$u,Tr];case"DataView":return[Mi,n]}return n.includes("Array")?[Mi,n]:n.includes("Error")?[Dg,n]:[po,n]},Ps=([t,e])=>t===Qo&&(e==="function"||e==="symbol"),HS=(t,e,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},s=o=>{if(n.has(o))return n.get(o);let[l,a]=Si(o);switch(l){case Qo:{let c=o;switch(a){case"bigint":l=Ig,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([Tg],o)}return i([l,c],o)}case Mi:{if(a){let d=o;return a==="DataView"?d=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(d=new Uint8Array(o)),i([a,[...d]],o)}const c=[],f=i([l,c],o);for(const d of o)c.push(s(d));return f}case po:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([l,c],o);for(const d of WS(o))(t||!Ps(Si(o[d])))&&c.push([s(d),s(o[d])]);return f}case Bu:return i([l,o.toISOString()],o);case zu:{const{source:c,flags:f}=o;return i([l,{source:c,flags:f}],o)}case ju:{const c=[],f=i([l,c],o);for(const[d,h]of o)(t||!(Ps(Si(d))||Ps(Si(h))))&&c.push([s(d),s(h)]);return f}case $u:{const c=[],f=i([l,c],o);for(const d of o)(t||!Ps(Si(d)))&&c.push(s(d));return f}}const{message:u}=o;return i([l,{name:a,message:u}],o)};return s},td=(t,{json:e,lossy:n}={})=>{const r=[];return HS(!(e||n),!!e,new Map,r)(t),r},go=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ed(td(t,e)):structuredClone(t):(t,e)=>ed(td(t,e));function KS(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function VS(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function qS(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||KS,r=t.options.footnoteBackLabel||VS,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[a]);if(!u)continue;const c=t.all(u),f=String(u.identifier).toUpperCase(),d=ui(f.toLowerCase());let h=0;const p=[],g=t.footnoteCounts.get(f);for(;g!==void 0&&++h<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(a,h);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,h),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const m=c[c.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const b=m.children[m.children.length-1];b&&b.type==="text"?b.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+d},children:t.wrap(c,!0)};t.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...go(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const el=(function(t){if(t==null)return XS;if(typeof t=="function")return tl(t);if(typeof t=="object")return Array.isArray(t)?GS(t):YS(t);if(typeof t=="string")return JS(t);throw new Error("Expected function, string, or object as test")});function GS(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=el(t[n]);return tl(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function YS(t){const e=t;return tl(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function JS(t){return tl(e);function e(n){return n&&n.type===t}}function tl(t){return e;function e(n,r,i){return!!(ZS(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function XS(){return!0}function ZS(t){return t!==null&&typeof t=="object"&&"type"in t}const Fg=[],QS=!0,Fa=!1,eE="skip";function Og(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=el(i),o=r?-1:1;l(t,void 0,[])();function l(a,u,c){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Fg,p,g,m;if((!e||s(a,u,c[c.length-1]||void 0))&&(h=tE(n(a,c)),h[0]===Fa))return h;if("children"in a&&a.children){const y=a;if(y.children&&h[0]!==eE)for(g=(r?y.children.length:-1)+o,m=c.concat(y);g>-1&&g<y.children.length;){const b=y.children[g];if(p=l(b,g,m)(),p[0]===Fa)return p;g=typeof p[1]=="number"?p[1]:g+o}}return h}}}function tE(t){return Array.isArray(t)?t:typeof t=="number"?[QS,t]:t==null?Fg:[t]}function Uu(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),Og(t,s,l,i);function l(a,u){const c=u[u.length-1],f=c?c.children.indexOf(a):void 0;return o(a,f,c)}}const Oa={}.hasOwnProperty,nE={};function rE(t,e){const n=e||nE,r=new Map,i=new Map,s=new Map,o={...jS,...n.handlers},l={all:u,applyData:sE,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:n,patch:iE,wrap:lE};return Uu(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),l;function a(c,f){const d=c.type,h=l.handlers[d];if(Oa.call(l.handlers,d)&&h)return h(l,c,f);if(l.options.passThrough&&l.options.passThrough.includes(d)){if("children"in c){const{children:g,...m}=c,y=go(m);return y.children=l.all(c),y}return go(c)}return(l.options.unknownHandler||oE)(l,c,f)}function u(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=l.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=nd(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=nd(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function iE(t,e){t.position&&(e.position=Vw(t))}function sE(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,go(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function oE(t,e){const n=e.data||{},r="value"in e&&!(Oa.call(n,"hProperties")||Oa.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function lE(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function nd(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function rd(t,e){const n=rE(t,e),r=n.one(t,void 0),i=qS(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function aE(t,e){return t&&"run"in t?async function(n,r){const i=rd(n,{file:r,...e});await t.run(i,r)}:function(n,r){return rd(n,{file:r,...t||e})}}function id(t){if(t)throw t}var Nl,sd;function uE(){if(sd)return Nl;sd=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},s=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var c=t.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!f)return!1;var d;for(d in u);return typeof d>"u"||t.call(u,d)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},l=function(u,c){if(c==="__proto__")if(t.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return Nl=function a(){var u,c,f,d,h,p,g=arguments[0],m=1,y=arguments.length,b=!1;for(typeof g=="boolean"&&(b=g,g=arguments[1]||{},m=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});m<y;++m)if(u=arguments[m],u!=null)for(c in u)f=l(g,c),d=l(u,c),g!==d&&(b&&d&&(s(d)||(h=i(d)))?(h?(h=!1,p=f&&i(f)?f:[]):p=f&&s(f)?f:{},o(g,{name:c,newValue:a(b,p,d)})):typeof d<"u"&&o(g,{name:c,newValue:d}));return g},Nl}var cE=uE();const Ll=Cp(cE);function Na(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fE(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...u){const c=t[++s];let f=-1;if(a){o(a);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?dE(c,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function dE(t,e){let n;return r;function r(...o){const l=t.length>o.length;let a;l&&o.push(i);try{a=t.apply(this,o)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){n||(n=!0,e(o,...l))}function s(o){i(null,o)}}const Rt={basename:hE,dirname:pE,extname:gE,join:mE,sep:"/"};function hE(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');hs(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function pE(t){if(hs(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function gE(t){hs(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function mE(...t){let e=-1,n;for(;++e<t.length;)hs(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":yE(n)}function yE(t){hs(t);const e=t.codePointAt(0)===47;let n=bE(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function bE(t,e){let n="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function hs(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const xE={cwd:wE};function wE(){return"/"}function La(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function kE(t){if(typeof t=="string")t=new URL(t);else if(!La(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return _E(t)}function _E(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Ml=["history","path","basename","stem","extname","dirname"];class Ng{constructor(e){let n;e?La(e)?n={path:e}:typeof e=="string"||SE(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":xE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ml.length;){const s=Ml[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ml.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rt.basename(this.path):void 0}set basename(e){Rl(e,"basename"),Pl(e,"basename"),this.path=Rt.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Rt.dirname(this.path):void 0}set dirname(e){od(this.basename,"dirname"),this.path=Rt.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Rt.extname(this.path):void 0}set extname(e){if(Pl(e,"extname"),od(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rt.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){La(e)&&(e=kE(e)),Rl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Rt.basename(this.path,this.extname):void 0}set stem(e){Rl(e,"stem"),Pl(e,"stem"),this.path=Rt.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Xe(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Pl(t,e){if(t&&t.includes(Rt.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Rt.sep+"`")}function Rl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function od(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function SE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const EE=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),vE={}.hasOwnProperty;class Wu extends EE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fE()}copy(){const e=new Wu;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ll(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(jl("data",this.frozen),this.namespace[e]=n,this):vE.call(this.namespace,e)&&this.namespace[e]||void 0:e?(jl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Rs(e),r=this.parser||this.Parser;return Bl("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Bl("process",this.parser||this.Parser),zl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=Rs(e),a=r.parse(l);r.run(a,l,function(c,f,d){if(c||!f||!d)return u(c);const h=f,p=r.stringify(h,d);TE(p)?d.value=p:d.result=p,u(c,d)});function u(c,f){c||!f?o(c):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Bl("processSync",this.parser||this.Parser),zl("processSync",this.compiler||this.Compiler),this.process(e,i),ad("processSync","process",n),r;function i(s,o){n=!0,id(s),r=o}}run(e,n,r){ld(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=Rs(n);i.run(e,a,u);function u(c,f,d){const h=f||e;c?l(c):o?o(h):r(void 0,h,d)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),ad("runSync","run",r),i;function s(o,l){id(o),i=l,r=!0}}stringify(e,n){this.freeze();const r=Rs(n),i=this.compiler||this.Compiler;return zl("stringify",i),ld(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(jl("use",this.frozen),e!=null)if(typeof e=="function")a(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;a(c,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=Ll(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const g=r[d][1];Na(g)&&Na(h)&&(h=Ll(!0,g,h)),r[d]=[u,h,...p]}}}}const CE=new Wu().freeze();function Bl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function zl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function jl(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ld(t){if(!Na(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function ad(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Rs(t){return AE(t)?t:new Ng(t)}function AE(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function TE(t){return typeof t=="string"||DE(t)}function DE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const IE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ud=[],cd={allowDangerousHtml:!0},FE=/^(https?|ircs?|mailto|xmpp)$/i,OE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function NE(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,l=t.rehypePlugins||ud,a=t.remarkPlugins||ud,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...cd}:cd,c=t.skipHtml,f=t.unwrapDisallowed,d=t.urlTransform||LE,h=CE().use(pS).use(a).use(aE,u).use(l),p=new Ng;typeof r=="string"&&(p.value=r);for(const b of OE)Object.hasOwn(t,b.from)&&(""+b.from+(b.to?"use `"+b.to+"` instead":"remove it")+IE+b.id,void 0);const g=h.parse(p);let m=h.runSync(g,p);return i&&(m={type:"element",tagName:"div",properties:{className:i},children:m.type==="root"?m.children:[m]}),Uu(m,y),Xw(m,{Fragment:D.Fragment,components:s,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function y(b,x,k){if(b.type==="raw"&&k&&typeof x=="number")return c?k.children.splice(x,1):k.children[x]={type:"text",value:b.value},x;if(b.type==="element"){let S;for(S in Il)if(Object.hasOwn(Il,S)&&Object.hasOwn(b.properties,S)){const w=b.properties[S],A=Il[S];(A===null||A.includes(b.tagName))&&(b.properties[S]=d(String(w||""),S,b))}}if(b.type==="element"){let S=e?!e.includes(b.tagName):o?o.includes(b.tagName):!1;if(!S&&n&&typeof x=="number"&&(S=!n(b,x,k)),S&&k&&typeof x=="number")return f&&b.children?k.children.splice(x,1,...b.children):k.children.splice(x,1),x}}}function LE(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||FE.test(t.slice(0,e))?t:""}var ME=Object.create,nl=Object.defineProperty,PE=Object.defineProperties,RE=Object.getOwnPropertyDescriptor,BE=Object.getOwnPropertyDescriptors,Lg=Object.getOwnPropertyNames,mo=Object.getOwnPropertySymbols,zE=Object.getPrototypeOf,Hu=Object.prototype.hasOwnProperty,Mg=Object.prototype.propertyIsEnumerable,fd=(t,e,n)=>e in t?nl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wt=(t,e)=>{for(var n in e||(e={}))Hu.call(e,n)&&fd(t,n,e[n]);if(mo)for(var n of mo(e))Mg.call(e,n)&&fd(t,n,e[n]);return t},rl=(t,e)=>PE(t,BE(e)),Pg=(t,e)=>{var n={};for(var r in t)Hu.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&mo)for(var r of mo(t))e.indexOf(r)<0&&Mg.call(t,r)&&(n[r]=t[r]);return n},jE=(t,e)=>function(){return e||(0,t[Lg(t)[0]])((e={exports:{}}).exports,e),e.exports},$E=(t,e)=>{for(var n in e)nl(t,n,{get:e[n],enumerable:!0})},UE=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Lg(e))!Hu.call(t,i)&&i!==n&&nl(t,i,{get:()=>e[i],enumerable:!(r=RE(e,i))||r.enumerable});return t},WE=(t,e,n)=>(n=t!=null?ME(zE(t)):{},UE(!t||!t.__esModule?nl(n,"default",{value:t,enumerable:!0}):n,t)),HE=jE({"../../node_modules/.pnpm/prismjs@1.29.0_patch_hash=vrxx3pzkik6jpmgpayxfjunetu/node_modules/prismjs/prism.js"(t,e){var n=(function(){var r=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},o={util:{encode:function p(g){return g instanceof l?new l(g.type,p(g.content),g.alias):Array.isArray(g)?g.map(p):g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++i}),p.__id},clone:function p(g,m){m=m||{};var y,b;switch(o.util.type(g)){case"Object":if(b=o.util.objId(g),m[b])return m[b];y={},m[b]=y;for(var x in g)g.hasOwnProperty(x)&&(y[x]=p(g[x],m));return y;case"Array":return b=o.util.objId(g),m[b]?m[b]:(y=[],m[b]=y,g.forEach(function(k,S){y[S]=p(k,m)}),y);default:return g}},getLanguage:function(p){for(;p;){var g=r.exec(p.className);if(g)return g[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,g){p.className=p.className.replace(RegExp(r,"gi"),""),p.classList.add("language-"+g)},isActive:function(p,g,m){for(var y="no-"+g;p;){var b=p.classList;if(b.contains(g))return!0;if(b.contains(y))return!1;p=p.parentElement}return!!m}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(p,g){var m=o.util.clone(o.languages[p]);for(var y in g)m[y]=g[y];return m},insertBefore:function(p,g,m,y){y=y||o.languages;var b=y[p],x={};for(var k in b)if(b.hasOwnProperty(k)){if(k==g)for(var S in m)m.hasOwnProperty(S)&&(x[S]=m[S]);m.hasOwnProperty(k)||(x[k]=b[k])}var w=y[p];return y[p]=x,o.languages.DFS(o.languages,function(A,C){C===w&&A!=p&&(this[A]=x)}),x},DFS:function p(g,m,y,b){b=b||{};var x=o.util.objId;for(var k in g)if(g.hasOwnProperty(k)){m.call(g,k,g[k],y||k);var S=g[k],w=o.util.type(S);w==="Object"&&!b[x(S)]?(b[x(S)]=!0,p(S,m,null,b)):w==="Array"&&!b[x(S)]&&(b[x(S)]=!0,p(S,m,k,b))}}},plugins:{},highlight:function(p,g,m){var y={code:p,grammar:g,language:m};if(o.hooks.run("before-tokenize",y),!y.grammar)throw new Error('The language "'+y.language+'" has no grammar.');return y.tokens=o.tokenize(y.code,y.grammar),o.hooks.run("after-tokenize",y),l.stringify(o.util.encode(y.tokens),y.language)},tokenize:function(p,g){var m=g.rest;if(m){for(var y in m)g[y]=m[y];delete g.rest}var b=new c;return f(b,b.head,p),u(p,b,g,b.head,0),h(b)},hooks:{all:{},add:function(p,g){var m=o.hooks.all;m[p]=m[p]||[],m[p].push(g)},run:function(p,g){var m=o.hooks.all[p];if(!(!m||!m.length))for(var y=0,b;b=m[y++];)b(g)}},Token:l};function l(p,g,m,y){this.type=p,this.content=g,this.alias=m,this.length=(y||"").length|0}l.stringify=function p(g,m){if(typeof g=="string")return g;if(Array.isArray(g)){var y="";return g.forEach(function(w){y+=p(w,m)}),y}var b={type:g.type,content:p(g.content,m),tag:"span",classes:["token",g.type],attributes:{},language:m},x=g.alias;x&&(Array.isArray(x)?Array.prototype.push.apply(b.classes,x):b.classes.push(x)),o.hooks.run("wrap",b);var k="";for(var S in b.attributes)k+=" "+S+'="'+(b.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+b.tag+' class="'+b.classes.join(" ")+'"'+k+">"+b.content+"</"+b.tag+">"};function a(p,g,m,y){p.lastIndex=g;var b=p.exec(m);if(b&&y&&b[1]){var x=b[1].length;b.index+=x,b[0]=b[0].slice(x)}return b}function u(p,g,m,y,b,x){for(var k in m)if(!(!m.hasOwnProperty(k)||!m[k])){var S=m[k];S=Array.isArray(S)?S:[S];for(var w=0;w<S.length;++w){if(x&&x.cause==k+","+w)return;var A=S[w],C=A.inside,T=!!A.lookbehind,_=!!A.greedy,F=A.alias;if(_&&!A.pattern.global){var L=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,L+"g")}for(var R=A.pattern||A,I=y.next,B=b;I!==g.tail&&!(x&&B>=x.reach);B+=I.value.length,I=I.next){var q=I.value;if(g.length>p.length)return;if(!(q instanceof l)){var G=1,Y;if(_){if(Y=a(R,B,p,T),!Y||Y.index>=p.length)break;var Ee=Y.index,te=Y.index+Y[0].length,E=B;for(E+=I.value.length;Ee>=E;)I=I.next,E+=I.value.length;if(E-=I.value.length,B=E,I.value instanceof l)continue;for(var he=I;he!==g.tail&&(E<te||typeof he.value=="string");he=he.next)G++,E+=he.value.length;G--,q=p.slice(B,E),Y.index-=B}else if(Y=a(R,0,q,T),!Y)continue;var Ee=Y.index,v=Y[0],ve=q.slice(0,Ee),Ze=q.slice(Ee+v.length),pe=B+q.length;x&&pe>x.reach&&(x.reach=pe);var ot=I.prev;ve&&(ot=f(g,ot,ve),B+=ve.length),d(g,ot,G);var Ue=new l(k,C?o.tokenize(v,C):v,F,v);if(I=f(g,ot,Ue),Ze&&f(g,I,Ze),G>1){var Qe={cause:k+","+w,reach:pe};u(p,g,m,I.prev,B,Qe),x&&Qe.reach>x.reach&&(x.reach=Qe.reach)}}}}}}function c(){var p={value:null,prev:null,next:null},g={value:null,prev:p,next:null};p.next=g,this.head=p,this.tail=g,this.length=0}function f(p,g,m){var y=g.next,b={value:m,prev:g,next:y};return g.next=b,y.prev=b,p.length++,b}function d(p,g,m){for(var y=g.next,b=0;b<m&&y!==p.tail;b++)y=y.next;g.next=y,y.prev=g,p.length-=b}function h(p){for(var g=[],m=p.head.next;m!==p.tail;)g.push(m.value),m=m.next;return g}return o})();e.exports=n,n.default=n}}),M=WE(HE());M.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},M.languages.markup.tag.inside["attr-value"].inside.entity=M.languages.markup.entity,M.languages.markup.doctype.inside["internal-subset"].inside=M.languages.markup,M.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Object.defineProperty(M.languages.markup.tag,"addInlined",{value:function(t,r){var n={},n=(n["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:M.languages[r]},n.cdata=/^<!\[CDATA\[|\]\]>$/i,{"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}}),r=(n["language-"+r]={pattern:/[\s\S]+/,inside:M.languages[r]},{});r[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:n},M.languages.insertBefore("markup","cdata",r)}}),Object.defineProperty(M.languages.markup.tag,"addAttribute",{value:function(t,e){M.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:M.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),M.languages.html=M.languages.markup,M.languages.mathml=M.languages.markup,M.languages.svg=M.languages.markup,M.languages.xml=M.languages.extend("markup",{}),M.languages.ssml=M.languages.xml,M.languages.atom=M.languages.xml,M.languages.rss=M.languages.xml,(function(t){var e={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,r="(?:[^\\\\-]|"+n.source+")",r=RegExp(r+"-"+r),i={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:r,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":e,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":e,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":i}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":i}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(M),M.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},M.languages.javascript=M.languages.extend("clike",{"class-name":[M.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),M.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,M.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:M.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:M.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:M.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:M.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:M.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),M.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:M.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),M.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),M.languages.markup&&(M.languages.markup.tag.addInlined("script","javascript"),M.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),M.languages.js=M.languages.javascript,M.languages.actionscript=M.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),M.languages.actionscript["class-name"].alias="function",delete M.languages.actionscript.parameter,delete M.languages.actionscript["literal-property"],M.languages.markup&&M.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:M.languages.markup}}),(function(t){var e=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};t.languages.coffeescript=t.languages.extend("javascript",{comment:e,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),t.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:e,interpolation:n}}}),t.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:t.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),t.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete t.languages.coffeescript["template-string"],t.languages.coffee=t.languages.coffeescript})(M),(function(t){var e=t.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};Object.defineProperty(e,"addSupport",{value:function(n,r){(n=typeof n=="string"?[n]:n).forEach(function(i){var s=function(f){f.inside||(f.inside={}),f.inside.rest=r},o="doc-comment";if(l=t.languages[i]){var l,a=l[o];if((a=a||(l=t.languages.insertBefore(i,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[o])instanceof RegExp&&(a=l[o]={pattern:a}),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)a[u]instanceof RegExp&&(a[u]={pattern:a[u]}),s(a[u]);else s(a)}})}}),e.addSupport(["java","javascript","php"],e)})(M),(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,e=(t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css,t.languages.markup);e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(M),(function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,e=(t.languages.css.selector={pattern:t.languages.css.selector.pattern,lookbehind:!0,inside:e={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+e.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[e,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},t.languages.css.atrule.inside["selector-function-argument"].inside=e,t.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}}),{pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0}),n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};t.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:e,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:e,number:n})})(M),(function(t){var e=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ 	]+"+e.source+")?|"+e.source+"(?:[ 	]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),s=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function o(l,a){a=(a||"").replace(/m/g,"")+"m";var u=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<value>>/g,function(){return l});return RegExp(u,a)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return r})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return r}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+s+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:o(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:o(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:o(s),lookbehind:!0,greedy:!0},number:{pattern:o(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml})(M),(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(u){return u=u.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source,o=(t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+s+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+s+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(c){u!==c&&(t.languages.markdown[u].inside.content.inside[c]=t.languages.markdown[c])})}),t.hooks.add("after-tokenize",function(u){u.language!=="markdown"&&u.language!=="md"||(function c(f){if(f&&typeof f!="string")for(var d=0,h=f.length;d<h;d++){var p,g=f[d];g.type!=="code"?c(g.content):(p=g.content[1],g=g.content[3],p&&g&&p.type==="code-language"&&g.type==="code-block"&&typeof p.content=="string"&&(p=p.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),p="language-"+(p=(/[a-z][\w-]*/i.exec(p)||[""])[0].toLowerCase()),g.alias?typeof g.alias=="string"?g.alias=[g.alias,p]:g.alias.push(p):g.alias=[p]))}})(u.tokens)}),t.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var c="",f=0,d=u.classes.length;f<d;f++){var h=u.classes[f],h=/language-(.+)/.exec(h);if(h){c=h[1];break}}var p,g=t.languages[c];g?u.content=t.highlight((function(m){return m=m.replace(o,""),m=m.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(y,b){var x;return(b=b.toLowerCase())[0]==="#"?(x=b[1]==="x"?parseInt(b.slice(2),16):Number(b.slice(1)),a(x)):l[b]||y})})(u.content),g,c):c&&c!=="none"&&t.plugins.autoloader&&(p="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random()),u.attributes.id=p,t.plugins.autoloader.loadLanguages(c,function(){var m=document.getElementById(p);m&&(m.innerHTML=t.highlight(m.textContent,t.languages[c],c))}))}}),RegExp(t.languages.markup.tag.pattern.source,"gi")),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;t.languages.md=t.languages.markdown})(M),M.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:M.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},M.hooks.add("after-tokenize",function(t){if(t.language==="graphql")for(var e=t.tokens.filter(function(p){return typeof p!="string"&&p.type!=="comment"&&p.type!=="scalar"}),n=0;n<e.length;){var r=e[n++];if(r.type==="keyword"&&r.content==="mutation"){var i=[];if(f(["definition-mutation","punctuation"])&&c(1).content==="("){n+=2;var s=d(/^\($/,/^\)$/);if(s===-1)continue;for(;n<s;n++){var o=c(0);o.type==="variable"&&(h(o,"variable-input"),i.push(o.content))}n=s+1}if(f(["punctuation","property-query"])&&c(0).content==="{"&&(n++,h(c(0),"property-mutation"),0<i.length)){var l=d(/^\{$/,/^\}$/);if(l!==-1)for(var a=n;a<l;a++){var u=e[a];u.type==="variable"&&0<=i.indexOf(u.content)&&h(u,"variable-input")}}}}function c(p){return e[n+p]}function f(p,g){g=g||0;for(var m=0;m<p.length;m++){var y=c(m+g);if(!y||y.type!==p[m])return}return 1}function d(p,g){for(var m=1,y=n;y<e.length;y++){var b=e[y],x=b.content;if(b.type==="punctuation"&&typeof x=="string"){if(p.test(x))m++;else if(g.test(x)&&--m===0)return y}}return-1}function h(p,g){var m=p.alias;m?Array.isArray(m)||(p.alias=m=[m]):p.alias=m=[],m.push(g)}}),M.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},(function(t){var e=t.languages.javascript["template-string"],n=e.pattern.source,r=e.inside.interpolation,i=r.inside["interpolation-punctuation"],s=r.pattern.source;function o(f,d){if(t.languages[f])return{pattern:RegExp("((?:"+d+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:f}}}}function l(f,d,h){return f={code:f,grammar:d,language:h},t.hooks.run("before-tokenize",f),f.tokens=t.tokenize(f.code,f.grammar),t.hooks.run("after-tokenize",f),f.tokens}function a(f,d,h){var m=t.tokenize(f,{interpolation:{pattern:RegExp(s),lookbehind:!0}}),p=0,g={},m=l(m.map(function(b){if(typeof b=="string")return b;for(var x,k,b=b.content;f.indexOf((k=p++,x="___"+h.toUpperCase()+"_"+k+"___"))!==-1;);return g[x]=b,x}).join(""),d,h),y=Object.keys(g);return p=0,(function b(x){for(var k=0;k<x.length;k++){if(p>=y.length)return;var S,w,A,C,T,_,F,L=x[k];typeof L=="string"||typeof L.content=="string"?(S=y[p],(F=(_=typeof L=="string"?L:L.content).indexOf(S))!==-1&&(++p,w=_.substring(0,F),T=g[S],A=void 0,(C={})["interpolation-punctuation"]=i,(C=t.tokenize(T,C)).length===3&&((A=[1,1]).push.apply(A,l(C[1],t.languages.javascript,"javascript")),C.splice.apply(C,A)),A=new t.Token("interpolation",C,r.alias,T),C=_.substring(F+S.length),T=[],w&&T.push(w),T.push(A),C&&(b(_=[C]),T.push.apply(T,_)),typeof L=="string"?(x.splice.apply(x,[k,1].concat(T)),k+=T.length-1):L.content=T)):(F=L.content,Array.isArray(F)?b(F):b([F]))}})(m),new t.Token(h,m,"language-"+h,f)}t.languages.javascript["template-string"]=[o("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),o("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),o("svg",/\bsvg/.source),o("markdown",/\b(?:markdown|md)/.source),o("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),o("sql",/\bsql/.source),e].filter(Boolean);var u={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function c(f){return typeof f=="string"?f:Array.isArray(f)?f.map(c).join(""):c(f.content)}t.hooks.add("after-tokenize",function(f){f.language in u&&(function d(h){for(var p=0,g=h.length;p<g;p++){var m,y,b,x=h[p];typeof x!="string"&&(m=x.content,Array.isArray(m)?x.type==="template-string"?(x=m[1],m.length===3&&typeof x!="string"&&x.type==="embedded-code"&&(y=c(x),x=x.alias,x=Array.isArray(x)?x[0]:x,b=t.languages[x])&&(m[1]=a(y,b,x))):d(m):typeof m!="string"&&d([m]))}})(f.tokens)})})(M),(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(M),(function(t){var e=t.languages.javascript,n=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,r="(@(?:arg|argument|param|property)\\s+(?:"+n+"\\s+)?)";t.languages.jsdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp(r+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),t.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(r+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:e,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return n})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+n),lookbehind:!0,inside:{string:e.string,number:e.number,boolean:e.boolean,keyword:t.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:e,alias:"language-javascript"}}}}),t.languages.javadoclike.addSupport("javascript",t.languages.jsdoc)})(M),(function(t){t.languages.flow=t.languages.extend("javascript",{}),t.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),t.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete t.languages.flow.parameter,t.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(t.languages.flow.keyword)||(t.languages.flow.keyword=[t.languages.flow.keyword]),t.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(M),M.languages.n4js=M.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),M.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),M.languages.n4jsd=M.languages.n4js,(function(t){function e(o,l){return RegExp(o.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),l)}t.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),t.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+t.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),t.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),t.languages.insertBefore("javascript","keyword",{imports:{pattern:e(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:t.languages.javascript},exports:{pattern:e(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:t.languages.javascript}}),t.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),t.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),t.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:e(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var s=n[r],i=t.languages.javascript[s],s=(i=t.util.type(i)==="RegExp"?t.languages.javascript[s]={pattern:i}:i).inside||{};(i.inside=s)["maybe-class-name"]=/^[A-Z][\s\S]*/}})(M),(function(t){var e=t.util.clone(t.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(a,u){return a=a.replace(/<S>/g,function(){return n}).replace(/<BRACES>/g,function(){return r}).replace(/<SPREAD>/g,function(){return i}),RegExp(a,u)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",e),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=e.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);function o(a){for(var u=[],c=0;c<a.length;c++){var f=a[c],d=!1;typeof f!="string"&&(f.type==="tag"&&f.content[0]&&f.content[0].type==="tag"?f.content[0].content[0].content==="</"?0<u.length&&u[u.length-1].tagName===l(f.content[0].content[1])&&u.pop():f.content[f.content.length-1].content!=="/>"&&u.push({tagName:l(f.content[0].content[1]),openedBraces:0}):0<u.length&&f.type==="punctuation"&&f.content==="{"?u[u.length-1].openedBraces++:0<u.length&&0<u[u.length-1].openedBraces&&f.type==="punctuation"&&f.content==="}"?u[u.length-1].openedBraces--:d=!0),(d||typeof f=="string")&&0<u.length&&u[u.length-1].openedBraces===0&&(d=l(f),c<a.length-1&&(typeof a[c+1]=="string"||a[c+1].type==="plain-text")&&(d+=l(a[c+1]),a.splice(c+1,1)),0<c&&(typeof a[c-1]=="string"||a[c-1].type==="plain-text")&&(d=l(a[c-1])+d,a.splice(c-1,1),c--),a[c]=new t.Token("plain-text",d,null,d)),f.content&&typeof f.content!="string"&&o(f.content)}}var l=function(a){return a?typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(l).join(""):""};t.hooks.add("after-tokenize",function(a){a.language!=="jsx"&&a.language!=="tsx"||o(a.tokens)})})(M),(function(t){var e=t.util.clone(t.languages.typescript),e=(t.languages.tsx=t.languages.extend("jsx",e),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"],t.languages.tsx.tag);e.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+e.pattern.source+")",e.pattern.flags),e.lookbehind=!0})(M),M.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},M.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=M.languages.swift}),(function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var e={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:e},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:e},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin})(M),M.languages.c=M.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),M.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),M.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},M.languages.c.string],char:M.languages.c.char,comment:M.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:M.languages.c}}}}),M.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete M.languages.c.boolean,M.languages.objectivec=M.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete M.languages.objectivec["class-name"],M.languages.objc=M.languages.objectivec,M.languages.reason=M.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),M.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete M.languages.reason.function,(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(M),M.languages.go=M.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),M.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete M.languages.go["class-name"],(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(M),M.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},M.languages.python["string-interpolation"].inside.interpolation.inside.rest=M.languages.python,M.languages.py=M.languages.python,M.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},M.languages.webmanifest=M.languages.json;var Rg={};$E(Rg,{dracula:()=>VE,duotoneDark:()=>GE,duotoneLight:()=>JE,github:()=>ZE,gruvboxMaterialDark:()=>Av,gruvboxMaterialLight:()=>Dv,jettwaveDark:()=>xv,jettwaveLight:()=>kv,nightOwl:()=>ev,nightOwlLight:()=>nv,oceanicNext:()=>iv,okaidia:()=>ov,oneDark:()=>Sv,oneLight:()=>vv,palenight:()=>av,shadesOfPurple:()=>cv,synthwave84:()=>dv,ultramin:()=>pv,vsDark:()=>Bg,vsLight:()=>yv});var KE={plain:{color:"#F8F8F2",backgroundColor:"#282A36"},styles:[{types:["prolog","constant","builtin"],style:{color:"rgb(189, 147, 249)"}},{types:["inserted","function"],style:{color:"rgb(80, 250, 123)"}},{types:["deleted"],style:{color:"rgb(255, 85, 85)"}},{types:["changed"],style:{color:"rgb(255, 184, 108)"}},{types:["punctuation","symbol"],style:{color:"rgb(248, 248, 242)"}},{types:["string","char","tag","selector"],style:{color:"rgb(255, 121, 198)"}},{types:["keyword","variable"],style:{color:"rgb(189, 147, 249)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(98, 114, 164)"}},{types:["attr-name"],style:{color:"rgb(241, 250, 140)"}}]},VE=KE,qE={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},GE=qE,YE={plain:{backgroundColor:"#faf8f5",color:"#728fcb"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#b6ad9a"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#063289"}},{types:["property","function"],style:{color:"#b29762"}},{types:["tag-id","selector","atrule-id"],style:{color:"#2d2006"}},{types:["attr-name"],style:{color:"#896724"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule"],style:{color:"#728fcb"}},{types:["placeholder","variable"],style:{color:"#93abdc"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#896724"}}]},JE=YE,XE={plain:{color:"#393A34",backgroundColor:"#f6f8fa"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#999988",fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}},{types:["string","attr-value"],style:{color:"#e3116c"}},{types:["punctuation","operator"],style:{color:"#393A34"}},{types:["entity","url","symbol","number","boolean","variable","constant","property","regex","inserted"],style:{color:"#36acaa"}},{types:["atrule","keyword","attr-name","selector"],style:{color:"#00a4db"}},{types:["function","deleted","tag"],style:{color:"#d73a49"}},{types:["function-variable"],style:{color:"#6f42c1"}},{types:["tag","selector","keyword"],style:{color:"#00009f"}}]},ZE=XE,QE={plain:{color:"#d6deeb",backgroundColor:"#011627"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(99, 119, 119)",fontStyle:"italic"}},{types:["string","url"],style:{color:"rgb(173, 219, 103)"}},{types:["variable"],style:{color:"rgb(214, 222, 235)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation"],style:{color:"rgb(199, 146, 234)"}},{types:["selector","doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(255, 203, 139)"}},{types:["tag","operator","keyword"],style:{color:"rgb(127, 219, 202)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["property"],style:{color:"rgb(128, 203, 196)"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}}]},ev=QE,tv={plain:{color:"#403f53",backgroundColor:"#FBFBFB"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(72, 118, 214)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(152, 159, 177)",fontStyle:"italic"}},{types:["string","builtin","char","constant","url"],style:{color:"rgb(72, 118, 214)"}},{types:["variable"],style:{color:"rgb(201, 103, 101)"}},{types:["number"],style:{color:"rgb(170, 9, 130)"}},{types:["punctuation"],style:{color:"rgb(153, 76, 195)"}},{types:["function","selector","doctype"],style:{color:"rgb(153, 76, 195)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(17, 17, 17)"}},{types:["tag"],style:{color:"rgb(153, 76, 195)"}},{types:["operator","property","keyword","namespace"],style:{color:"rgb(12, 150, 155)"}},{types:["boolean"],style:{color:"rgb(188, 84, 84)"}}]},nv=tv,pt={char:"#D8DEE9",comment:"#999999",keyword:"#c5a5c5",primitive:"#5a9bcf",string:"#8dc891",variable:"#d7deea",boolean:"#ff8b50",tag:"#fc929e",function:"#79b6f2",className:"#FAC863"},rv={plain:{backgroundColor:"#282c34",color:"#ffffff"},styles:[{types:["attr-name"],style:{color:pt.keyword}},{types:["attr-value"],style:{color:pt.string}},{types:["comment","block-comment","prolog","doctype","cdata","shebang"],style:{color:pt.comment}},{types:["property","number","function-name","constant","symbol","deleted"],style:{color:pt.primitive}},{types:["boolean"],style:{color:pt.boolean}},{types:["tag"],style:{color:pt.tag}},{types:["string"],style:{color:pt.string}},{types:["punctuation"],style:{color:pt.string}},{types:["selector","char","builtin","inserted"],style:{color:pt.char}},{types:["function"],style:{color:pt.function}},{types:["operator","entity","url","variable"],style:{color:pt.variable}},{types:["keyword"],style:{color:pt.keyword}},{types:["atrule","class-name"],style:{color:pt.className}},{types:["important"],style:{fontWeight:"400"}},{types:["bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}}]},iv=rv,sv={plain:{color:"#f8f8f2",backgroundColor:"#272822"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"#f92672",fontStyle:"italic"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"#8292a2",fontStyle:"italic"}},{types:["string","url"],style:{color:"#a6e22e"}},{types:["variable"],style:{color:"#f8f8f2"}},{types:["number"],style:{color:"#ae81ff"}},{types:["builtin","char","constant","function","class-name"],style:{color:"#e6db74"}},{types:["punctuation"],style:{color:"#f8f8f2"}},{types:["selector","doctype"],style:{color:"#a6e22e",fontStyle:"italic"}},{types:["tag","operator","keyword"],style:{color:"#66d9ef"}},{types:["boolean"],style:{color:"#ae81ff"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)",opacity:.7}},{types:["tag","property"],style:{color:"#f92672"}},{types:["attr-name"],style:{color:"#a6e22e !important"}},{types:["doctype"],style:{color:"#8292a2"}},{types:["rule"],style:{color:"#e6db74"}}]},ov=sv,lv={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},av=lv,uv={plain:{color:"#9EFEFF",backgroundColor:"#2D2A55"},styles:[{types:["changed"],style:{color:"rgb(255, 238, 128)"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)"}},{types:["comment"],style:{color:"rgb(179, 98, 255)",fontStyle:"italic"}},{types:["punctuation"],style:{color:"rgb(255, 255, 255)"}},{types:["constant"],style:{color:"rgb(255, 98, 140)"}},{types:["string","url"],style:{color:"rgb(165, 255, 144)"}},{types:["variable"],style:{color:"rgb(255, 238, 128)"}},{types:["number","boolean"],style:{color:"rgb(255, 98, 140)"}},{types:["attr-name"],style:{color:"rgb(255, 180, 84)"}},{types:["keyword","operator","property","namespace","tag","selector","doctype"],style:{color:"rgb(255, 157, 0)"}},{types:["builtin","char","constant","function","class-name"],style:{color:"rgb(250, 208, 0)"}}]},cv=uv,fv={plain:{backgroundColor:"linear-gradient(to bottom, #2a2139 75%, #34294f)",backgroundImage:"#34294f",color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"},styles:[{types:["comment","block-comment","prolog","doctype","cdata"],style:{color:"#495495",fontStyle:"italic"}},{types:["punctuation"],style:{color:"#ccc"}},{types:["tag","attr-name","namespace","number","unit","hexcode","deleted"],style:{color:"#e2777a"}},{types:["property","selector"],style:{color:"#72f1b8",textShadow:"0 0 2px #100c0f, 0 0 10px #257c5575, 0 0 35px #21272475"}},{types:["function-name"],style:{color:"#6196cc"}},{types:["boolean","selector-id","function"],style:{color:"#fdfdfd",textShadow:"0 0 2px #001716, 0 0 3px #03edf975, 0 0 5px #03edf975, 0 0 8px #03edf975"}},{types:["class-name","maybe-class-name","builtin"],style:{color:"#fff5f6",textShadow:"0 0 2px #000, 0 0 10px #fc1f2c75, 0 0 5px #fc1f2c75, 0 0 25px #fc1f2c75"}},{types:["constant","symbol"],style:{color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"}},{types:["important","atrule","keyword","selector-class"],style:{color:"#f4eee4",textShadow:"0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575"}},{types:["string","char","attr-value","regex","variable"],style:{color:"#f87c32"}},{types:["parameter"],style:{fontStyle:"italic"}},{types:["entity","url"],style:{color:"#67cdcc"}},{types:["operator"],style:{color:"ffffffee"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["entity"],style:{cursor:"help"}},{types:["inserted"],style:{color:"green"}}]},dv=fv,hv={plain:{color:"#282a2e",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(197, 200, 198)"}},{types:["string","number","builtin","variable"],style:{color:"rgb(150, 152, 150)"}},{types:["class-name","function","tag","attr-name"],style:{color:"rgb(40, 42, 46)"}}]},pv=hv,gv={plain:{color:"#9CDCFE",backgroundColor:"#1E1E1E"},styles:[{types:["prolog"],style:{color:"rgb(0, 0, 128)"}},{types:["comment"],style:{color:"rgb(106, 153, 85)"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"rgb(86, 156, 214)"}},{types:["number","inserted"],style:{color:"rgb(181, 206, 168)"}},{types:["constant"],style:{color:"rgb(100, 102, 149)"}},{types:["attr-name","variable"],style:{color:"rgb(156, 220, 254)"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"rgb(206, 145, 120)"}},{types:["selector"],style:{color:"rgb(215, 186, 125)"}},{types:["tag"],style:{color:"rgb(78, 201, 176)"}},{types:["tag"],languages:["markup"],style:{color:"rgb(86, 156, 214)"}},{types:["punctuation","operator"],style:{color:"rgb(212, 212, 212)"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"rgb(220, 220, 170)"}},{types:["class-name"],style:{color:"rgb(78, 201, 176)"}},{types:["char"],style:{color:"rgb(209, 105, 105)"}}]},Bg=gv,mv={plain:{color:"#000000",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(0, 128, 0)"}},{types:["builtin"],style:{color:"rgb(0, 112, 193)"}},{types:["number","variable","inserted"],style:{color:"rgb(9, 134, 88)"}},{types:["operator"],style:{color:"rgb(0, 0, 0)"}},{types:["constant","char"],style:{color:"rgb(129, 31, 63)"}},{types:["tag"],style:{color:"rgb(128, 0, 0)"}},{types:["attr-name"],style:{color:"rgb(255, 0, 0)"}},{types:["deleted","string"],style:{color:"rgb(163, 21, 21)"}},{types:["changed","punctuation"],style:{color:"rgb(4, 81, 165)"}},{types:["function","keyword"],style:{color:"rgb(0, 0, 255)"}},{types:["class-name"],style:{color:"rgb(38, 127, 153)"}}]},yv=mv,bv={plain:{color:"#f8fafc",backgroundColor:"#011627"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#569CD6"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#f8fafc"}},{types:["attr-name","variable"],style:{color:"#9CDCFE"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#cbd5e1"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#D4D4D4"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#7dd3fc"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},xv=bv,wv={plain:{color:"#0f172a",backgroundColor:"#f1f5f9"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#0c4a6e"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#0f172a"}},{types:["attr-name","variable"],style:{color:"#0c4a6e"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#64748b"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#475569"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#0e7490"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},kv=wv,_v={plain:{backgroundColor:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(220, 10%, 40%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(220, 14%, 71%)"}},{types:["attr-name","class-name","maybe-class-name","boolean","constant","number","atrule"],style:{color:"hsl(29, 54%, 61%)"}},{types:["keyword"],style:{color:"hsl(286, 60%, 67%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(355, 65%, 65%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value"],style:{color:"hsl(95, 38%, 62%)"}},{types:["variable","operator","function"],style:{color:"hsl(207, 82%, 66%)"}},{types:["url"],style:{color:"hsl(187, 47%, 55%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(220, 14%, 71%)"}}]},Sv=_v,Ev={plain:{backgroundColor:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(230, 4%, 64%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(230, 8%, 24%)"}},{types:["attr-name","class-name","boolean","constant","number","atrule"],style:{color:"hsl(35, 99%, 36%)"}},{types:["keyword"],style:{color:"hsl(301, 63%, 40%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(5, 74%, 59%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value","punctuation"],style:{color:"hsl(119, 34%, 47%)"}},{types:["variable","operator","function"],style:{color:"hsl(221, 87%, 60%)"}},{types:["url"],style:{color:"hsl(198, 99%, 37%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(230, 8%, 24%)"}}]},vv=Ev,Cv={plain:{color:"#ebdbb2",backgroundColor:"#292828"},styles:[{types:["imports","class-name","maybe-class-name","constant","doctype","builtin","function"],style:{color:"#d8a657"}},{types:["property-access"],style:{color:"#7daea3"}},{types:["tag"],style:{color:"#e78a4e"}},{types:["attr-name","char","url","regex"],style:{color:"#a9b665"}},{types:["attr-value","string"],style:{color:"#89b482"}},{types:["comment","prolog","cdata","operator","inserted"],style:{color:"#a89984"}},{types:["delimiter","boolean","keyword","selector","important","atrule","property","variable","deleted"],style:{color:"#ea6962"}},{types:["entity","number","symbol"],style:{color:"#d3869b"}}]},Av=Cv,Tv={plain:{color:"#654735",backgroundColor:"#f9f5d7"},styles:[{types:["delimiter","boolean","keyword","selector","important","atrule","property","variable","deleted"],style:{color:"#af2528"}},{types:["imports","class-name","maybe-class-name","constant","doctype","builtin"],style:{color:"#b4730e"}},{types:["string","attr-value"],style:{color:"#477a5b"}},{types:["property-access"],style:{color:"#266b79"}},{types:["function","attr-name","char","url"],style:{color:"#72761e"}},{types:["tag"],style:{color:"#b94c07"}},{types:["comment","prolog","cdata","operator","inserted"],style:{color:"#a89984"}},{types:["entity","number","symbol"],style:{color:"#924f79"}}]},Dv=Tv,Iv=t=>P.useCallback(e=>{var n=e,{className:r,style:i,line:s}=n,o=Pg(n,["className","style","line"]);const l=rl(Wt({},o),{className:Ap("token-line",r)});return typeof t=="object"&&"plain"in t&&(l.style=t.plain),typeof i=="object"&&(l.style=Wt(Wt({},l.style||{}),i)),l},[t]),Fv=t=>{const e=P.useCallback(({types:n,empty:r})=>{if(t!=null){{if(n.length===1&&n[0]==="plain")return r!=null?{display:"inline-block"}:void 0;if(n.length===1&&r!=null)return t[n[0]]}return Object.assign(r!=null?{display:"inline-block"}:{},...n.map(i=>t[i]))}},[t]);return P.useCallback(n=>{var r=n,{token:i,className:s,style:o}=r,l=Pg(r,["token","className","style"]);const a=rl(Wt({},l),{className:Ap("token",...i.types,s),children:i.content,style:e(i)});return o!=null&&(a.style=Wt(Wt({},a.style||{}),o)),a},[e])},Ov=/\r\n|\r|\n/,dd=t=>{t.length===0?t.push({types:["plain"],content:`
`,empty:!0}):t.length===1&&t[0].content===""&&(t[0].content=`
`,t[0].empty=!0)},hd=(t,e)=>{const n=t.length;return n>0&&t[n-1]===e?t:t.concat(e)},Nv=t=>{const e=[[]],n=[t],r=[0],i=[t.length];let s=0,o=0,l=[];const a=[l];for(;o>-1;){for(;(s=r[o]++)<i[o];){let u,c=e[o];const d=n[o][s];if(typeof d=="string"?(c=o>0?c:["plain"],u=d):(c=hd(c,d.type),d.alias&&(c=hd(c,d.alias)),u=d.content),typeof u!="string"){o++,e.push(c),n.push(u),r.push(0),i.push(u.length);continue}const h=u.split(Ov),p=h.length;l.push({types:c,content:h[0]});for(let g=1;g<p;g++)dd(l),a.push(l=[]),l.push({types:c,content:h[g]})}o--,e.pop(),n.pop(),r.pop(),i.pop()}return dd(l),a},pd=Nv,Lv=({prism:t,code:e,grammar:n,language:r})=>P.useMemo(()=>{if(n==null)return pd([e]);const i={code:e,grammar:n,language:r,tokens:[]};return t.hooks.run("before-tokenize",i),i.tokens=t.tokenize(e,n),t.hooks.run("after-tokenize",i),pd(i.tokens)},[e,n,r,t]),Mv=(t,e)=>{const{plain:n}=t,r=t.styles.reduce((i,s)=>{const{languages:o,style:l}=s;return o&&!o.includes(e)||s.types.forEach(a=>{const u=Wt(Wt({},i[a]),l);i[a]=u}),i},{});return r.root=n,r.plain=rl(Wt({},n),{backgroundColor:void 0}),r},Pv=Mv,Rv=({children:t,language:e,code:n,theme:r,prism:i})=>{const s=e.toLowerCase(),o=Pv(r,s),l=Iv(o),a=Fv(o),u=i.languages[s],c=Lv({prism:i,language:s,code:n,grammar:u});return t({tokens:c,className:`prism-code language-${s}`,style:o!=null?o.root:{},getLineProps:l,getTokenProps:a})},Bv=t=>P.createElement(Rv,rl(Wt({},t),{prism:t.prism||M,theme:t.theme||Bg,code:t.code,language:t.language}));/*! Bundled license information:

prismjs/prism.js:
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)
*/function zv(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function zg(t,e,n){const i=el((n||{}).ignore||[]),s=jv(e);let o=-1;for(;++o<s.length;)Og(t,"text",l);function l(u,c){let f=-1,d;for(;++f<c.length;){const h=c[f],p=d?d.children:void 0;if(i(h,p?p.indexOf(h):void 0,d))return;d=h}if(d)return a(u,c)}function a(u,c){const f=c[c.length-1],d=s[o][0],h=s[o][1];let p=0;const m=f.children.indexOf(u);let y=!1,b=[];d.lastIndex=0;let x=d.exec(u.value);for(;x;){const k=x.index,S={index:x.index,input:x.input,stack:[...c,u]};let w=h(...x,S);if(typeof w=="string"&&(w=w.length>0?{type:"text",value:w}:void 0),w===!1?d.lastIndex=k+1:(p!==k&&b.push({type:"text",value:u.value.slice(p,k)}),Array.isArray(w)?b.push(...w):w&&b.push(w),p=k+x[0].length,y=!0),!d.global)break;x=d.exec(u.value)}return y?(p<u.value.length&&b.push({type:"text",value:u.value.slice(p)}),f.children.splice(m,1,...b)):b=[u],m+b.length}}function jv(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([$v(i[0]),Uv(i[1])])}return e}function $v(t){return typeof t=="string"?new RegExp(zv(t),"g"):t}function Uv(t){return typeof t=="function"?t:function(){return t}}function Wv(t){zg(t,[/\r?\n|\r/g,Hv])}function Hv(){return{type:"break"}}function Kv(){return function(t){Wv(t)}}function gd(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const $l="phrasing",Ul=["autolink","link","image","label"];function Vv(){return{transforms:[Qv],enter:{literalAutolink:Gv,literalAutolinkEmail:Wl,literalAutolinkHttp:Wl,literalAutolinkWww:Wl},exit:{literalAutolink:Zv,literalAutolinkEmail:Xv,literalAutolinkHttp:Yv,literalAutolinkWww:Jv}}}function qv(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:$l,notInConstruct:Ul},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:$l,notInConstruct:Ul},{character:":",before:"[ps]",after:"\\/",inConstruct:$l,notInConstruct:Ul}]}}function Gv(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Wl(t){this.config.enter.autolinkProtocol.call(this,t)}function Yv(t){this.config.exit.autolinkProtocol.call(this,t)}function Jv(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Xv(t){this.config.exit.autolinkEmail.call(this,t)}function Zv(t){this.exit(t)}function Qv(t){zg(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,eC],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),tC]],{ignore:["link","linkReference"]})}function eC(t,e,n,r,i){let s="";if(!jg(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!nC(n)))return!1;const o=rC(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function tC(t,e,n,r){return!jg(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function nC(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function rC(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=gd(t,"(");let s=gd(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function jg(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ir(n)||Xo(n))&&(!e||n!==47)}$g.peek=dC;function iC(){this.buffer()}function sC(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function oC(){this.buffer()}function lC(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function aC(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=It(this.sliceSerialize(t)).toLowerCase(),n.label=e}function uC(t){this.exit(t)}function cC(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=It(this.sliceSerialize(t)).toLowerCase(),n.label=e}function fC(t){this.exit(t)}function dC(){return"["}function $g(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),l(),o(),s+=i.move("]"),s}function hC(){return{enter:{gfmFootnoteCallString:iC,gfmFootnoteCall:sC,gfmFootnoteDefinitionLabelString:oC,gfmFootnoteDefinition:lC},exit:{gfmFootnoteCallString:aC,gfmFootnoteCall:uC,gfmFootnoteDefinitionLabelString:cC,gfmFootnoteDefinition:fC}}}function pC(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:$g},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const l=s.createTracker(o);let a=l.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return a+=l.move(s.safe(s.associationId(r),{before:a,after:"]"})),c(),a+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),a+=l.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),e?Ug:gC))),u(),a}}function gC(t,e,n){return e===0?t:Ug(t,e,n)}function Ug(t,e,n){return(n?"":"    ")+t}const mC=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Wg.peek=kC;function yC(){return{canContainEols:["delete"],enter:{strikethrough:xC},exit:{strikethrough:wC}}}function bC(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:mC}],handlers:{delete:Wg}}}function xC(t){this.enter({type:"delete",children:[]},t)}function wC(t){this.exit(t)}function Wg(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function kC(){return"~"}function _C(t){return t.length}function SC(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||_C,s=[],o=[],l=[],a=[];let u=0,c=-1;for(;++c<t.length;){const g=[],m=[];let y=-1;for(t[c].length>u&&(u=t[c].length);++y<t[c].length;){const b=EC(t[c][y]);if(n.alignDelimiters!==!1){const x=i(b);m[y]=x,(a[y]===void 0||x>a[y])&&(a[y]=x)}g.push(b)}o[c]=g,l[c]=m}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=md(r[f]);else{const g=md(r);for(;++f<u;)s[f]=g}f=-1;const d=[],h=[];for(;++f<u;){const g=s[f];let m="",y="";g===99?(m=":",y=":"):g===108?m=":":g===114&&(y=":");let b=n.alignDelimiters===!1?1:Math.max(1,a[f]-m.length-y.length);const x=m+"-".repeat(b)+y;n.alignDelimiters!==!1&&(b=m.length+b+y.length,b>a[f]&&(a[f]=b),h[f]=b),d[f]=x}o.splice(1,0,d),l.splice(1,0,h),c=-1;const p=[];for(;++c<o.length;){const g=o[c],m=l[c];f=-1;const y=[];for(;++f<u;){const b=g[f]||"";let x="",k="";if(n.alignDelimiters!==!1){const S=a[f]-(m[f]||0),w=s[f];w===114?x=" ".repeat(S):w===99?S%2?(x=" ".repeat(S/2+.5),k=" ".repeat(S/2-.5)):(x=" ".repeat(S/2),k=x):k=" ".repeat(S)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(x),y.push(b),n.alignDelimiters!==!1&&y.push(k),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}p.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function EC(t){return t==null?"":String(t)}function md(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function vC(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),CC);return i(),o}function CC(t,e,n){return">"+(n?"":" ")+t}function AC(t,e){return yd(t,e.inConstruct,!0)&&!yd(t,e.notInConstruct,!1)}function yd(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function bd(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&AC(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function TC(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function DC(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function IC(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function FC(t,e,n,r){const i=IC(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(DC(t,n)){const f=n.enter("codeIndented"),d=n.indentLines(s,OC);return f(),d}const l=n.createTracker(r),a=i.repeat(Math.max(TC(s,i)+1,3)),u=n.enter("codeFenced");let c=l.move(a);if(t.lang){const f=n.enter(`codeFencedLang${o}`);c+=l.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...l.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${o}`);c+=l.move(" "),c+=l.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...l.current()})),f()}return c+=l.move(`
`),s&&(c+=l.move(s+`
`)),c+=l.move(a),u(),c}function OC(t,e,n){return(n?"":"    ")+t}function Ku(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function NC(t,e,n,r){const i=Ku(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(t),{before:u,after:"]",...a.current()})),u+=a.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),o(),u}function LC(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Vi(t){return"&#x"+t.toString(16).toUpperCase()+";"}function yo(t,e,n){const r=Yr(t),i=Yr(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Hg.peek=MC;function Hg(t,e,n,r){const i=LC(n),s=n.enter("emphasis"),o=n.createTracker(r),l=o.move(i);let a=o.move(n.containerPhrasing(t,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),c=yo(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(a=Vi(u)+a.slice(1));const f=a.charCodeAt(a.length-1),d=yo(r.after.charCodeAt(0),f,i);d.inside&&(a=a.slice(0,-1)+Vi(f));const h=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},l+a+h}function MC(t,e,n){return n.options.emphasis||"*"}function PC(t,e){let n=!1;return Uu(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Fa}),!!((!t.depth||t.depth<3)&&Mu(t)&&(e.options.setext||n))}function RC(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(PC(t,n)){const c=n.enter("headingSetext"),f=n.enter("phrasing"),d=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),c(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=n.enter("headingAtx"),a=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Vi(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),l(),u}Kg.peek=BC;function Kg(t){return t.value||""}function BC(){return"<"}Vg.peek=zC;function Vg(t,e,n,r){const i=Ku(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(t.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function zC(){return"!"}qg.peek=jC;function qg(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("![");const u=n.safe(t.alt,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==f?a+=l.move(f+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function jC(){return"!"}Gg.peek=$C;function Gg(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],l=n.compilePattern(o);let a;if(o.atBreak)for(;a=l.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function $C(){return"`"}function Yg(t,e){const n=Mu(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Jg.peek=UC;function Jg(t,e,n,r){const i=Ku(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,a;if(Yg(t,n)){const c=n.stack;n.stack=[],l=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(t,{before:f,after:">",...o.current()})),f+=o.move(">"),l(),n.stack=c,f}l=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),l(),u}function UC(t,e,n){return Yg(t,n)?"<":"["}Xg.peek=WC;function Xg(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("[");const u=n.containerPhrasing(t,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==f?a+=l.move(f+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function WC(){return"["}function Vu(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function HC(t){const e=Vu(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function KC(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Zg(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function VC(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?KC(n):Vu(n);const l=t.ordered?o==="."?")":".":HC(n);let a=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),Zg(n)===o&&c){let f=-1;for(;++f<t.children.length;){const d=t.children[f];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=l),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function qC(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function GC(t,e,n,r){const i=qC(n);let s=n.bulletCurrent||Vu(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(o-s.length)),l.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,l.current()),c);return a(),u;function c(f,d,h){return d?(h?"":" ".repeat(o))+f:(h?s:s+" ".repeat(o-s.length))+f}}function YC(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const JC=el(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function XC(t,e,n,r){return(t.children.some(function(o){return JC(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function ZC(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Qg.peek=QC;function Qg(t,e,n,r){const i=ZC(n),s=n.enter("strong"),o=n.createTracker(r),l=o.move(i+i);let a=o.move(n.containerPhrasing(t,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),c=yo(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(a=Vi(u)+a.slice(1));const f=a.charCodeAt(a.length-1),d=yo(r.after.charCodeAt(0),f,i);d.inside&&(a=a.slice(0,-1)+Vi(f));const h=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},l+a+h}function QC(t,e,n){return n.options.strong||"*"}function eA(t,e,n,r){return n.safe(t.value,r)}function tA(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function nA(t,e,n){const r=(Zg(n)+(n.options.ruleSpaces?" ":"")).repeat(tA(n));return n.options.ruleSpaces?r.slice(0,-1):r}const em={blockquote:vC,break:bd,code:FC,definition:NC,emphasis:Hg,hardBreak:bd,heading:RC,html:Kg,image:Vg,imageReference:qg,inlineCode:Gg,link:Jg,linkReference:Xg,list:VC,listItem:GC,paragraph:YC,root:XC,strong:Qg,text:eA,thematicBreak:nA};function rA(){return{enter:{table:iA,tableData:xd,tableHeader:xd,tableRow:oA},exit:{codeText:lA,table:sA,tableData:Hl,tableHeader:Hl,tableRow:Hl}}}function iA(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function sA(t){this.exit(t),this.data.inTable=void 0}function oA(t){this.enter({type:"tableRow",children:[]},t)}function Hl(t){this.exit(t)}function xd(t){this.enter({type:"tableCell",children:[]},t)}function lA(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,aA));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function aA(t,e){return e==="|"?e:t}function uA(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:o,tableCell:a,tableRow:l}};function o(h,p,g,m){return u(c(h,g,m),h.align)}function l(h,p,g,m){const y=f(h,g,m),b=u([y]);return b.slice(0,b.indexOf(`
`))}function a(h,p,g,m){const y=g.enter("tableCell"),b=g.enter("phrasing"),x=g.containerPhrasing(h,{...m,before:s,after:s});return b(),y(),x}function u(h,p){return SC(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,g){const m=h.children;let y=-1;const b=[],x=p.enter("table");for(;++y<m.length;)b[y]=f(m[y],p,g);return x(),b}function f(h,p,g){const m=h.children;let y=-1;const b=[],x=p.enter("tableRow");for(;++y<m.length;)b[y]=a(m[y],h,p,g);return x(),b}function d(h,p,g){let m=em.inlineCode(h,p,g);return g.stack.includes("tableCell")&&(m=m.replace(/\|/g,"\\$&")),m}}function cA(){return{exit:{taskListCheckValueChecked:wd,taskListCheckValueUnchecked:wd,paragraph:dA}}}function fA(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:hA}}}function wd(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function dA(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function hA(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(o);let a=em.listItem(t,e,n,{...r,...l.current()});return s&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(c){return c+o}}function pA(){return[Vv(),hC(),yC(),rA(),cA()]}function gA(t){return{extensions:[qv(),pC(t),bC(),uA(t),fA()]}}const mA={tokenize:_A,partial:!0},tm={tokenize:SA,partial:!0},nm={tokenize:EA,partial:!0},rm={tokenize:vA,partial:!0},yA={tokenize:CA,partial:!0},im={name:"wwwAutolink",tokenize:wA,previous:om},sm={name:"protocolAutolink",tokenize:kA,previous:lm},kn={name:"emailAutolink",tokenize:xA,previous:am},en={};function bA(){return{text:en}}let Gn=48;for(;Gn<123;)en[Gn]=kn,Gn++,Gn===58?Gn=65:Gn===91&&(Gn=97);en[43]=kn;en[45]=kn;en[46]=kn;en[95]=kn;en[72]=[kn,sm];en[104]=[kn,sm];en[87]=[kn,im];en[119]=[kn,im];function xA(t,e,n){const r=this;let i,s;return o;function o(f){return!Ma(f)||!am.call(r,r.previous)||qu(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(f))}function l(f){return Ma(f)?(t.consume(f),l):f===64?(t.consume(f),a):n(f)}function a(f){return f===46?t.check(yA,c,u)(f):f===45||f===95||Ve(f)?(s=!0,t.consume(f),a):c(f)}function u(f){return t.consume(f),i=!0,a}function c(f){return s&&i&&nt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function wA(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!om.call(r,r.previous)||qu(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(mA,t.attempt(tm,t.attempt(nm,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function kA(t,e,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&lm.call(r,r.previous)&&!qu(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),l):n(f)}function l(f){if(nt(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),l;if(f===58){const d=i.toLowerCase();if(d==="http"||d==="https")return t.consume(f),a}return n(f)}function a(f){return f===47?(t.consume(f),s?u:(s=!0,a)):n(f)}function u(f){return f===null||ho(f)||we(f)||ir(f)||Xo(f)?n(f):t.attempt(tm,t.attempt(nm,c),n)(f)}function c(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function _A(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function SA(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(rm,a,l)(u):u===null||we(u)||ir(u)||u!==45&&Xo(u)?a(u):(s=!0,t.consume(u),o)}function l(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function a(u){return i||r||!s?n(u):e(u)}}function EA(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(rm,e,s)(o):o===null||we(o)||ir(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function vA(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),s):l===93?(t.consume(l),i):l===60||l===null||we(l)||ir(l)?e(l):n(l)}function i(l){return l===null||l===40||l===91||we(l)||ir(l)?e(l):r(l)}function s(l){return nt(l)?o(l):n(l)}function o(l){return l===59?(t.consume(l),r):nt(l)?(t.consume(l),o):n(l)}}function CA(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Ve(s)?n(s):e(s)}}function om(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||we(t)}function lm(t){return!nt(t)}function am(t){return!(t===47||Ma(t))}function Ma(t){return t===43||t===45||t===46||t===95||Ve(t)}function qu(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const AA={tokenize:MA,partial:!0};function TA(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:OA,continuation:{tokenize:NA},exit:LA}},text:{91:{name:"gfmFootnoteCall",tokenize:FA},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:DA,resolveTo:IA}}}}function DA(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return l;function l(a){if(!o||!o._balanced)return n(a);const u=It(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(a):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(a),t.exit("gfmFootnoteCallLabelMarker"),e(a))}}function IA(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function FA(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return l;function l(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),a}function a(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!o||f===null||f===91||we(f))return n(f);if(f===93){t.exit("chunkString");const d=t.exit("gfmFootnoteCallString");return i.includes(It(r.sliceSerialize(d)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return we(f)||(o=!0),s++,t.consume(f),f===92?c:u}function c(f){return f===91||f===92||f===93?(t.consume(f),s++,u):u(f)}}function OA(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,l;return a;function a(p){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(p)}function c(p){if(o>999||p===93&&!l||p===null||p===91||we(p))return n(p);if(p===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return s=It(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),d}return we(p)||(l=!0),o++,t.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(t.consume(p),o++,c):c(p)}function d(p){return p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),i.includes(s)||i.push(s),ue(t,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return e(p)}}function NA(t,e,n){return t.check(ds,e,t.attempt(AA,e,n))}function LA(t){t.exit("gfmFootnoteDefinition")}function MA(t,e,n){const r=this;return ue(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function PA(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},f={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},d=[["enter",c,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",f,l]],h=l.parser.constructs.insideSpan.null;h&&yt(d,d.length,0,Zo(h,o.slice(u+1,a),l)),yt(d,d.length,0,[["exit",f,l],["enter",o[a][1],l],["exit",o[a][1],l],["exit",c,l]]),yt(o,u-1,a-u+3,d),a=u+d.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function s(o,l,a){const u=this.previous,c=this.events;let f=0;return d;function d(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?a(p):(o.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const g=Yr(u);if(p===126)return f>1?a(p):(o.consume(p),f++,h);if(f<2&&!n)return a(p);const m=o.exit("strikethroughSequenceTemporary"),y=Yr(p);return m._open=!y||y===2&&!!g,m._close=!g||g===2&&!!y,l(p)}}}class RA{constructor(){this.map=[]}add(e,n,r){BA(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function BA(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function zA(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function jA(){return{flow:{null:{name:"table",tokenize:$A,resolveAll:UA}}}}function $A(t,e,n){const r=this;let i=0,s=0,o;return l;function l(_){let F=r.events.length-1;for(;F>-1;){const I=r.events[F][1].type;if(I==="lineEnding"||I==="linePrefix")F--;else break}const L=F>-1?r.events[F][1].type:null,R=L==="tableHead"||L==="tableRow"?w:a;return R===w&&r.parser.lazy[r.now().line]?n(_):R(_)}function a(_){return t.enter("tableHead"),t.enter("tableRow"),u(_)}function u(_){return _===124||(o=!0,s+=1),c(_)}function c(_){return _===null?n(_):X(_)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),h):n(_):oe(_)?ue(t,c,"whitespace")(_):(s+=1,o&&(o=!1,i+=1),_===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),o=!0,c):(t.enter("data"),f(_)))}function f(_){return _===null||_===124||we(_)?(t.exit("data"),c(_)):(t.consume(_),_===92?d:f)}function d(_){return _===92||_===124?(t.consume(_),f):f(_)}function h(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(_):(t.enter("tableDelimiterRow"),o=!1,oe(_)?ue(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):p(_))}function p(_){return _===45||_===58?m(_):_===124?(o=!0,t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),g):S(_)}function g(_){return oe(_)?ue(t,m,"whitespace")(_):m(_)}function m(_){return _===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),y):_===45?(s+=1,y(_)):_===null||X(_)?k(_):S(_)}function y(_){return _===45?(t.enter("tableDelimiterFiller"),b(_)):S(_)}function b(_){return _===45?(t.consume(_),b):_===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(_))}function x(_){return oe(_)?ue(t,k,"whitespace")(_):k(_)}function k(_){return _===124?p(_):_===null||X(_)?!o||i!==s?S(_):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(_)):S(_)}function S(_){return n(_)}function w(_){return t.enter("tableRow"),A(_)}function A(_){return _===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),A):_===null||X(_)?(t.exit("tableRow"),e(_)):oe(_)?ue(t,A,"whitespace")(_):(t.enter("data"),C(_))}function C(_){return _===null||_===124||we(_)?(t.exit("data"),A(_)):(t.consume(_),_===92?T:C)}function T(_){return _===92||_===124?(t.consume(_),C):C(_)}}function UA(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,a=0,u,c,f;const d=new RA;for(;++n<t.length;){const h=t[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(l=!1,a!==0&&(kd(d,e,a,u,c),c=void 0,a=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",u,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",c,e]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=Bs(d,e,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=Bs(d,e,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):p.type==="tableHead"?(l=!0,a=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(a=n,s[1]!==0?(o[0]=o[1],f=Bs(d,e,s,i,n,f)):o[1]!==0&&(f=Bs(d,e,o,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(a!==0&&kd(d,e,a,u,c),d.consume(e.events),n=-1;++n<e.events.length;){const h=e.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=zA(e.events,n))}return t}function Bs(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},Fr(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const a=Fr(e.events,n[1]);if(s={type:o,start:Object.assign({},a),end:Object.assign({},a)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=Fr(e.events,n[2]),c=Fr(e.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const d=e.events[n[2]],h=e.events[n[3]];if(d[1].end=Object.assign({},h[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;t.add(p,g,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(s.end=Object.assign({},Fr(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function kd(t,e,n,r,i){const s=[],o=Fr(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function Fr(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const WA={name:"tasklistCheck",tokenize:KA};function HA(){return{text:{91:WA}}}function KA(t,e,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),s)}function s(a){return we(a)?(t.enter("taskListCheckValueUnchecked"),t.consume(a),t.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(t.enter("taskListCheckValueChecked"),t.consume(a),t.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(a)}function l(a){return X(a)?e(a):oe(a)?t.check({tokenize:VA},e,n)(a):n(a)}}function VA(t,e,n){return ue(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function qA(t){return hg([bA(),TA(),PA(t),jA(),HA()])}const GA={};function YA(t){const e=this,n=t||GA,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(qA(n)),s.push(pA()),o.push(gA(n))}const JA=Pe(NE)(({theme:t})=>({fontFamily:t.typography.fontFamily,"& *":{marginBlockStart:0,marginBlockEnd:0},"& div.prism-code":{fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",margin:t.spacing(1),backgroundColor:"transparent",fontSize:"0.8rem",padding:t.spacing(1,0)},"& h1, p":{marginTop:t.spacing(1)},"& p":{lineHeight:"1.5",fontSize:"1rem"},"& ul, ol":{paddingInlineStart:t.spacing(2)},"& code":{padding:"0.2em 0.4em",borderRadius:t.spacing(1),backgroundColor:"silver",wordWrap:"break-word",whiteSpace:"pre-wrap",fontSize:"90%",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace"},"& pre":{margin:t.spacing(1,1),backgroundColor:"rgba(197, 197, 197, 0.37)",borderRadius:t.spacing(1)},"& blockquote":{borderLeft:"solid darkgray 4px",color:"darkgray",marginLeft:"0",paddingLeft:t.spacing(2),marginInlineEnd:t.spacing(1)},"& table, th, td, tr":{border:"solid black 1px "},"& table":{borderCollapse:"collapse"},"& tr:nth-of-type(even)":{backgroundColor:"lightgray"},"& img":{maxWidth:"100%"}}));function XA(t){const{className:e,children:n,...r}=t,{data:i}=us(_u()),{members:s=[]}=Su(),o=/language-(\w+)/.exec(e??""),l=String(n).replace(/\n$/,""),a=lx(l);if(a?.groups){const u=a.groups?.id,c=[...s,rx].find(f=>f.id===u)?.name??X1;return D.jsxs("span",{style:{...(u===i?.id||u===Go)&&{backgroundColor:"#e3c980"},fontWeight:"bold"},children:["@",c]})}return o?D.jsx(Bv,{theme:Rg.vsLight,code:l,language:o[1],...t,children:({className:u,tokens:c,getLineProps:f,getTokenProps:d})=>D.jsx("div",{className:u,children:c.map((h,p)=>D.jsx("div",{...f({line:h,key:p}),children:h.map((g,m)=>D.jsx("span",{...d({token:g,key:m})}))}))})}):D.jsx("code",{className:e,...r,children:n})}function ZA({messageBody:t}){return D.jsx(JA,{remarkPlugins:[YA,Kv],components:{code:XA},children:t})}const QA=Pe(qe)(({theme:t})=>({background:Tp[100],borderRadius:"5px",margin:t.spacing(1,0),padding:t.spacing(.5,1,0),maxWidth:"70%",width:"fit-content",minWidth:100,wordBreak:"break-word"})),eT=Pe(Ot)({float:"right"});function tT({message:t,isOwn:e}){const{t:n,i18n:r}=Vt(qt.Chatbox),{data:i,isPending:s,isFetching:o}=Ep.useAvatarUrl({id:t.creator?.id,size:"small"}),{creator:l}=t,a=l?.name?s1(l?.name,{length:Z1}):J1,u=Fp(t.createdAt,"HH:mm aaa",{locale:Ip(r.language)});return D.jsxs(QA,{p:1,sx:e?{background:Tp[300],alignSelf:"flex-end"}:void 0,"data-cy":G0(t.id),children:[!e&&D.jsxs(St,{direction:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",gap:1,children:[l?.id&&D.jsx(Y0,{variant:"circular",alt:a,isLoading:s||o,component:"avatar",url:i,maxHeight:yf,maxWidth:yf}),D.jsx(Ot,{variant:"subtitle2",children:a})]}),D.jsx(ZA,{messageBody:t.body}),D.jsx(eT,{variant:"caption",children:`${t.updatedAt!==t.createdAt?n("MESSAGE_MODIFIED_INDICATOR"):""} ${u}`})]})}const _d=Pe(u1)({"&.MuiListItemIcon-root":{minWidth:ex}});function nT({message:t,isOwn:e=!1,itemId:n}){const[r,i]=P.useState(!1),[s,o]=P.useState(null),{t:l}=Vt(qt.Chatbox),{enableEdit:a}=Yo(),{deleteMessage:u}=Eu({itemId:n}),c=p=>{o(p.currentTarget),i(!r)},f=()=>{o(null)},d=()=>{u({path:{itemId:t.itemId,messageId:t.id}}),f()},h=()=>{a(t.id,t.body),f()};return D.jsxs(D.Fragment,{children:[D.jsx(qo,{"data-cy":J0,onClick:c,children:D.jsx(H1,{})}),D.jsxs(o1,{open:!!s,anchorEl:s,onClose:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e&&D.jsxs(Fi,{"data-cy":X0,onClick:h,dense:!0,children:[D.jsx(_d,{children:D.jsx(l1,{color:"primary"})}),D.jsx(gf,{children:l("EDIT_BUTTON")})]}),D.jsxs(Fi,{"data-cy":Z0,onClick:d,dense:!0,children:[D.jsx(_d,{children:D.jsx(a1,{color:"error"})}),D.jsx(gf,{children:l("DELETE_BUTTON")})]})]})]})}const rT=Pe("div")({overflowY:"auto",flex:1,minHeight:"0px"}),iT=Pe(qe)({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-end"}),sT=Pe(qe)({width:"100%",display:"flex",flexDirection:"row",alignItems:"center",alignContent:"stretch"});function oT({isAdmin:t=!1,itemId:e}){const{i18n:n}=Vt(qt.Chatbox),r=P.useRef(null),{open:i}=Yo(),{data:s}=us(_u()),{data:o}=Eu({itemId:e});P.useEffect(()=>{r?.current&&(r.current.style.overflowY="hidden",r.current.scrollTop=r.current.scrollHeight+G1,r.current.style.overflowY="auto")},[r,o,i]);const l=u=>u.creator?.id===s?.id,a=Object.entries(i1(o,({createdAt:u})=>Fp(u,Q1,{locale:Ip(n.language)})));return D.jsx(rT,{ref:r,"data-cy":Q0,children:D.jsx(iT,{children:a?.map(([u,c])=>D.jsxs(P.Fragment,{children:[D.jsx(qe,{p:1,alignSelf:"center",children:D.jsx(Ot,{variant:"subtitle2",children:u})}),c?.map(f=>{const d=l(f);return D.jsxs(sT,{sx:{justifyContent:d?"flex-end":"flex-start"},children:[D.jsx(tT,{isOwn:d,message:f}),(d||t)&&D.jsx(nT,{message:f,isOwn:d,itemId:e})]},f.id)})]},u))})})}const lT=Pe("div")({height:`calc(100vh - ${Y1}px)`,minHeight:"0px",display:"flex",flexDirection:"column"}),aT=Pe("div")({flex:"none"});function EL({id:t,sendMessageBoxId:e,messages:n,itemId:r,showAdminTools:i=!1}){return ox(P0,r),D.jsx(ix,{children:D.jsx(sx,{itemId:r,messages:n,children:D.jsxs(lT,{id:t,children:[D.jsx(oT,{itemId:r,isAdmin:i}),D.jsx(aT,{children:D.jsx(_w,{sendMessageBoxId:e})})]})})})}const Sd=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],Ed=Sd[Math.floor(Math.random()*Sd.length)],uT=P.createContext({clientID:0,color:Ed[1],isCollabActive:!1,name:Ed[0],yjsDocMap:new Map});function cT(t,e){const n=P.useContext(uT);return t!=null&&(n.name=t),e!=null&&(n.color=e),n}const um=P.createContext(null);function fT(t,e){return{getTheme:function(){return e??null}}}function Hn(){const t=P.useContext(um);return t==null&&(function(e,...n){const r=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",e);for(const s of n)i.append("v",s);throw r.search=i.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(8),t}function z(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Mt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,dT=Mt&&"documentMode"in document?document.documentMode:null,Ut=Mt&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),sr=Mt&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),bo=!(!Mt||!("InputEvent"in window)||dT)&&"getTargetRanges"in new window.InputEvent("input"),qi=Mt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Jr=Mt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,hT=Mt&&/Android/.test(navigator.userAgent),cm=Mt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),vd=Mt&&hT&&cm,xo=Mt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!cm;function wo(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}const pT=1,gT=3,mT=9,yT=11,or=0,fm=1,Xr=2,bT=0,xT=1,wT=2,ko=4,_o=8,Gu=128,kT=1792|(112|(3|ko|_o)|Gu),Yu=1,Ju=2,Xu=3,Zu=4,Qu=5,ec=6,il=qi||Jr||xo?"":"",mn=`

`,_T=sr?"":il,dm="---",hm="A-Za-z--------",ST=new RegExp("^[^"+hm+"]*["+dm+"]"),ET=new RegExp("^[^"+dm+"]*["+hm+"]"),lr={bold:1,capitalize:1024,code:16,highlight:Gu,italic:2,lowercase:256,strikethrough:ko,subscript:32,superscript:64,underline:_o,uppercase:512},vT={directionless:1,unmergeable:2},Cd={center:Ju,end:ec,justify:Zu,left:Yu,right:Xu,start:Qu},CT={[Ju]:"center",[ec]:"end",[Zu]:"justify",[Yu]:"left",[Xu]:"right",[Qu]:"start"},AT={normal:0,segmented:2,token:1},TT={[bT]:"normal",[wT]:"segmented",[xT]:"token"},Ad="$config";function pm(t,e,n,r,i,s){let o=t.getFirstChild();for(;o!==null;){const l=o.__key;o.__parent===e&&(O(o)&&pm(o,l,n,r,i,s),n.has(l)||s.delete(l),i.push(l)),o=o.getNextSibling()}}const DT=100;let Pa=!1,tc=0;function IT(t){tc=t.timeStamp}function Kl(t,e,n){const r=t.nodeName==="BR",i=e.__lexicalLineBreak;return i&&(t===i||r&&t.previousSibling===i)||r&&dl(t,n)!==void 0}function FT(t,e,n){const r=Nt(Ct(n));let i=null,s=null;r!==null&&r.anchorNode===t&&(i=r.anchorOffset,s=r.focusOffset);const o=t.nodeValue;o!==null&&_c(e,o,i,s,!1)}function OT(t,e,n){if(j(t)){const r=t.anchor.getNode();if(r.is(n)&&t.format!==r.getFormat())return!1}return _n(e)&&n.isAttached()}function NT(t,e,n,r){for(let i=t;i&&!v2(i);i=ks(i)){const s=dl(i,e);if(s!==void 0){const o=me(s,n);if(o)return ce(o)||!st(i)?void 0:[i,o]}else if(i===r)return[r,by(n)]}}function gm(t,e,n){Pa=!0;const r=performance.now()-tc>DT;try{mt(t,(()=>{const i=K()||(function(d){return d.getEditorState().read((()=>{const h=K();return h!==null?h.clone():null}))})(t),s=new Map,o=t.getRootElement(),l=t._editorState,a=t._blockCursorElement;let u=!1,c="";for(let d=0;d<e.length;d++){const h=e[d],p=h.type,g=h.target,m=NT(g,t,l,o);if(!m)continue;const[y,b]=m;if(p==="characterData")r&&U(b)&&_n(g)&&OT(i,g,b)&&FT(g,b,t);else if(p==="childList"){u=!0;const x=h.addedNodes;for(let w=0;w<x.length;w++){const A=x[w],C=my(A),T=A.parentNode;if(T!=null&&A!==a&&C===null&&!Kl(A,T,t)){if(sr){const _=(st(A)?A.innerText:null)||A.nodeValue;_&&(c+=_)}T.removeChild(A)}}const k=h.removedNodes,S=k.length;if(S>0){let w=0;for(let A=0;A<S;A++){const C=k[A];(Kl(C,g,t)||a===C)&&(g.appendChild(C),w++)}S!==w&&s.set(y,b)}}}if(s.size>0)for(const[d,h]of s)h.reconcileObservedMutation(d,t);const f=n.takeRecords();if(f.length>0){for(let d=0;d<f.length;d++){const h=f[d],p=h.addedNodes,g=h.target;for(let m=0;m<p.length;m++){const y=p[m],b=y.parentNode;b==null||y.nodeName!=="BR"||Kl(y,g,t)||b.removeChild(y)}}n.takeRecords()}i!==null&&(u&&Ye(i),sr&&_y(t)&&i.insertRawText(c))}))}finally{Pa=!1}}function mm(t){const e=t._observer;e!==null&&gm(t,e.takeRecords(),e)}function ym(t){(function(e){tc===0&&Ct(e).addEventListener("textInput",IT,!0)})(t),t._observer=new MutationObserver(((e,n)=>{gm(t,e,n)}))}function LT(t){const e=new Map,n=new Set;for(let r=typeof t=="function"?t:t.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:i}=Ac(r);if(i&&i.stateConfigs)for(const s of i.stateConfigs){let o;"stateConfig"in s?(o=s.stateConfig,s.flat&&n.add(o.key)):o=s,e.set(o.key,o)}}return{flatKeys:n,sharedConfigMap:e}}let MT=class bm{constructor(e,n,r=void 0,i=new Map,s=void 0){this.node=e,this.sharedNodeState=n,this.unknownState=r,this.knownState=i;const{sharedConfigMap:o}=this.sharedNodeState,l=s!==void 0?s:(function(a,u,c){let f=c.size;if(u)for(const d in u){const h=a.get(d);h&&c.has(h)||f++}return f})(o,r,i);this.size=l}getValue(e){const n=this.knownState.get(e);if(n!==void 0)return n;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const i=this.unknownState[e.key];i!==void 0&&(r=e.parse(i)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},n={};for(const[r,i]of this.knownState)r.isEqual(i,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(i);for(const r of this.sharedNodeState.flatKeys)r in e&&(n[r]=e[r],delete e[r]);return Td(e)&&(n.$=e),n}getWritable(e){if(this.node===e)return this;const{sharedNodeState:n,unknownState:r}=this,i=new Map(this.knownState);return new bm(e,n,(function(s,o,l){let a;if(l)for(const[u,c]of Object.entries(l)){const f=s.get(u);f?o.has(f)||o.set(f,f.parse(c)):(a=a||{},a[u]=c)}return a})(n.sharedConfigMap,i,r),i,this.size)}updateFromKnown(e,n){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:i,unknownState:s}=this;i.has(e)||s&&r in s||(s&&(delete s[r],this.unknownState=Td(s)),this.size++),i.set(e,n)}updateFromUnknown(e,n){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(n)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=n)}updateFromJSON(e){const{knownState:n}=this;for(const r of n.keys())n.set(r,r.defaultValue);if(this.size=n.size,this.unknownState=void 0,e)for(const[r,i]of Object.entries(e))this.updateFromUnknown(r,i)}};function nc(t){const e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new MT(e,xm(e));return e.__state=n,n}function xm(t){return t.__state?t.__state.sharedNodeState:hy(vc(),t.getType()).sharedNodeState}function Td(t){if(t)for(const e in t)return t}function Dd(t,e,n){for(const[r,i]of e.knownState){if(t.has(r.key))continue;t.add(r.key);const s=n?n.getValue(r):r.defaultValue;if(s!==i&&!r.isEqual(s,i))return!0}return!1}function Id(t,e,n){const{unknownState:r}=e,i=n?n.unknownState:void 0;if(r){for(const[s,o]of Object.entries(r))if(!t.has(s)&&(t.add(s),o!==(i?i[s]:void 0)))return!0}return!1}function Fd(t,e){const n=t.__state;return n&&n.node===t?n.getWritable(e):n}function Od(t,e){const n=t.__mode,r=t.__format,i=t.__style,s=e.__mode,o=e.__format,l=e.__style,a=t.__state,u=e.__state;return(n===null||n===s)&&(r===null||r===o)&&(i===null||i===l)&&(t.__state===null||a===u||(function(c,f){if(c===f)return!0;if(c&&f&&c.size!==f.size)return!1;const d=new Set;return!(c&&Dd(d,c,f)||f&&Dd(d,f,c)||c&&Id(d,c,f)||f&&Id(d,f,c))})(a,u))}function Nd(t,e){const n=t.mergeWithSibling(e),r=Se()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function Ld(t){let e,n,r=t;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&U(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Od(e,r)){r=Nd(e,r);break}break}e.remove()}for(;(n=r.getNextSibling())!==null&&U(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(Od(r,n)){r=Nd(r,n);break}break}n.remove()}}else r.remove()}function So(t){return Md(t.anchor),Md(t.focus),t}function Md(t){for(;t.type==="element";){const e=t.getNode(),n=t.offset;let r,i;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),i=!0):(r=e.getChildAtIndex(n),i=!1),U(r)){t.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!O(r))break;t.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}let Pn,it,Gi,sl,Ra,Ba,ar,Ft,za,Yi,De="",rt="",Bt=null,zt="",fn="",wm=!1,Ji=!1,Qs=null;function Eo(t,e){const n=ar.get(t);if(e!==null){const r=Ua(t);r.parentNode===e&&e.removeChild(r)}if(Ft.has(t)||it._keyToDOMMap.delete(t),O(n)){const r=Co(n,ar);ja(r,0,r.length-1,null)}n!==void 0&&Sc(Yi,Gi,sl,n,"destroyed")}function ja(t,e,n,r){let i=e;for(;i<=n;++i){const s=t[i];s!==void 0&&Eo(s,r)}}function Yn(t,e){t.setProperty("text-align",e)}const PT="40px";function km(t,e){const n=Pn.theme.indent;if(typeof n=="string"){const i=t.classList.contains(n);e>0&&!i?t.classList.add(n):e<1&&i&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||PT;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function _m(t,e){const n=t.style;e===0?Yn(n,""):e===Yu?Yn(n,"left"):e===Ju?Yn(n,"center"):e===Xu?Yn(n,"right"):e===Zu?Yn(n,"justify"):e===Qu?Yn(n,"start"):e===ec&&Yn(n,"end")}function vo(t,e){const n=Ft.get(t);n===void 0&&z(60);const r=n.createDOM(Pn,it);if((function(i,s,o){const l=o._keyToDOMMap;(function(a,u,c){const f=`__lexicalKey_${u._key}`;a[f]=c})(s,o,i),l.set(i,s)})(t,r,it),U(n)?r.setAttribute("data-lexical-text","true"):ce(n)&&r.setAttribute("data-lexical-decorator","true"),O(n)){const i=n.__indent,s=n.__size;if(i!==0&&km(r,i),s!==0){const l=s-1;(function(a,u,c,f){const d=rt;rt="",$a(a,c,0,u,c.getDOMSlot(f)),Em(c,f),rt=d})(Co(n,Ft),l,n,r)}const o=n.__format;o!==0&&_m(r,o),n.isInline()||Sm(null,n,r),hl(n)&&(De+=mn,fn+=mn)}else{const i=n.getTextContent();if(ce(n)){const s=n.decorate(it,Pn);s!==null&&vm(t,s),r.contentEditable="false"}else U(n)&&(n.isDirectionless()||(rt+=i));De+=i,fn+=i}return e!==null&&e.insertChild(r),Sc(Yi,Gi,sl,n,"created"),r}function $a(t,e,n,r,i){const s=De;De="";let o=n;for(;o<=r;++o){vo(t[o],i);const l=Ft.get(t[o]);l!==null&&U(l)&&(Bt===null&&(Bt=l.getFormat()),zt===""&&(zt=l.getStyle()))}hl(e)&&(De+=mn),i.element.__lexicalTextContent=De,De=s+De}function Pd(t,e){if(t){const n=t.__last;if(n){const r=e.get(n);if(r)return Ln(r)?"line-break":ce(r)&&r.isInline()?"decorator":null}return"empty"}return null}function Sm(t,e,n){const r=Pd(t,ar),i=Pd(e,Ft);r!==i&&e.getDOMSlot(n).setManagedLineBreak(i)}function Em(t,e){const n=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(n!==rt||r!==Qs){const i=rt==="",s=i?Qs:(function(o){return ST.test(o)?"rtl":ET.test(o)?"ltr":null})(rt);if(s!==r){const o=e.classList,l=Pn.theme;let a=r!==null?l[r]:void 0,u=s!==null?l[s]:void 0;if(a!==void 0){if(typeof a=="string"){const c=wo(a);a=l[r]=c}o.remove(...a)}if(s===null||i&&s==="ltr")e.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const c=wo(u);u=l[s]=c}u!==void 0&&o.add(...u)}e.dir=s}Ji||(t.getWritable().__dir=s)}Qs=s,e.__lexicalDirTextContent=rt,e.__lexicalDir=s}}function RT(t,e,n){const r=rt;var i;rt="",Bt=null,zt="",(function(s,o,l){const a=De,u=s.__size,c=o.__size;De="";const f=l.element;if(u===1&&c===1){const d=s.__first,h=o.__first;if(d===h)Di(d,f);else{const g=Ua(d),m=vo(h,null);try{f.replaceChild(m,g)}catch(y){if(typeof y=="object"&&y!=null){const b=`${y.toString()} Parent: ${f.tagName}, new child: {tag: ${m.tagName} key: ${h}}, old child: {tag: ${g.tagName}, key: ${d}}.`;throw new Error(b)}throw y}Eo(d,null)}const p=Ft.get(h);U(p)&&(Bt===null&&(Bt=p.getFormat()),zt===""&&(zt=p.getStyle()))}else{const d=Co(s,ar),h=Co(o,Ft);if(d.length!==u&&z(227),h.length!==c&&z(228),u===0)c!==0&&$a(h,o,0,c-1,l);else if(c===0){if(u!==0){const p=l.after==null&&l.before==null&&l.element.__lexicalLineBreak==null;ja(d,0,u-1,p?null:f),p&&(f.textContent="")}}else(function(p,g,m,y,b,x){const k=y-1,S=b-1;let w,A,C=x.getFirstChild(),T=0,_=0;for(;T<=k&&_<=S;){const R=g[T],I=m[_];if(R===I)C=Vl(Di(I,x.element)),T++,_++;else{w===void 0&&(w=new Set(g)),A===void 0&&(A=new Set(m));const q=A.has(R),G=w.has(I);if(q)if(G){const Y=ei(it,I);Y===C?C=Vl(Di(I,x.element)):(x.withBefore(C).insertChild(Y),Di(I,x.element)),T++,_++}else vo(I,x.withBefore(C)),_++;else C=Vl(Ua(R)),Eo(R,x.element),T++}const B=Ft.get(I);B!==null&&U(B)&&(Bt===null&&(Bt=B.getFormat()),zt===""&&(zt=B.getStyle()))}const F=T>k,L=_>S;if(F&&!L){const R=m[S+1],I=R===void 0?null:it.getElementByKey(R);$a(m,p,_,S,x.withBefore(I))}else L&&!F&&ja(g,T,k,x.element)})(o,d,h,u,c,l)}hl(o)&&(De+=mn),f.__lexicalTextContent=De,De=a+De})(t,e,e.getDOMSlot(n)),Em(e,n),i=e,Bt==null||Bt===i.__textFormat||Ji||i.setTextFormat(Bt),(function(s){zt===""||zt===s.__textStyle||Ji||s.setTextStyle(zt)})(e),rt=r}function Co(t,e){const n=[];let r=t.__first;for(;r!==null;){const i=e.get(r);i===void 0&&z(101),n.push(r),r=i.__next}return n}function Di(t,e){const n=ar.get(t);let r=Ft.get(t);n!==void 0&&r!==void 0||z(61);const i=wm||Ba.has(t)||Ra.has(t),s=ei(it,t);if(n===r&&!i){if(O(n)){const o=s.__lexicalTextContent;o!==void 0&&(De+=o,fn+=o);const l=s.__lexicalDirTextContent;l!==void 0&&(rt+=l)}else{const o=n.getTextContent();U(n)&&!n.isDirectionless()&&(rt+=o),fn+=o,De+=o}return s}if(n!==r&&i&&Sc(Yi,Gi,sl,r,"updated"),r.updateDOM(n,s,Pn)){const o=vo(t,null);return e===null&&z(62),e.replaceChild(o,s),Eo(t,null),o}if(O(n)&&O(r)){const o=r.__indent;o!==n.__indent&&km(s,o);const l=r.__format;l!==n.__format&&_m(s,l),i&&(RT(n,r,s),$e(r)||r.isInline()||Sm(n,r,s)),hl(r)&&(De+=mn,fn+=mn)}else{const o=r.getTextContent();if(ce(r)){const l=r.decorate(it,Pn);l!==null&&vm(t,l)}else U(r)&&!r.isDirectionless()&&(rt+=o);De+=o,fn+=o}if(!Ji&&$e(r)&&r.__cachedText!==fn){const o=r.getWritable();o.__cachedText=fn,r=o}return s}function vm(t,e){let n=it._pendingDecorators;const r=it._decorators;if(n===null){if(r[t]===e)return;n=yy(it)}n[t]=e}function Vl(t){let e=t.nextSibling;return e!==null&&e===it._blockCursorElement&&(e=e.nextSibling),e}function BT(t,e,n,r,i,s){De="",fn="",rt="",wm=r===Xr,Qs=null,it=n,Pn=n._config,Gi=n._nodes,sl=it._listeners.mutation,Ra=i,Ba=s,ar=t._nodeMap,Ft=e._nodeMap,Ji=e._readOnly,za=new Map(n._keyToDOMMap);const o=new Map;return Yi=o,Di("root",null),it=void 0,Gi=void 0,Ra=void 0,Ba=void 0,ar=void 0,Ft=void 0,Pn=void 0,za=void 0,Yi=void 0,o}function Ua(t){const e=za.get(t);return e===void 0&&z(75,t),e}function Z(t){return{type:t}}const Cm=Z("SELECTION_CHANGE_COMMAND"),zT=Z("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),rc=Z("CLICK_COMMAND"),er=Z("DELETE_CHARACTER_COMMAND"),jr=Z("INSERT_LINE_BREAK_COMMAND"),Ao=Z("INSERT_PARAGRAPH_COMMAND"),$r=Z("CONTROLLED_TEXT_INSERTION_COMMAND"),ic=Z("PASTE_COMMAND"),Wa=Z("REMOVE_TEXT_COMMAND"),Xi=Z("DELETE_WORD_COMMAND"),Zi=Z("DELETE_LINE_COMMAND"),In=Z("FORMAT_TEXT_COMMAND"),sc=Z("UNDO_COMMAND"),oc=Z("REDO_COMMAND"),jT=Z("KEYDOWN_COMMAND"),Am=Z("KEY_ARROW_RIGHT_COMMAND"),$T=Z("MOVE_TO_END"),Tm=Z("KEY_ARROW_LEFT_COMMAND"),UT=Z("MOVE_TO_START"),Dm=Z("KEY_ARROW_UP_COMMAND"),Im=Z("KEY_ARROW_DOWN_COMMAND"),To=Z("KEY_ENTER_COMMAND"),Fm=Z("KEY_SPACE_COMMAND"),Om=Z("KEY_BACKSPACE_COMMAND"),Nm=Z("KEY_ESCAPE_COMMAND"),Lm=Z("KEY_DELETE_COMMAND"),Mm=Z("KEY_TAB_COMMAND"),WT=Z("INSERT_TAB_COMMAND"),HT=Z("INDENT_CONTENT_COMMAND"),Rd=Z("OUTDENT_CONTENT_COMMAND"),Pm=Z("DROP_COMMAND"),Rm=Z("FORMAT_ELEMENT_COMMAND"),Bm=Z("DRAGSTART_COMMAND"),zm=Z("DRAGOVER_COMMAND"),KT=Z("DRAGEND_COMMAND"),ol=Z("COPY_COMMAND"),lc=Z("CUT_COMMAND"),Ha=Z("SELECT_ALL_COMMAND"),VT=Z("CAN_REDO_COMMAND"),qT=Z("CAN_UNDO_COMMAND"),jm=Z("FOCUS_COMMAND"),$m=Z("BLUR_COMMAND"),GT=Z("KEY_MODIFIER_COMMAND"),ln=Object.freeze({}),Ka=30,Va=[["keydown",function(t,e){if(Pi=t.timeStamp,Um=t.key,!e.isComposing()&&!V(e,jT,t)&&t.key!=null){if(ql&&hh(t))return mt(e,(()=>{zs(e,Gl)})),ql=!1,void(Gl="");if((function(n){return ge(n,"ArrowRight",{shiftKey:"any"})})(t))V(e,Am,t);else if((function(n){return ge(n,"ArrowRight",cn)})(t))V(e,$T,t);else if((function(n){return ge(n,"ArrowLeft",{shiftKey:"any"})})(t))V(e,Tm,t);else if((function(n){return ge(n,"ArrowLeft",cn)})(t))V(e,UT,t);else if((function(n){return ge(n,"ArrowUp",{altKey:"any",shiftKey:"any"})})(t))V(e,Dm,t);else if((function(n){return ge(n,"ArrowDown",{altKey:"any",shiftKey:"any"})})(t))V(e,Im,t);else if((function(n){return ge(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(t))Ri=!0,V(e,To,t);else if((function(n){return n.key===" "})(t))V(e,Fm,t);else if((function(n){return Ut&&ge(n,"o",{ctrlKey:!0})})(t))t.preventDefault(),Ri=!0,V(e,jr,!0);else if((function(n){return ge(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(t))Ri=!1,V(e,To,t);else if((function(n){return ge(n,"Backspace",{shiftKey:"any"})||Ut&&ge(n,"h",{ctrlKey:!0})})(t))hh(t)?V(e,Om,t):(t.preventDefault(),V(e,er,!0));else if((function(n){return n.key==="Escape"})(t))V(e,Nm,t);else if((function(n){return ge(n,"Delete",{})||Ut&&ge(n,"d",{ctrlKey:!0})})(t))(function(n){return n.key==="Delete"})(t)?V(e,Lm,t):(t.preventDefault(),V(e,er,!1));else if((function(n){return ge(n,"Backspace",dh)})(t))t.preventDefault(),V(e,Xi,!0);else if((function(n){return ge(n,"Delete",dh)})(t))t.preventDefault(),V(e,Xi,!1);else if((function(n){return Ut&&ge(n,"Backspace",{metaKey:!0})})(t))t.preventDefault(),V(e,Zi,!0);else if((function(n){return Ut&&(ge(n,"Delete",{metaKey:!0})||ge(n,"k",{ctrlKey:!0}))})(t))t.preventDefault(),V(e,Zi,!1);else if((function(n){return ge(n,"b",cn)})(t))t.preventDefault(),V(e,In,"bold");else if((function(n){return ge(n,"u",cn)})(t))t.preventDefault(),V(e,In,"underline");else if((function(n){return ge(n,"i",cn)})(t))t.preventDefault(),V(e,In,"italic");else if((function(n){return ge(n,"Tab",{shiftKey:"any"})})(t))V(e,Mm,t);else if((function(n){return ge(n,"z",cn)})(t))t.preventDefault(),V(e,sc,void 0);else if((function(n){return Ut?ge(n,"z",{metaKey:!0,shiftKey:!0}):ge(n,"y",{ctrlKey:!0})||ge(n,"z",{ctrlKey:!0,shiftKey:!0})})(t))t.preventDefault(),V(e,oc,void 0);else{const n=e._editorState._selection;n===null||j(n)?ph(t)&&(t.preventDefault(),V(e,Ha,t)):(function(r){return ge(r,"c",cn)})(t)?(t.preventDefault(),V(e,ol,t)):(function(r){return ge(r,"x",cn)})(t)?(t.preventDefault(),V(e,lc,t)):ph(t)&&(t.preventDefault(),V(e,Ha,t))}(function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey})(t)&&V(e,GT,t)}}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;di(n)&&r!=="touch"&&r!=="pen"&&t.button===0&&mt(e,(()=>{uh(n)||(Ga=!0)}))}],["compositionstart",function(t,e){mt(e,(()=>{const n=K();if(j(n)&&!e.isComposing()){const r=n.anchor,i=n.anchor.getNode();ze(r.key),(t.timeStamp<Pi+Ka||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||U(i)&&i.getStyle()!==n.style)&&V(e,$r,_T)}}))}],["compositionend",function(t,e){sr?Ei=!0:Jr||!qi&&!xo?mt(e,(()=>{zs(e,t.data)})):(ql=!0,Gl=t.data)}],["input",function(t,e){t.stopPropagation(),mt(e,(()=>{if(st(t.target)&&uh(t.target))return;const n=K(),r=t.data,i=qm(t);if(r!=null&&j(n)&&Km(n,i,r,t.timeStamp,!1)){Ei&&(zs(e,r),Ei=!1);const s=n.anchor.getNode(),o=Nt(Ct(e));if(o===null)return;const l=n.isBackward(),a=l?n.anchor.offset:n.focus.offset,u=l?n.focus.offset:n.anchor.offset;bo&&!n.isCollapsed()&&U(s)&&o.anchorNode!==null&&s.getTextContent().slice(0,a)+r+s.getTextContent().slice(a+u)===ky(o.anchorNode)||V(e,$r,r);const c=r.length;sr&&c>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=c),qi||Jr||xo||!e.isComposing()||(Pi=0,ze(null))}else kc(!1,e,r!==null?r:void 0),Ei&&(zs(e,r||void 0),Ei=!1);(function(){Ke();const s=Se();mm(s)})()}),{event:t}),Or=null}],["click",function(t,e){mt(e,(()=>{const n=K(),r=Nt(Ct(e)),i=xr();if(r){if(j(n)){const s=n.anchor,o=s.getNode();if(s.type==="element"&&s.offset===0&&n.isCollapsed()&&!$e(o)&&de().getChildrenSize()===1&&o.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(t.detail===3&&!n.isCollapsed()&&o!==n.focus.getNode()){const l=(function(a,u){let c=a;for(;c!==de()&&c!=null;){if(u(c))return c;c=c.getParent()}return null})(o,(a=>O(a)&&!a.isInline()));O(l)&&l.select(0)}}else if(t.pointerType==="touch"||t.pointerType==="pen"){const s=r.anchorNode;(st(s)||_n(s))&&Ye(uc(i,r,e,t))}}V(e,rc,t)}))}],["cut",ln],["copy",ln],["dragstart",ln],["dragover",ln],["dragend",ln],["paste",ln],["focus",ln],["blur",ln],["drop",ln]];bo&&Va.push(["beforeinput",(t,e)=>(function(n,r){const i=n.inputType,s=qm(n);i==="deleteCompositionText"||sr&&_y(r)||i!=="insertCompositionText"&&mt(r,(()=>{const o=K();if(i==="deleteContentBackward"){if(o===null){const h=xr();if(!j(h))return;Ye(h.clone())}if(j(o)){const h=o.anchor.key===o.focus.key;if(l=n.timeStamp,Um==="MediaLast"&&l<Pi+Ka&&r.isComposing()&&h){if(ze(null),Pi=0,setTimeout((()=>{mt(r,(()=>{ze(null)}))}),Ka),j(o)){const p=o.anchor.getNode();p.markDirty(),U(p)||z(142),Vm(o,p)}}else{ze(null),n.preventDefault();const p=o.anchor.getNode(),g=p.getTextContent(),m=p.canInsertTextAfter(),y=o.anchor.offset===0&&o.focus.offset===g.length;let b=vd&&h&&!y&&m;if(b&&o.isCollapsed()&&(b=!ce(Qa(o.anchor,!0))),!b){V(r,er,!0);const x=K();vd&&j(x)&&x.isCollapsed()&&(Xn=x,setTimeout((()=>Xn=null)))}}return}}var l;if(!j(o))return;const a=n.data;Or!==null&&kc(!1,r,Or),o.dirty&&Or===null||!o.isCollapsed()||$e(o.anchor.getNode())||s===null||o.applyDOMRange(s),Or=null;const u=o.anchor,c=o.focus,f=u.getNode(),d=c.getNode();if(i!=="insertText"&&i!=="insertTranspose")switch(n.preventDefault(),i){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":V(r,$r,n);break;case"insertFromComposition":ze(null),V(r,$r,n);break;case"insertLineBreak":ze(null),V(r,jr,!1);break;case"insertParagraph":ze(null),Ri&&!Jr?(Ri=!1,V(r,jr,!1)):V(r,Ao,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":V(r,ic,n);break;case"deleteByComposition":(function(h,p){return h!==p||O(h)||O(p)||!tr(h)||!tr(p)})(f,d)&&V(r,Wa,n);break;case"deleteByDrag":case"deleteByCut":V(r,Wa,n);break;case"deleteContent":V(r,er,!1);break;case"deleteWordBackward":V(r,Xi,!0);break;case"deleteWordForward":V(r,Xi,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":V(r,Zi,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":V(r,Zi,!1);break;case"formatStrikeThrough":V(r,In,"strikethrough");break;case"formatBold":V(r,In,"bold");break;case"formatItalic":V(r,In,"italic");break;case"formatUnderline":V(r,In,"underline");break;case"historyUndo":V(r,sc,void 0);break;case"historyRedo":V(r,oc,void 0)}else{if(a===`
`)n.preventDefault(),V(r,jr,!1);else if(a===mn)n.preventDefault(),V(r,Ao,void 0);else if(a==null&&n.dataTransfer){const h=n.dataTransfer.getData("text/plain");n.preventDefault(),o.insertRawText(h)}else a!=null&&Km(o,s,a,n.timeStamp,!0)?(n.preventDefault(),V(r,$r,a)):Or=a;Wm=n.timeStamp}}))})(t,e)]);let Pi=0,Um=null,Wm=0,Or=null;const Do=new WeakMap;let qa=!1,Ga=!1,Ri=!1,Ei=!1,ql=!1,Gl="",Xn=null,Hm=[0,"",0,"root",0];function Km(t,e,n,r,i){const s=t.anchor,o=t.focus,l=s.getNode(),a=Se(),u=Nt(Ct(a)),c=u!==null?u.anchorNode:null,f=s.key,d=a.getElementByKey(f),h=n.length;return f!==o.key||!U(l)||(!i&&(!bo||Wm<r+50)||l.isDirty()&&h<2||xy(n))&&s.offset!==o.offset&&!l.isComposing()||jt(l)||l.isDirty()&&h>1||(i||!bo)&&d!==null&&!l.isComposing()&&c!==Zr(d)||u!==null&&e!==null&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||(function(p,g){if(g.isSegmented())return!0;if(!p.isCollapsed())return!1;const m=p.anchor.offset,y=g.getParentOrThrow(),b=tr(g);return m===0?!g.canInsertTextBefore()||!y.canInsertTextBefore()&&!g.isComposing()||b||(function(x){const k=x.getPreviousSibling();return(U(k)||O(k)&&k.isInline())&&!k.canInsertTextAfter()})(g):m===g.getTextContentSize()&&(!g.canInsertTextAfter()||!y.canInsertTextAfter()&&!g.isComposing()||b)})(t,l)}function Bd(t,e){return _n(t)&&t.nodeValue!==null&&e!==0&&e!==t.nodeValue.length}function zd(t,e,n){const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t;qa&&(qa=!1,Bd(r,i)&&Bd(s,o)&&!Xn)||mt(e,(()=>{if(!n)return void Ye(null);if(!ws(e,r,s))return;let l=K();if(Xn&&j(l)&&l.isCollapsed()){const a=l.anchor,u=Xn.anchor;(a.key===u.key&&a.offset===u.offset+1||a.offset===1&&u.getNode().is(a.getNode().getPreviousSibling()))&&(l=Xn.clone(),Ye(l))}if(Xn=null,j(l)){const a=l.anchor,u=a.getNode();if(l.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(l.dirty=!0);const c=Ct(e).event,f=c?c.timeStamp:performance.now(),[d,h,p,g,m]=Hm,y=de(),b=e.isComposing()===!1&&y.getTextContent()==="";if(f<m+200&&a.offset===p&&a.key===g)eo(l,d,h);else if(a.type==="text")U(u)||z(141),Vm(l,u);else if(a.type==="element"&&!b){O(u)||z(259);const x=a.getNode();x.isEmpty()?(function(k,S){const w=S.getTextFormat(),A=S.getTextStyle();eo(k,w,A)})(l,x):eo(l,0,"")}}else{const c=a.key,f=l.focus.key,d=l.getNodes(),h=d.length,p=l.isBackward(),g=p?o:i,m=p?i:o,y=p?f:c,b=p?c:f;let x=kT,k=!1;for(let S=0;S<h;S++){const w=d[S],A=w.getTextContentSize();if(U(w)&&A!==0&&!(S===0&&w.__key===y&&g===A||S===h-1&&w.__key===b&&m===0)&&(k=!0,x&=w.getFormat(),x===0))break}l.format=k?x:0}}V(e,Cm,void 0)}))}function eo(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0)}function Vm(t,e){eo(t,e.getFormat(),e.getStyle())}function qm(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function zs(t,e){const n=t._compositionKey;if(ze(null),n!==null&&e!=null){if(e===""){const r=me(n),i=Zr(t.getElementByKey(n));return void(i!==null&&i.nodeValue!==null&&U(r)&&_c(r,i.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=K();if(j(r)){const i=r.focus;return r.anchor.set(i.key,i.offset,i.type),void V(t,To,null)}}}kc(!0,t,e)}function Gm(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const Ur=new Map;function Ym(t){const e=_2(t.target);if(e===null)return;const n=py(e.anchorNode);if(n===null)return;Ga&&(Ga=!1,mt(n,(()=>{const a=xr(),u=e.anchorNode;(st(u)||_n(u))&&Ye(uc(a,e,n,t))})));const r=wc(n),i=r[r.length-1],s=i._key,o=Ur.get(s),l=o||i;l!==n&&zd(e,l,!1),zd(e,n,!0),n!==i?Ur.set(s,n):o&&Ur.delete(s)}function jd(t){t._lexicalHandled=!0}function $d(t){return t._lexicalHandled===!0}function YT(t){const e=t.ownerDocument,n=Do.get(e);if(n===void 0)return;const r=n-1;r>=0||z(164),Do.set(e,r),r===0&&e.removeEventListener("selectionchange",Ym);const i=fl(t);xc(i)?((function(o){if(o._parentEditor!==null){const l=wc(o),a=l[l.length-1]._key;Ur.get(a)===o&&Ur.delete(a)}else Ur.delete(o._key)})(i),t.__lexicalEditor=null):i&&z(198);const s=Gm(t);for(let o=0;o<s.length;o++)s[o]();t.__lexicalEventHandles=[]}function Ya(t,e,n){Ke();const r=t.__key,i=t.getParent();if(i===null)return;const s=(function(l){const a=K();if(!j(a)||!O(l))return a;const{anchor:u,focus:c}=a,f=u.getNode(),d=c.getNode();return eu(f,l)&&u.set(l.__key,0,"element"),eu(d,l)&&c.set(l.__key,0,"element"),a})(t);let o=!1;if(j(s)&&e){const l=s.anchor,a=s.focus;l.key===r&&(Fo(l,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0),a.key===r&&(Fo(a,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0)}else Be(s)&&e&&t.isSelected()&&t.selectPrevious();if(j(s)&&e&&!o){const l=t.getIndexWithinParent();pn(t),Io(s,i,l,-1)}else pn(t);n||Sn(i)||i.canBeEmpty()||!i.isEmpty()||Ya(i,e),e&&s&&$e(i)&&i.isEmpty()&&i.selectEnd()}class ci{static getType(){const{ownNodeType:e}=Ac(this);return e===void 0&&z(64,this.name),e}static clone(e){z(65,this.name)}$config(){return{}}config(e,n){const r=n.extends||Object.getPrototypeOf(this.constructor);return Object.assign(n,{extends:r,type:e}),{[e]:n}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),gy(this,e)}getType(){return this.__type}isInline(){z(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const n=me(e);if(n===null)break;e=n.__parent}return!1}isSelected(e){const n=e||K();if(n==null)return!1;const r=n.getNodes().some((i=>i.__key===this.__key));if(U(this))return r;if(j(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const i=this.getParent();if(ce(this)&&this.isInline()&&i){const s=n.isBackward()?n.focus:n.anchor;if(i.is(s.getNode())&&s.offset===i.getChildrenSize()&&this.is(i.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let n=e.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:me(e)}getParentOrThrow(){const e=this.getParent();return e===null&&z(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const n=e.getParent();if(Sn(n))return O(e)||e===this&&ce(e)||z(194),e;e=n}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&z(67,this.__key),e}getParents(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:me(e)}getPreviousSiblings(){const e=[],n=this.getParent();if(n===null)return e;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:me(e)}getNextSiblings(){const e=[];let n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){const n=O(this)?this:this.getParent(),r=O(e)?e:e.getParent(),i=n&&r?no(n,r):null;return i?i.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const n=no(this,e);return n!==null&&(n.type==="descendant"||(n.type==="branch"?Ty(n)===-1:(n.type!=="same"&&n.type!=="ancestor"&&z(279),!1)))}isParentOf(e){const n=no(this,e);return n!==null&&n.type==="ancestor"}getNodesBetween(e){const n=this.isBefore(e),r=[],i=new Set;let s=this;for(;s!==null;){const o=s.__key;if(i.has(o)||(i.add(o),r.push(s)),s===e)break;const l=O(s)?n?s.getFirstChild():s.getLastChild():null;if(l!==null){s=l;continue}const a=n?s.getNextSibling():s.getPreviousSibling();if(a!==null){s=a;continue}const u=s.getParentOrThrow();if(i.has(u.__key)||r.push(u),u===e)break;let c=null,f=u;do{if(f===null&&z(68),c=n?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),f===null)break;c!==null||i.has(f.__key)||r.push(f)}while(c===null);s=c}return n||r.reverse(),r}isDirty(){const e=Se()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=me(this.__key);return e===null&&z(113),e}getWritable(){Ke();const e=Kn(),n=Se(),r=e._nodeMap,i=this.__key,s=this.getLatest(),o=n._cloneNotNeeded,l=K();if(l!==null&&l.setCachedNodes(null),o.has(i))return No(s),s;const a=Cc(s);return o.add(i),No(a),r.set(i,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,n){z(70)}updateDOM(e,n,r){z(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){z(18,this.name)}updateFromJSON(e){return(function(n,r){const i=n.getWritable(),s=r.$;let o=s;for(const l of xm(i).flatKeys)l in r&&(o!==void 0&&o!==s||(o={...s}),o[l]=r[l]);return(i.__state||o)&&nc(n).updateFromJSON(o),i})(this,e)}static transform(){return null}remove(e){Ya(this,!0,e)}replace(e,n){Ke();let r=K();r!==null&&(r=r.clone()),ea(this,e);const i=this.getLatest(),s=this.__key,o=e.__key,l=e.getWritable(),a=this.getParentOrThrow().getWritable(),u=a.__size;pn(l);const c=i.getPreviousSibling(),f=i.getNextSibling(),d=i.__prev,h=i.__next,p=i.__parent;if(Ya(i,!1,!0),c===null?a.__first=o:c.getWritable().__next=o,l.__prev=d,f===null?a.__last=o:f.getWritable().__prev=o,l.__next=h,l.__parent=p,a.__size=u,n&&(O(this)&&O(l)||z(139),this.getChildren().forEach((g=>{l.append(g)}))),j(r)){Ye(r);const g=r.anchor,m=r.focus;g.key===s&&Kd(g,l),m.key===s&&Kd(m,l)}return On()===s&&ze(o),l}insertAfter(e,n=!0){Ke(),ea(this,e);const r=this.getWritable(),i=e.getWritable(),s=i.getParent(),o=K();let l=!1,a=!1;if(s!==null){const h=e.getIndexWithinParent();if(pn(i),j(o)){const p=s.__key,g=o.anchor,m=o.focus;l=g.type==="element"&&g.key===p&&g.offset===h+1,a=m.type==="element"&&m.key===p&&m.offset===h+1}}const u=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),f=i.__key,d=r.__next;if(u===null?c.__last=f:u.getWritable().__prev=f,c.__size++,r.__next=f,i.__next=d,i.__prev=r.__key,i.__parent=r.__parent,n&&j(o)){const h=this.getIndexWithinParent();Io(o,c,h+1);const p=c.__key;l&&o.anchor.set(p,h+2,"element"),a&&o.focus.set(p,h+2,"element")}return e}insertBefore(e,n=!0){Ke(),ea(this,e);const r=this.getWritable(),i=e.getWritable(),s=i.__key;pn(i);const o=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,u=this.getIndexWithinParent();o===null?l.__first=s:o.getWritable().__next=s,l.__size++,r.__prev=s,i.__prev=a,i.__next=r.__key,i.__parent=r.__parent;const c=K();return n&&j(c)&&Io(c,this.getParentOrThrow(),u),e}isParentRequired(){return!1}createParentElementNode(){return ct()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,n){Ke();const r=this.getPreviousSibling(),i=this.getParentOrThrow();if(r===null)return i.select(0,0);if(O(r))return r.select();if(!U(r)){const s=r.getIndexWithinParent()+1;return i.select(s,s)}return r.select(e,n)}selectNext(e,n){Ke();const r=this.getNextSibling(),i=this.getParentOrThrow();if(r===null)return i.select();if(O(r))return r.select(0,0);if(!U(r)){const s=r.getIndexWithinParent();return i.select(s,s)}return r.select(e,n)}markDirty(){this.getWritable()}reconcileObservedMutation(e,n){this.markDirty()}}class ps extends ci{static getType(){return"linebreak"}static clone(e){return new ps(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(n){const r=n.parentElement;if(r!==null&&Lo(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&js(i)){const s=r.lastChild;if(s===n||s.previousSibling===n&&js(s))return!0}}return!1})(e)||(function(n){const r=n.parentElement;if(r!==null&&Lo(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&js(i))return!1;const s=r.lastChild;if(s===n||s.previousSibling===n&&js(s))return!0}return!1})(e)?null:{conversion:JT,priority:0}}}static importJSON(e){return ur().updateFromJSON(e)}}function JT(t){return{node:ur()}}function ur(){return pl(new ps)}function Ln(t){return t instanceof ps}function js(t){return _n(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function Yl(t,e){return 16&e?"code":e&Gu?"mark":32&e?"sub":64&e?"sup":null}function Jl(t,e){return 1&e?"strong":2&e?"em":"span"}function Jm(t,e,n,r,i){const s=r.classList;let o=Wr(i,"base");o!==void 0&&s.add(...o),o=Wr(i,"underlineStrikethrough");let l=!1;const a=e&_o&&e&ko;o!==void 0&&(n&_o&&n&ko?(l=!0,a||s.add(...o)):a&&s.remove(...o));for(const u in lr){const c=lr[u];if(o=Wr(i,u),o!==void 0)if(n&c){if(l&&(u==="underline"||u==="strikethrough")){e&c&&s.remove(...o);continue}e&c&&(!a||u!=="underline")&&u!=="strikethrough"||s.add(...o)}else e&c&&s.remove(...o)}}function Xm(t,e,n){const r=e.firstChild,i=n.isComposing(),s=t+(i?il:"");if(r==null)e.textContent=s;else{const o=r.nodeValue;if(o!==s)if(i||sr){const[l,a,u]=(function(c,f){const d=c.length,h=f.length;let p=0,g=0;for(;p<d&&p<h&&c[p]===f[p];)p++;for(;g+p<d&&g+p<h&&c[d-g-1]===f[h-g-1];)g++;return[p,d-p-g,f.slice(p,h-g)]})(o,s);a!==0&&r.deleteData(l,a),r.insertData(l,u)}else r.nodeValue=s}}function Ud(t,e,n,r,i,s){Xm(i,t,e);const o=s.theme.text;o!==void 0&&Jm(0,0,r,t,o)}function $s(t,e){const n=document.createElement(e);return n.appendChild(t),n}class yr extends ci{static getType(){return"text"}static clone(e){return new yr(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",n){super(n),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return TT[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===On()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const n=lr[e];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){return Oo(this.getLatest().__format,e,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,n){const r=this.__format,i=Yl(0,r),s=Jl(0,r),o=i===null?s:i,l=document.createElement(o);let a=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),i!==null&&(a=document.createElement(s),l.appendChild(a)),Ud(a,this,0,r,this.__text,e);const u=this.__style;return u!==""&&(l.style.cssText=u),l}updateDOM(e,n,r){const i=this.__text,s=e.__format,o=this.__format,l=Yl(0,s),a=Yl(0,o),u=Jl(0,s),c=Jl(0,o);if((l===null?u:l)!==(a===null?c:a))return!0;if(l===a&&u!==c){const g=n.firstChild;g==null&&z(48);const m=document.createElement(c);return Ud(m,this,0,o,i,r),n.replaceChild(m,g),!1}let f=n;a!==null&&l!==null&&(f=n.firstChild,f==null&&z(49)),Xm(i,f,this);const d=r.theme.text;d!==void 0&&s!==o&&Jm(0,s,o,f,d);const h=e.__style,p=this.__style;return h!==p&&(n.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:e2,priority:0}),b:()=>({conversion:ZT,priority:0}),code:()=>({conversion:an,priority:0}),em:()=>({conversion:an,priority:0}),i:()=>({conversion:an,priority:0}),mark:()=>({conversion:an,priority:0}),s:()=>({conversion:an,priority:0}),span:()=>({conversion:XT,priority:0}),strong:()=>({conversion:an,priority:0}),sub:()=>({conversion:an,priority:0}),sup:()=>({conversion:an,priority:0}),u:()=>({conversion:an,priority:0})}}static importJSON(e){return Re().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:n}=super.exportDOM(e);return st(n)||z(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=$s(n,"b")),this.hasFormat("italic")&&(n=$s(n,"i")),this.hasFormat("strikethrough")&&(n=$s(n,"s")),this.hasFormat("underline")&&(n=$s(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,n){}setFormat(e){const n=this.getWritable();return n.__format=typeof e=="string"?lr[e]:e,n}setDetail(e){const n=this.getWritable();return n.__detail=typeof e=="string"?vT[e]:e,n}setStyle(e){const n=this.getWritable();return n.__style=e,n}toggleFormat(e){const n=Oo(this.getFormat(),e,null);return this.setFormat(n)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const n=AT[e];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}select(e,n){Ke();let r=e,i=n;const s=K(),o=this.getTextContent(),l=this.__key;if(typeof o=="string"){const a=o.length;r===void 0&&(r=a),i===void 0&&(i=a)}else r=0,i=0;if(!j(s))return ty(l,r,l,i,"text","text");{const a=On();a!==s.anchor.key&&a!==s.focus.key||ze(l),s.setTextNodeRange(this,r,this,i)}return s}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,n,r,i){const s=this.getWritable(),o=s.__text,l=r.length;let a=e;a<0&&(a=l+a,a<0&&(a=0));const u=K();if(i&&j(u)){const f=e+l;u.setTextNodeRange(s,f,s,f)}const c=o.slice(0,a)+r+o.slice(a+n);return s.__text=c,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Ke();const n=this.getLatest(),r=n.getTextContent();if(r==="")return[];const i=n.__key,s=On(),o=r.length;e.sort(((C,T)=>C-T)),e.push(o);const l=[],a=e.length;for(let C=0,T=0;C<o&&T<=a;T++){const _=e[T];_>C&&(l.push(r.slice(C,_)),C=_)}const u=l.length;if(u===1)return[n];const c=l[0],f=n.getParent();let d;const h=n.getFormat(),p=n.getStyle(),g=n.__detail;let m=!1,y=null,b=null;const x=K();if(j(x)){const[C,T]=x.isBackward()?[x.focus,x.anchor]:[x.anchor,x.focus];C.type==="text"&&C.key===i&&(y=C),T.type==="text"&&T.key===i&&(b=T)}n.isSegmented()?(d=Re(c),d.__format=h,d.__style=p,d.__detail=g,d.__state=Fd(n,d),m=!0):d=n.setTextContent(c);const k=[d];for(let C=1;C<u;C++){const T=Re(l[C]);T.__format=h,T.__style=p,T.__detail=g,T.__state=Fd(n,T);const _=T.__key;s===i&&ze(_),k.push(T)}const S=y?y.offset:null,w=b?b.offset:null;let A=0;for(const C of k){if(!y&&!b)break;const T=A+C.getTextContentSize();if(y!==null&&S!==null&&S<=T&&S>=A&&(y.set(C.getKey(),S-A,"text"),S<T&&(y=null)),b!==null&&w!==null&&w<=T&&w>=A){b.set(C.getKey(),w-A,"text");break}A=T}if(f!==null){(function(_){const F=_.getPreviousSibling(),L=_.getNextSibling();F!==null&&No(F),L!==null&&No(L)})(this);const C=f.getWritable(),T=this.getIndexWithinParent();m?(C.splice(T,0,k),this.remove()):C.splice(T,1,k),j(x)&&Io(x,f,T,u-1)}return k}mergeWithSibling(e){const n=e===this.getPreviousSibling();n||e===this.getNextSibling()||z(50);const r=this.__key,i=e.__key,s=this.__text,o=s.length;On()===i&&ze(r);const l=K();if(j(l)){const f=l.anchor,d=l.focus;f!==null&&f.key===i&&Zd(f,n,r,e,o),d!==null&&d.key===i&&Zd(d,n,r,e,o)}const a=e.__text,u=n?a+s:s+a;this.setTextContent(u);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}}function XT(t){return{forChild:ac(t.style),node:null}}function ZT(t){const e=t,n=e.style.fontWeight==="normal";return{forChild:ac(e.style,n?void 0:"bold"),node:null}}const Wd=new WeakMap;function QT(t){if(!st(t))return!1;if(t.nodeName==="PRE")return!0;const e=t.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function e2(t){const e=t;t.parentElement===null&&z(129);let n=e.textContent||"";if((function(r){let i,s=r.parentNode;const o=[r];for(;s!==null&&(i=Wd.get(s))===void 0&&!QT(s);)o.push(s),s=s.parentNode;const l=i===void 0?s:i;for(let a=0;a<o.length;a++)Wd.set(o[a],l);return l})(e)!==null){const r=n.split(/(\r?\n|\t)/),i=[],s=r.length;for(let o=0;o<s;o++){const l=r[o];l===`
`||l===`\r
`?i.push(ur()):l==="	"?i.push(ms()):l!==""&&i.push(Re(l))}return{node:i}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=e,i=!0;for(;r!==null&&(r=Hd(r,!1))!==null;){const s=r.textContent||"";if(s.length>0){/[ \t\n]$/.test(s)&&(n=n.slice(1)),i=!1;break}}i&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=e,i=!0;for(;r!==null&&(r=Hd(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:Re(n)}}function Hd(t,e){let n=t;for(;;){let r;for(;(r=e?n.nextSibling:n.previousSibling)===null;){const s=n.parentElement;if(s===null)return null;n=s}if(n=r,st(n)){const s=n.style.display;if(s===""&&!ru(n)||s!==""&&!s.startsWith("inline"))return null}let i=n;for(;(i=e?n.firstChild:n.lastChild)!==null;)n=i;if(_n(n))return n;if(n.nodeName==="BR")return null}}const t2={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function an(t){const e=t2[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:ac(t.style,e),node:null}}function Re(t=""){return pl(new yr(t))}function U(t){return t instanceof yr}function ac(t,e){const n=t.fontWeight,r=t.textDecoration.split(" "),i=n==="700"||n==="bold",s=r.includes("line-through"),o=t.fontStyle==="italic",l=r.includes("underline"),a=t.verticalAlign;return u=>(U(u)&&(i&&!u.hasFormat("bold")&&u.toggleFormat("bold"),s&&!u.hasFormat("strikethrough")&&u.toggleFormat("strikethrough"),o&&!u.hasFormat("italic")&&u.toggleFormat("italic"),l&&!u.hasFormat("underline")&&u.toggleFormat("underline"),a!=="sub"||u.hasFormat("subscript")||u.toggleFormat("subscript"),a!=="super"||u.hasFormat("superscript")||u.toggleFormat("superscript"),e&&!u.hasFormat(e)&&u.toggleFormat(e)),u)}class gs extends yr{static getType(){return"tab"}static clone(e){return new gs(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const n=super.createDOM(e),r=Wr(e.theme,"tab");return r!==void 0&&n.classList.add(...r),n}static importJSON(e){return ms().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&z(126),super.setTextContent("	")}spliceText(e,n,r,i){return r===""&&n===0||r==="	"&&n===1||z(286),this}setDetail(e){return e!==2&&z(127),this}setMode(e){return e!=="normal"&&z(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ms(){return pl(new gs)}function Zm(t){return t instanceof gs}class n2{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Ay(Dt(Jt(this,"next")),Dt(Jt(e,"next")))<0}getNode(){const e=me(this.key);return e===null&&z(20),e}set(e,n,r,i){const s=this._selection,o=this.key;i&&this.key===e&&this.offset===n&&this.type===r||(this.key=e,this.offset=n,this.type=r,ys()||(On()===o&&ze(e),s!==null&&(s.setCachedNodes(null),s.dirty=!0)))}}function Gt(t,e,n){return new n2(t,e,n)}function Xl(t,e){let n=e.__key,r=t.offset,i="element";if(U(e)){i="text";const s=e.getTextContentSize();r>s&&(r=s)}else if(!O(e)){const s=e.getNextSibling();if(U(s))n=s.__key,r=0,i="text";else{const o=e.getParent();o&&(n=o.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,i)}function Kd(t,e){if(O(e)){const n=e.getLastDescendant();O(n)||U(n)?Xl(t,n):Xl(t,e)}else Xl(t,e)}class ll{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Be(e))return!1;const n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every((i=>r.has(i)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new ll(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const n=this.getNodes(),r=n.length,i=n[r-1];let s;if(U(i))s=i.select();else{const o=i.getIndexWithinParent()+1;s=i.getParentOrThrow().select(o,o)}s.insertNodes(e);for(let o=0;o<r;o++)n[o].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this._nodes,r=[];for(const i of n){const s=me(i);s!==null&&r.push(s)}return ys()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}deleteNodes(){const e=this.getNodes();if((K()||xr())===this&&e[0]){const n=Ie(e[0],"next");Dy(Rn(n,n))}for(const n of e)n.remove()}}function j(t){return t instanceof br}class br{constructor(e,n,r,i){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!j(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=(function(r){const i=[],[s,o]=r.getTextSlices();s&&i.push(s.caret.origin);const l=new Set,a=new Set;for(const u of r)if(vt(u)){const{origin:c}=u;i.length===0?l.add(c):(a.add(c),i.push(c))}else{const{origin:c}=u;O(c)&&a.has(c)||i.push(c)}if(o&&i.push(o.caret.origin),ti(r.focus)&&O(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let u=Yt(r.focus.origin,"previous");vt(u)&&l.has(u.origin)&&!u.origin.isEmpty()&&u.origin.is(i[i.length-1]);u=gl(u))l.delete(u.origin),i.pop();for(;i.length>1;){const u=i[i.length-1];if(!O(u)||a.has(u)||u.isEmpty()||l.has(u))break;i.pop()}if(i.length===0&&r.isCollapsed()){const u=Dt(r.anchor),c=Dt(r.anchor.getFlipped()),f=h=>Ht(h)?h.origin:h.getNodeAtCaret(),d=f(u)||f(c)||(r.anchor.getNodeAtCaret()?u.origin:c.origin);i.push(d)}return i})(Fy(iu(this),"next"));return ys()||(this._cachedNodes=n),n}setTextNodeRange(e,n,r,i){this.anchor.set(e.__key,n,"text"),this.focus.set(r.__key,i,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const n=e[0],r=e[e.length-1],i=this.anchor,s=this.focus,o=i.isBefore(s),[l,a]=Ja(this);let u="",c=!0;for(let f=0;f<e.length;f++){const d=e[f];if(O(d)&&!d.isInline())c||(u+=`
`),c=!d.isEmpty();else if(c=!1,U(d)){let h=d.getTextContent();d===n?d===r?i.type==="element"&&s.type==="element"&&s.offset!==i.offset||(h=l<a?h.slice(l,a):h.slice(a,l)):h=o?h.slice(l):h.slice(a):d===r&&(h=o?h.slice(0,a):h.slice(0,l)),u+=h}else!ce(d)&&!Ln(d)||d===r&&this.isCollapsed()||(u+=d.getTextContent())}return u}applyDOMRange(e){const n=Se(),r=n.getEditorState()._selection,i=ey(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r);if(i===null)return;const[s,o]=i;this.anchor.set(s.key,s.offset,s.type,!0),this.focus.set(o.key,o.offset,o.type,!0),So(this)}clone(){const e=this.anchor,n=this.focus;return new br(Gt(e.key,e.offset,e.type),Gt(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=Oo(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const n=lr[e];return!!(this.format&n)}insertRawText(e){const n=e.split(/(\r?\n|\t)/),r=[],i=n.length;for(let s=0;s<i;s++){const o=n[s];o===`
`||o===`\r
`?r.push(ur()):o==="	"?r.push(ms()):r.push(Re(o))}this.insertNodes(r)}insertText(e){const n=this.anchor,r=this.focus,i=this.format,s=this.style;let o=n,l=r;!this.isCollapsed()&&r.isBefore(n)&&(o=r,l=n),o.type==="element"&&(function(m,y,b,x){const k=m.getNode(),S=k.getChildAtIndex(m.offset),w=Re(),A=$e(k)?ct().append(w):w;w.setFormat(b),w.setStyle(x),S===null?k.append(A):S.insertBefore(A),m.is(y)&&y.set(w.__key,0,"text"),m.set(w.__key,0,"text")})(o,l,i,s),l.type==="element"&&es(l,Dt(Jt(l,"next")));const a=o.offset;let u=l.offset;const c=this.getNodes(),f=c.length;let d=c[0];U(d)||z(26);const h=d.getTextContent().length,p=d.getParentOrThrow();let g=c[f-1];if(f===1&&l.type==="element"&&(u=h,l.set(o.key,u,"text")),this.isCollapsed()&&a===h&&(jt(d)||!d.canInsertTextAfter()||!p.canInsertTextAfter()&&d.getNextSibling()===null)){let m=d.getNextSibling();if(U(m)&&m.canInsertTextBefore()&&!jt(m)||(m=Re(),m.setFormat(i),m.setStyle(s),p.canInsertTextAfter()?d.insertAfter(m):p.insertAfter(m)),m.select(0,0),d=m,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&a===0&&(jt(d)||!d.canInsertTextBefore()||!p.canInsertTextBefore()&&d.getPreviousSibling()===null)){let m=d.getPreviousSibling();if(U(m)&&!jt(m)||(m=Re(),m.setFormat(i),p.canInsertTextBefore()?d.insertBefore(m):p.insertBefore(m)),m.select(),d=m,e!=="")return void this.insertText(e)}else if(d.isSegmented()&&a!==h){const m=Re(d.getTextContent());m.setFormat(i),d.replace(m),d=m}else if(!this.isCollapsed()&&e!==""){const m=g.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||O(m)&&(!m.canInsertTextBefore()||!m.canInsertTextAfter()))return this.insertText(""),Qm(this.anchor,this.focus,null),void this.insertText(e)}if(f===1){if(tr(d)){const x=Re(e);return x.select(),void d.replace(x)}const m=d.getFormat(),y=d.getStyle();if(a!==u||m===i&&y===s){if(Zm(d)){const x=Re(e);return x.setFormat(i),x.setStyle(s),x.select(),void d.replace(x)}}else{if(d.getTextContent()!==""){const x=Re(e);if(x.setFormat(i),x.setStyle(s),x.select(),a===0)d.insertBefore(x,!1);else{const[k]=d.splitText(a);k.insertAfter(x,!1)}return void(x.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}d.setFormat(i),d.setStyle(s)}const b=u-a;d=d.spliceText(a,b,e,!0),d.getTextContent()===""?d.remove():this.anchor.type==="text"&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=m,this.style=y))}else{const m=new Set([...d.getParentKeys(),...g.getParentKeys()]),y=O(d)?d:d.getParentOrThrow();let b=O(g)?g:g.getParentOrThrow(),x=g;if(!y.is(b)&&b.isInline())do x=b,b=b.getParentOrThrow();while(b.isInline());if(l.type==="text"&&(u!==0||g.getTextContent()==="")||l.type==="element"&&g.getIndexWithinParent()<u)if(U(g)&&!tr(g)&&u!==g.getTextContentSize()){if(g.isSegmented()){const C=Re(g.getTextContent());g.replace(C),g=C}$e(l.getNode())||l.type!=="text"||(g=g.spliceText(0,u,"")),m.add(g.__key)}else{const C=g.getParentOrThrow();C.canBeEmpty()||C.getChildrenSize()!==1?g.remove():C.remove()}else m.add(g.__key);const k=b.getChildren(),S=new Set(c),w=y.is(b),A=y.isInline()&&d.getNextSibling()===null?y:d;for(let C=k.length-1;C>=0;C--){const T=k[C];if(T.is(d)||O(T)&&T.isParentOf(d))break;T.isAttached()&&(!S.has(T)||T.is(x)?w||A.insertAfter(T,!1):T.remove())}if(!w){let C=b,T=null;for(;C!==null;){const _=C.getChildren(),F=_.length;(F===0||_[F-1].is(T))&&(m.delete(C.__key),T=C),C=C.getParent()}}if(tr(d))if(a===h)d.select();else{const C=Re(e);C.select(),d.replace(C)}else d=d.spliceText(a,h-a,e,!0),d.getTextContent()===""?d.remove():d.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let C=1;C<f;C++){const T=c[C],_=T.__key;m.has(_)||T.remove()}}}removeText(){const e=K()===this;ro(this,N2(iu(this))),e&&K()!==this&&Ye(this)}formatText(e,n=null){if(this.isCollapsed())return this.toggleFormat(e),void ze(null);const r=this.getNodes(),i=[];for(const k of r)U(k)&&i.push(k);const s=k=>{r.forEach((S=>{if(O(S)){const w=S.getFormatFlags(e,k);S.setTextFormat(w)}}))},o=i.length;if(o===0)return this.toggleFormat(e),ze(null),void s(n);const l=this.anchor,a=this.focus,u=this.isBackward(),c=u?a:l,f=u?l:a;let d=0,h=i[0],p=c.type==="element"?0:c.offset;if(c.type==="text"&&p===h.getTextContentSize()&&(d=1,h=i[1],p=0),h==null)return;const g=h.getFormatFlags(e,n);s(g);const m=o-1;let y=i[m];const b=f.type==="text"?f.offset:y.getTextContentSize();if(h.is(y)){if(p===b)return;if(jt(h)||p===0&&b===h.getTextContentSize())h.setFormat(g);else{const k=h.splitText(p,b),S=p===0?k[0]:k[1];S.setFormat(g),c.type==="text"&&c.set(S.__key,0,"text"),f.type==="text"&&f.set(S.__key,b-p,"text")}return void(this.format=g)}p===0||jt(h)||([,h]=h.splitText(p),p=0),h.setFormat(g);const x=y.getFormatFlags(e,g);b>0&&(b===y.getTextContentSize()||jt(y)||([y]=y.splitText(b)),y.setFormat(x));for(let k=d+1;k<m;k++){const S=i[k],w=S.getFormatFlags(e,x);S.setFormat(w)}c.type==="text"&&c.set(h.__key,p,"text"),f.type==="text"&&f.set(y.__key,b,"text"),this.format=g|x}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const p=K();return j(p)||z(134),p.insertNodes(e)}const n=(this.isBackward()?this.focus:this.anchor).getNode(),r=na(n,An),i=e[e.length-1];if(O(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const p=Zl(this);r.splice(p,0,e),i.selectEnd()}return}if(!e.some((p=>(O(p)||ce(p))&&!p.isInline()))){O(r)||z(211,n.constructor.name,n.getType());const p=Zl(this);return r.splice(p,0,e),void i.selectEnd()}const s=(function(p){const g=ct();let m=null;for(let y=0;y<p.length;y++){const b=p[y],x=Ln(b);if(x||ce(b)&&b.isInline()||O(b)&&b.isInline()||U(b)||b.isParentRequired()){if(m===null&&(m=b.createParentElementNode(),g.append(m),x))continue;m!==null&&m.append(b)}else g.append(b),m=null}return g})(e),o=s.getLastDescendant(),l=s.getChildren(),a=!O(r)||!r.isEmpty()?this.insertParagraph():null,u=l[l.length-1];let c=l[0];var f;O(f=c)&&An(f)&&!f.isEmpty()&&O(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(O(r)||z(211,n.constructor.name,n.getType()),r.append(...c.getChildren()),c=l[1]),c&&(r===null&&z(212,n.constructor.name,n.getType()),(function(p,g,m){const y=g.getParentOrThrow().getLastChild();let b=g;const x=[g];for(;b!==y;)b.getNextSibling()||z(140),b=b.getNextSibling(),x.push(b);let k=p;for(const S of x)k=k.insertAfter(S)})(r,c));const d=na(o,An);a&&O(d)&&(a.canMergeWhenEmpty()||An(u))&&(d.append(...a.getChildren()),a.remove()),O(r)&&r.isEmpty()&&r.remove(),o.selectEnd();const h=O(r)?r.getLastChild():null;Ln(h)&&d!==r&&h.remove()}insertParagraph(){if(this.anchor.key==="root"){const o=ct();return de().splice(this.anchor.offset,0,[o]),o.select(),o}const e=Zl(this),n=na(this.anchor.getNode(),An);O(n)||z(213);const r=n.getChildAtIndex(e),i=r?[r,...r.getNextSiblings()]:[],s=n.insertNewAfter(this,!1);return s?(s.append(...i),s.selectStart(),s):null}insertLineBreak(e){const n=ur();if(this.insertNodes([n]),e){const r=n.getParentOrThrow(),i=n.getIndexWithinParent();r.select(i,i)}}extract(){const e=this.getNodes(),n=e.length,r=n-1,i=this.anchor,s=this.focus;let o=e[0],l=e[r];const[a,u]=Ja(this);if(n===0)return[];if(n===1){if(U(o)&&!this.isCollapsed()){const f=a>u?u:a,d=a>u?a:u,h=o.splitText(f,d),p=f===0?h[0]:h[1];return p!=null?[p]:[]}return[o]}const c=i.isBefore(s);if(U(o)){const f=c?a:u;f===o.getTextContentSize()?e.shift():f!==0&&([,o]=o.splitText(f),e[0]=o)}if(U(l)){const f=l.getTextContent().length,d=c?u:a;d===0?e.pop():d!==f&&([l]=l.splitText(d),e[r]=l)}return e}modify(e,n,r){if(Qd(this,e,n,r))return;const i=e==="move",s=Se(),o=Nt(Ct(s));if(!o)return;const l=s._blockCursorElement,a=s._rootElement,u=this.focus.getNode();if(a===null||l===null||!O(u)||u.isInline()||u.canBeEmpty()||tu(l,s,a),this.dirty){let c=ei(s,this.anchor.key),f=ei(s,this.focus.key);this.anchor.type==="text"&&(c=Zr(c)),this.focus.type==="text"&&(f=Zr(f)),c&&f&&ry(o,c,this.anchor.offset,f,this.focus.offset)}if((function(c,f,d,h){c.modify(f,d,h)})(o,e,n?"backward":"forward",r),o.rangeCount>0){const c=o.getRangeAt(0),f=this.anchor.getNode(),d=$e(f)?f:w2(f);if(this.applyDOMRange(c),this.dirty=!0,!i){const h=this.getNodes(),p=[];let g=!1;for(let m=0;m<h.length;m++){const y=h[m];eu(y,d)?p.push(y):g=!0}if(g&&p.length>0)if(n){const m=p[0];O(m)?m.selectStart():m.getParentOrThrow().selectStart()}else{const m=p[p.length-1];O(m)?m.selectEnd():m.getParentOrThrow().selectEnd()}o.anchorNode===c.startContainer&&o.anchorOffset===c.startOffset||(function(m){const y=m.focus,b=m.anchor,x=b.key,k=b.offset,S=b.type;b.set(y.key,y.offset,y.type,!0),y.set(x,k,S,!0)})(this)}}r==="lineboundary"&&Qd(this,e,n,r,"decorators")}forwardDeletion(e,n,r){if(!r&&(e.type==="element"&&O(n)&&e.offset===n.getChildrenSize()||e.type==="text"&&e.offset===n.getTextContentSize())){const i=n.getParent(),s=n.getNextSibling()||(i===null?null:i.getNextSibling());if(O(s)&&s.isShadowRoot())return!0}return!1}deleteCharacter(e){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let i=r.getNode();if(this.forwardDeletion(r,i,e))return;const s=Fc(Jt(r,e?"previous":"next"));if(s.getTextSlices().every((l=>l===null||l.distance===0))){let l={type:"initial"};for(const a of s.iterNodeCarets("shadowRoot"))if(vt(a)){if(!a.origin.isInline()){if(a.origin.isShadowRoot()){if(l.type==="merge-block")break;if(O(s.anchor.origin)&&s.anchor.origin.isEmpty()){const u=Dt(a);ro(this,Rn(u,u)),s.anchor.origin.remove()}return}l.type!=="merge-next-block"&&l.type!=="merge-block"||(l={block:l.block,caret:a,type:"merge-block"})}}else{if(l.type==="merge-block")break;if(ti(a)){if(O(a.origin)){if(a.origin.isInline()){if(!a.origin.isParentOf(s.anchor.origin))break}else l={block:a.origin,type:"merge-next-block"};continue}if(ce(a.origin)){if(!a.origin.isIsolated())if(l.type==="merge-next-block"&&(a.origin.isKeyboardSelectable()||!a.origin.isInline())&&O(s.anchor.origin)&&s.anchor.origin.isEmpty()){s.anchor.origin.remove();const u=al();u.add(a.origin.getKey()),Ye(u)}else a.origin.remove();return}break}}if(l.type==="merge-block"){const{caret:a,block:u}=l;return ro(this,Rn(!a.origin.isEmpty()&&u.isEmpty()?_s(Ie(u,a.direction)):s.anchor,a)),this.removeText()}}const o=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&qd(this,r.getNode()))return}else{const l=o.type==="text"?o.getNode():null;if(i=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){const a=o.offset,u=l.getTextContentSize();if(l.is(i)||e&&a!==u||!e&&a!==0)return void Gd(l,e,a)}else if(i!==null&&i.isSegmented()){const a=r.offset,u=i.getTextContentSize();if(i.is(l)||e&&a!==0||!e&&a!==u)return void Gd(i,e,a)}(function(a,u){const c=a.anchor,f=a.focus,d=c.getNode(),h=f.getNode();if(d===h&&c.type==="text"&&f.type==="text"){const p=c.offset,g=f.offset,m=p<g,y=m?p:g,b=m?g:p,x=b-1;y!==x&&(function(k){return!(xy(k)||r2(k))})(d.getTextContent().slice(y,b))&&(u?f.set(f.key,x,f.type):c.set(c.key,x,c.type))}})(this,e)}}if(this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&$e(r.getParent())&&r.getPreviousSibling()===null&&qd(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Be(t){return t instanceof ll}function Vd(t){const e=t.offset;if(t.type==="text")return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function Ja(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[n,r]=e;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[Vd(n),Vd(r)]}function qd(t,e){for(let n=e;n;n=n.getParent()){if(O(n)){if(n.collapseAtStart(t))return!0;if(Sn(n))break}if(n.getPreviousSibling())break}return!1}const r2=(()=>{try{const t=new RegExp("\\p{Emoji}","u"),e=t.test.bind(t);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function Gd(t,e,n){const r=t,i=r.getTextContent().split(/(?=\s)/g),s=i.length;let o=0,l=0;for(let u=0;u<s;u++){const c=u===s-1;if(l=o,o+=i[u].length,e&&o===n||o>n||c){i.splice(u,1),c&&(l=void 0);break}}const a=i.join("").trim();a===""?r.remove():(r.setTextContent(a),r.select(l,l))}function Yd(t,e,n,r){let i,s=e;if(st(t)){let o=!1;const l=t.childNodes,a=l.length,u=r._blockCursorElement;s===a&&(o=!0,s=a-1);let c=l[s],f=!1;if(c===u)c=l[s+1],f=!0;else if(u!==null){const d=u.parentNode;t===d&&e>Array.prototype.indexOf.call(d.children,u)&&s--}if(i=Pr(c),U(i))s=fh(i,o);else{let d=Pr(t);if(d===null)return null;if(O(d)){const h=r.getElementByKey(d.getKey());h===null&&z(214),[d,s]=d.getDOMSlot(h).resolveChildIndex(d,h,t,e),O(d)||z(215),o&&s>=d.getChildrenSize()&&(s=Math.max(0,d.getChildrenSize()-1));let g=d.getChildAtIndex(s);if(O(g)&&(function(m,y,b){const x=m.getParent();return b===null||x===null||!x.canBeEmpty()||x!==b.getNode()})(g,0,n)){const m=o?g.getLastDescendant():g.getFirstDescendant();m===null?d=g:(g=m,d=O(g)?g:g.getParentOrThrow()),s=0}U(g)?(i=g,d=null,s=fh(g,o)):g!==d&&o&&!f&&(O(d)||z(216),s=Math.min(d.getChildrenSize(),s+1))}else{const h=d.getIndexWithinParent();s=e===0&&ce(d)&&Pr(t)===d?h:h+1,d=d.getParentOrThrow()}if(O(d))return Gt(d.__key,s,"element")}}else i=Pr(t);return U(i)?Gt(i.__key,s,"text"):null}function Jd(t,e,n){const r=t.offset,i=t.getNode();if(r===0){const s=i.getPreviousSibling(),o=i.getParent();if(e){if((n||!e)&&s===null&&O(o)&&o.isInline()){const l=o.getPreviousSibling();U(l)&&t.set(l.__key,l.getTextContent().length,"text")}}else O(s)&&!n&&s.isInline()?t.set(s.__key,s.getChildrenSize(),"element"):U(s)&&t.set(s.__key,s.getTextContent().length,"text")}else if(r===i.getTextContent().length){const s=i.getNextSibling(),o=i.getParent();if(e&&O(s)&&s.isInline())t.set(s.__key,0,"element");else if((n||e)&&s===null&&O(o)&&o.isInline()&&!o.canInsertTextAfter()){const l=o.getNextSibling();U(l)&&t.set(l.__key,0,"text")}}}function Qm(t,e,n){if(t.type==="text"&&e.type==="text"){const r=t.isBefore(e),i=t.is(e);Jd(t,r,i),Jd(e,!r,i),i&&e.set(t.key,t.offset,t.type);const s=Se();if(s.isComposing()&&s._compositionKey!==t.key&&j(n)){const o=n.anchor,l=n.focus;t.set(o.key,o.offset,o.type,!0),e.set(l.key,l.offset,l.type,!0)}}}function ey(t,e,n,r,i,s){if(t===null||n===null||!ws(i,t,n))return null;const o=Yd(t,e,j(s)?s.anchor:null,i);if(o===null)return null;const l=Yd(n,r,j(s)?s.focus:null,i);if(l===null)return null;if(o.type==="element"&&l.type==="element"){const a=Pr(t),u=Pr(n);if(ce(a)&&ce(u))return null}return Qm(o,l,s),[o,l]}function Xa(t){return O(t)&&!t.isInline()}function ty(t,e,n,r,i,s){const o=Kn(),l=new br(Gt(t,e,i),Gt(n,r,s),0,"");return l.dirty=!0,o._selection=l,l}function ny(){const t=Gt("root",0,"element"),e=Gt("root",0,"element");return new br(t,e,0,"")}function al(){return new ll(new Set)}function uc(t,e,n,r){const i=n._window;if(i===null)return null;const s=r||i.event,o=s?s.type:void 0,l=o==="selectionchange",a=!Pa&&(l||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&s&&s.detail===3||o==="drop"||o===void 0);let u,c,f,d;if(j(t)&&!a)return t.clone();if(e===null)return null;if(u=e.anchorNode,c=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&j(t)&&!ws(n,u,c))return t.clone();const h=ey(u,f,c,d,n,t);if(h===null)return null;const[p,g]=h;return new br(p,g,j(t)?t.format:0,j(t)?t.style:"")}function K(){return Kn()._selection}function xr(){return Se()._editorState._selection}function Io(t,e,n,r=1){const i=t.anchor,s=t.focus,o=i.getNode(),l=s.getNode();if(!e.is(o)&&!e.is(l))return;const a=e.__key;if(t.isCollapsed()){const u=i.offset;if(n<=u&&r>0||n<u&&r<0){const c=Math.max(0,u+r);i.set(a,c,"element"),s.set(a,c,"element"),Xd(t)}}else{const u=t.isBackward(),c=u?s:i,f=c.getNode(),d=u?i:s,h=d.getNode();if(e.is(f)){const p=c.offset;(n<=p&&r>0||n<p&&r<0)&&c.set(a,Math.max(0,p+r),"element")}if(e.is(h)){const p=d.offset;(n<=p&&r>0||n<p&&r<0)&&d.set(a,Math.max(0,p+r),"element")}}Xd(t)}function Xd(t){const e=t.anchor,n=e.offset,r=t.focus,i=r.offset,s=e.getNode(),o=r.getNode();if(t.isCollapsed()){if(!O(s))return;const l=s.getChildrenSize(),a=n>=l,u=a?s.getChildAtIndex(l-1):s.getChildAtIndex(n);if(U(u)){let c=0;a&&(c=u.getTextContentSize()),e.set(u.__key,c,"text"),r.set(u.__key,c,"text")}}else{if(O(s)){const l=s.getChildrenSize(),a=n>=l,u=a?s.getChildAtIndex(l-1):s.getChildAtIndex(n);if(U(u)){let c=0;a&&(c=u.getTextContentSize()),e.set(u.__key,c,"text")}}if(O(o)){const l=o.getChildrenSize(),a=i>=l,u=a?o.getChildAtIndex(l-1):o.getChildAtIndex(i);if(U(u)){let c=0;a&&(c=u.getTextContentSize()),r.set(u.__key,c,"text")}}}}function Fo(t,e,n,r,i){let s=null,o=0,l=null;r!==null?(s=r.__key,U(r)?(o=r.getTextContentSize(),l="text"):O(r)&&(o=r.getChildrenSize(),l="element")):i!==null&&(s=i.__key,U(i)?l="text":O(i)&&(l="element")),s!==null&&l!==null?t.set(s,o,l):(o=e.getIndexWithinParent(),o===-1&&(o=n.getChildrenSize()),t.set(n.__key,o,"element"))}function Zd(t,e,n,r,i){t.type==="text"?t.set(n,t.offset+(e?0:i),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element")}function ry(t,e,n,r,i){try{t.setBaseAndExtent(e,n,r,i)}catch{}}function i2(t,e,n,r,i,s,o){const l=r.anchorNode,a=r.focusNode,u=r.anchorOffset,c=r.focusOffset,f=document.activeElement;if(i.has(pc)&&f!==s||f!==null&&bc(f))return;if(!j(e))return void(t!==null&&ws(n,l,a)&&r.removeAllRanges());const d=e.anchor,h=e.focus,p=d.key,g=h.key,m=ei(n,p),y=ei(n,g),b=d.offset,x=h.offset,k=e.format,S=e.style,w=e.isCollapsed();let A=m,C=y,T=!1;if(d.type==="text"){A=Zr(m);const B=d.getNode();T=B.getFormat()!==k||B.getStyle()!==S}else j(t)&&t.anchor.type==="text"&&(T=!0);var _,F,L,R,I;if(h.type==="text"&&(C=Zr(y)),A!==null&&C!==null&&(w&&(t===null||T||j(t)&&(t.format!==k||t.style!==S))&&(_=k,F=S,L=b,R=p,I=performance.now(),Hm=[_,F,L,R,I]),u!==b||c!==x||l!==A||a!==C||r.type==="Range"&&w||(f!==null&&s.contains(f)||s.focus({preventScroll:!0}),d.type==="element"))){if(ry(r,A,b,C,x),!i.has(cy)&&e.isCollapsed()&&s!==null&&s===document.activeElement){const B=j(e)&&e.anchor.type==="element"?A.childNodes[b]||null:r.rangeCount>0?r.getRangeAt(0):null;if(B!==null){let q;if(B instanceof Text){const G=document.createRange();G.selectNode(B),q=G.getBoundingClientRect()}else q=B.getBoundingClientRect();(function(G,Y,te){const E=Sy(te),he=Ec(E);if(E===null||he===null)return;let{top:Ee,bottom:v}=Y,ve=0,Ze=0,pe=te;for(;pe!==null;){const ot=pe===E.body;if(ot)ve=0,Ze=Ct(G).innerHeight;else{const Qe=pe.getBoundingClientRect();ve=Qe.top,Ze=Qe.bottom}let Ue=0;if(Ee<ve?Ue=-(ve-Ee):v>Ze&&(Ue=v-Ze),Ue!==0)if(ot)he.scrollBy(0,Ue);else{const Qe=pe.scrollTop;pe.scrollTop+=Ue;const rn=pe.scrollTop-Qe;Ee-=rn,v-=rn}if(ot)break;pe=ks(pe)}})(n,q,s)}}qa=!0}}function s2(t){let e=K()||xr();e===null&&(e=de().selectEnd()),e.insertNodes(t)}function Zl(t){let e=t;t.isCollapsed()||e.removeText();const n=K();j(n)&&(e=n),j(e)||z(161);const r=e.anchor;let i=r.getNode(),s=r.offset;for(;!An(i);){const o=i;if([i,s]=o2(i,s),o.is(i))break}return s}function o2(t,e){const n=t.getParent();if(!n){const i=ct();return de().append(i),i.select(),[de(),0]}if(U(t)){const i=t.splitText(e);if(i.length===0)return[n,t.getIndexWithinParent()];const s=e===0?0:1;return[n,i[0].getIndexWithinParent()+s]}if(!O(t)||e===0)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const i=new br(Gt(t.__key,e,"element"),Gt(t.__key,e,"element"),0,""),s=t.insertNewAfter(i);s&&s.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}function Qd(t,e,n,r,i="decorators-and-blocks"){if(e==="move"&&r==="character"&&!t.isCollapsed()){const[c,f]=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];return f.set(c.key,c.offset,c.type),!0}const s=Jt(t.focus,n?"previous":"next"),o=r==="lineboundary",l=e==="move";let a=s,u=i==="decorators-and-blocks";if(!Iy(a)){for(const c of a){u=!1;const{origin:f}=c;if(!ce(f)||f.isIsolated()||(a=c,!o||!f.isInline()))break}if(u)for(const c of Fc(s).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(vt(c))c.origin.isInline()||(a=c);else{if(O(c.origin))continue;ce(c.origin)&&!c.origin.isInline()&&(a=c)}break}}if(a===s)return!1;if(l&&!o&&ce(a.origin)&&a.origin.isKeyboardSelectable()){const c=al();return c.add(a.origin.getKey()),Ye(c),!0}return a=Dt(a),l&&es(t.anchor,a),es(t.focus,a),u||!o}let Ne=null,Le=null,ut=!1,Ql=!1,to=0;const eh={characterData:!0,childList:!0,subtree:!0};function ys(){return ut||Ne!==null&&Ne._readOnly}function Ke(){ut&&z(13)}function iy(){to>99&&z(14)}function Kn(){return Ne===null&&z(195,sy()),Ne}function Se(){return Le===null&&z(196,sy()),Le}function sy(){let t=0;const e=new Set,n=cl.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const s=fl(i);if(xc(s))t++;else if(s){let o=String(s.constructor.version||"<0.17.1");o===n&&(o+=" (separately built, likely a bundler configuration issue)"),e.add(o)}}let r=` Detected on the page: ${t} compatible editor(s) with version ${n}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function l2(){return Le}function th(t,e,n){const r=e.__type,i=hy(t,r);let s=n.get(r);s===void 0&&(s=Array.from(i.transforms),n.set(r,s));const o=s.length;for(let l=0;l<o&&(s[l](e),e.isAttached());l++);}function nh(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function oy(t,e){if(!e)return;const n=t._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const i of r)n.add(i)}function a2(t){return cc(t,Se()._nodes)}function cc(t,e){const n=t.type,r=e.get(n);r===void 0&&z(17,n);const i=r.klass;t.type!==i.getType()&&z(18,i.name);const s=i.importJSON(t),o=t.children;if(O(s)&&Array.isArray(o))for(let l=0;l<o.length;l++){const a=cc(o[l],e);s.append(a)}return s}function rh(t,e,n){const r=Ne,i=ut,s=Le;Ne=e,ut=!0,Le=t;try{return n()}finally{Ne=r,ut=i,Le=s}}function hn(t,e){const n=t._pendingEditorState,r=t._rootElement,i=t._headless||r===null;if(n===null)return;const s=t._editorState,o=s._selection,l=n._selection,a=t._dirtyType!==or,u=Ne,c=ut,f=Le,d=t._updating,h=t._observer;let p=null;if(t._pendingEditorState=null,t._editorState=n,!i&&a&&h!==null){Le=t,Ne=n,ut=!1,t._updating=!0;try{const w=t._dirtyType,A=t._dirtyElements,C=t._dirtyLeaves;h.disconnect(),p=BT(s,n,t,w,A,C)}catch(w){if(w instanceof Error&&t._onError(w),Ql)throw w;return fy(t,null,r,n),ym(t),t._dirtyType=Xr,Ql=!0,hn(t,s),void(Ql=!1)}finally{h.observe(r,eh),t._updating=d,Ne=u,ut=c,Le=f}}n._readOnly||(n._readOnly=!0);const g=t._dirtyLeaves,m=t._dirtyElements,y=t._normalizedNodes,b=t._updateTags,x=t._deferred;a&&(t._dirtyType=or,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),(function(w,A){const C=w._decorators;let T=w._pendingDecorators||C;const _=A._nodeMap;let F;for(F in T)_.has(F)||(T===C&&(T=yy(w)),delete T[F])})(t,n);const k=i?null:Nt(Ct(t));if(t._editable&&k!==null&&(a||l===null||l.dirty)&&r!==null&&!b.has(c2)){Le=t,Ne=n;try{if(h!==null&&h.disconnect(),a||l===null||l.dirty){const w=t._blockCursorElement;w!==null&&tu(w,t,r),i2(o,l,t,k,b,r)}(function(w,A,C){let T=w._blockCursorElement;if(j(C)&&C.isCollapsed()&&C.anchor.type==="element"&&A.contains(document.activeElement)){const _=C.anchor,F=_.getNode(),L=_.offset;let R=!1,I=null;if(L===F.getChildrenSize())ta(F.getChildAtIndex(L-1))&&(R=!0);else{const B=F.getChildAtIndex(L);if(B!==null&&ta(B)){const q=B.getPreviousSibling();(q===null||ta(q))&&(R=!0,I=w.getElementByKey(B.__key))}}if(R){const B=w.getElementByKey(F.__key);return T===null&&(w._blockCursorElement=T=(function(q){const G=q.theme,Y=document.createElement("div");Y.contentEditable="false",Y.setAttribute("data-lexical-cursor","true");let te=G.blockCursor;if(te!==void 0){if(typeof te=="string"){const E=wo(te);te=G.blockCursor=E}te!==void 0&&Y.classList.add(...te)}return Y})(w._config)),A.style.caretColor="transparent",void(I===null?B.appendChild(T):B.insertBefore(T,I))}}T!==null&&tu(T,w,A)})(t,r,l)}finally{h!==null&&h.observe(r,eh),Le=f,Ne=u}}p!==null&&(function(w,A,C,T,_){const F=Array.from(w._listeners.mutation),L=F.length;for(let R=0;R<L;R++){const[I,B]=F[R];for(const q of B){const G=A.get(q);G!==void 0&&I(G,{dirtyLeaves:T,prevEditorState:_,updateTags:C})}}})(t,p,b,g,s),j(l)||l===null||o!==null&&o.is(l)||t.dispatchCommand(Cm,void 0);const S=t._pendingDecorators;S!==null&&(t._decorators=S,t._pendingDecorators=null,Bi("decorator",t,!0,S)),(function(w,A,C){const T=ch(A),_=ch(C);T!==_&&Bi("textcontent",w,!0,_)})(t,e||s,n),Bi("update",t,!0,{dirtyElements:m,dirtyLeaves:g,editorState:n,mutatedNodes:p,normalizedNodes:y,prevEditorState:e||s,tags:b}),(function(w,A){if(w._deferred=[],A.length!==0){const C=w._updating;w._updating=!0;try{for(let T=0;T<A.length;T++)A[T]()}finally{w._updating=C}}})(t,x),(function(w){const A=w._updates;if(A.length!==0){const C=A.shift();if(C){const[T,_]=C;fc(w,T,_)}}})(t)}function Bi(t,e,n,...r){const i=e._updating;e._updating=n;try{const s=Array.from(e._listeners[t]);for(let o=0;o<s.length;o++)s[o].apply(null,r)}finally{e._updating=i}}function ih(t,e){const n=t._updates;let r=e||!1;for(;n.length!==0;){const i=n.shift();if(i){const[s,o]=i;let l;if(o!==void 0){if(l=o.onUpdate,o.skipTransforms&&(r=!0),o.discrete){const a=t._pendingEditorState;a===null&&z(191),a._flushSync=!0}l&&t._deferred.push(l),oy(t,o.tag)}s()}}return r}function fc(t,e,n){const r=t._updateTags;let i,s=!1,o=!1;n!==void 0&&(i=n.onUpdate,oy(t,n.tag),s=n.skipTransforms||!1,o=n.discrete||!1),i&&t._deferred.push(i);const l=t._editorState;let a=t._pendingEditorState,u=!1;(a===null||a._readOnly)&&(a=t._pendingEditorState=ly(a||l),u=!0),a._flushSync=o;const c=Ne,f=ut,d=Le,h=t._updating;Ne=a,ut=!1,t._updating=!0,Le=t;const p=t._headless||t.getRootElement()===null;mc(null);try{u&&(p?l._selection!==null&&(a._selection=l._selection.clone()):a._selection=(function(b,x){const k=b.getEditorState()._selection,S=Nt(Ct(b));return j(k)||k==null?uc(k,S,b,x):k.clone()})(t,n&&n.event||null));const m=t._compositionKey;e(),s=ih(t,s),(function(b,x){const k=x.getEditorState()._selection,S=b._selection;if(j(S)){const w=S.anchor,A=S.focus;let C;if(w.type==="text"&&(C=w.getNode(),C.selectionTransform(k,S)),A.type==="text"){const T=A.getNode();C!==T&&T.selectionTransform(k,S)}}})(a,t),t._dirtyType!==or&&(s?(function(b,x){const k=x._dirtyLeaves,S=b._nodeMap;for(const w of k){const A=S.get(w);U(A)&&A.isAttached()&&A.isSimpleText()&&!A.isUnmergeable()&&Ld(A)}})(a,t):(function(b,x){const k=x._dirtyLeaves,S=x._dirtyElements,w=b._nodeMap,A=On(),C=new Map;let T=k,_=T.size,F=S,L=F.size;for(;_>0||L>0;){if(_>0){x._dirtyLeaves=new Set;for(const R of T){const I=w.get(R);U(I)&&I.isAttached()&&I.isSimpleText()&&!I.isUnmergeable()&&Ld(I),I!==void 0&&nh(I,A)&&th(x,I,C),k.add(R)}if(T=x._dirtyLeaves,_=T.size,_>0){to++;continue}}x._dirtyLeaves=new Set,x._dirtyElements=new Map,F.delete("root")&&F.set("root",!0);for(const R of F){const I=R[0],B=R[1];if(S.set(I,B),!B)continue;const q=w.get(I);q!==void 0&&nh(q,A)&&th(x,q,C)}T=x._dirtyLeaves,_=T.size,F=x._dirtyElements,L=F.size,to++}x._dirtyLeaves=k,x._dirtyElements=S})(a,t),ih(t),(function(b,x,k,S){const w=b._nodeMap,A=x._nodeMap,C=[];for(const[T]of S){const _=A.get(T);_!==void 0&&(_.isAttached()||(O(_)&&pm(_,T,w,A,C,S),w.has(T)||S.delete(T),C.push(T)))}for(const T of C)A.delete(T);for(const T of k){const _=A.get(T);_===void 0||_.isAttached()||(w.has(T)||k.delete(T),A.delete(T))}})(l,a,t._dirtyLeaves,t._dirtyElements)),m!==t._compositionKey&&(a._flushSync=!0);const y=a._selection;if(j(y)){const b=a._nodeMap,x=y.anchor.key,k=y.focus.key;b.get(x)!==void 0&&b.get(k)!==void 0||z(19)}else Be(y)&&y._nodes.size===0&&(a._selection=null)}catch(m){return m instanceof Error&&t._onError(m),t._pendingEditorState=l,t._dirtyType=Xr,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void hn(t)}finally{Ne=c,ut=f,Le=d,t._updating=h,to=0}t._dirtyType!==or||t._deferred.length>0||(function(m,y){const b=y.getEditorState()._selection,x=m._selection;if(x!==null){if(x.dirty||!x.is(b))return!0}else if(b!==null)return!0;return!1})(a,t)?a._flushSync?(a._flushSync=!1,hn(t)):u&&g2((()=>{hn(t)})):(a._flushSync=!1,u&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function mt(t,e,n){Le===t&&n===void 0?e():fc(t,e,n)}class zi{constructor(e,n,r){this.element=e,this.before=n||null,this.after=r||null}withBefore(e){return new zi(this.element,e,this.after)}withAfter(e){return new zi(this.element,this.before,e)}withElement(e){return this.element===e?this:new zi(e,this.before,this.after)}insertChild(e){const n=this.before||this.getManagedLineBreak();return n!==null&&n.parentElement!==this.element&&z(222),this.element.insertBefore(e,n),this}removeChild(e){return e.parentElement!==this.element&&z(223),this.element.removeChild(e),this}replaceChild(e,n){return n.parentElement!==this.element&&z(224),this.element.replaceChild(e,n),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const n=e==="decorator"&&(Jr||qi);this.insertManagedLineBreak(n)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const n=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&n.removeChild(r),n.removeChild(e),n.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const n=this.getManagedLineBreak();if(n){if(e===(n.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,i=this.before,s=document.createElement("br");if(r.insertBefore(s,i),e){const o=document.createElement("img");o.setAttribute("data-lexical-linebreak","true"),o.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",o.alt="",r.insertBefore(o,s),r.__lexicalLineBreak=o}else r.__lexicalLineBreak=s}getFirstChildOffset(){let e=0;for(let n=this.after;n!==null;n=n.previousSibling)e++;return e}resolveChildIndex(e,n,r,i){if(r===this.element){const a=this.getFirstChildOffset();return[e,Math.min(a+e.getChildrenSize(),Math.max(a,i))]}const s=sh(n,r);s.push(i);const o=sh(n,this.element);let l=e.getIndexWithinParent();for(let a=0;a<o.length;a++){const u=s[a],c=o[a];if(u===void 0||u<c)break;if(u>c){l+=1;break}}return[e.getParentOrThrow(),l]}}function sh(t,e){const n=[];let r=e;for(;r!==t&&r!==null;r=r.parentNode){let i=0;for(let s=r.previousSibling;s!==null;s=s.previousSibling)i++;n.push(i)}return r!==t&&z(225),n.reverse()}class bs extends ci{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return CT[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=Se()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){const e=[];let n=this.getFirstChild();for(;n!==null;){if(U(n)&&e.push(n),O(n)){const r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;O(e);){const n=e.getFirstChild();if(n===null)break;e=n}return e}getLastDescendant(){let e=this.getLastChild();for(;O(e);){const n=e.getLastChild();if(n===null)break;e=n}return e}getDescendantByIndex(e){const n=this.getChildren(),r=n.length;if(e>=r){const s=n[r-1];return O(s)&&s.getLastDescendant()||s||null}const i=n[e];return O(i)&&i.getFirstDescendant()||i||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:me(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&z(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:me(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&z(96,this.__key),e}getChildAtIndex(e){const n=this.getChildrenSize();let r,i;if(e<n/2){for(r=this.getFirstChild(),i=0;r!==null&&i<=e;){if(i===e)return r;r=r.getNextSibling(),i++}return null}for(r=this.getLastChild(),i=n-1;r!==null&&i>=e;){if(i===e)return r;r=r.getPreviousSibling(),i--}return null}getTextContent(){let e="";const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const s=n[i];e+=s.getTextContent(),O(s)&&i!==r-1&&!s.isInline()&&(e+=mn)}return e}getTextContentSize(){let e=0;const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const s=n[i];e+=s.getTextContentSize(),O(s)&&i!==r-1&&!s.isInline()&&(e+=mn.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const n=Cd[e];return!!(this.getFormat()&n)}return!1}hasTextFormat(e){const n=lr[e];return!!(this.getTextFormat()&n)}getFormatFlags(e,n){return Oo(this.getLatest().__textFormat,e,n)}getTextStyle(){return this.getLatest().__textStyle}select(e,n){Ke();const r=K();let i=e,s=n;const o=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){const a=this.getFirstChild();if(U(a)||O(a))return a.select(0,0)}else if(!(e!==void 0&&e!==o||n!==void 0&&n!==o)){const a=this.getLastChild();if(U(a)||O(a))return a.select()}}i===void 0&&(i=o),s===void 0&&(s=o);const l=this.__key;return j(r)?(r.anchor.set(l,i,"element"),r.focus.set(l,s,"element"),r.dirty=!0,r):ty(l,i,l,s,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((n=>n.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?Cd[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const n=this.getWritable();return n.__textFormat=e,n}setTextStyle(e){const n=this.getWritable();return n.__textStyle=e,n}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){const i=r.length,s=this.getChildrenSize(),o=this.getWritable();e+n<=s||z(226,String(e),String(n),String(s));const l=o.__key,a=[],u=[],c=this.getChildAtIndex(e+n);let f=null,d=s-n+i;if(e!==0)if(e===s)f=this.getLastChild();else{const p=this.getChildAtIndex(e);p!==null&&(f=p.getPreviousSibling())}if(n>0){let p=f===null?this.getFirstChild():f.getNextSibling();for(let g=0;g<n;g++){p===null&&z(100);const m=p.getNextSibling(),y=p.__key;pn(p.getWritable()),u.push(y),p=m}}let h=f;for(let p=0;p<i;p++){const g=r[p];h!==null&&g.is(h)&&(f=h=h.getPreviousSibling());const m=g.getWritable();m.__parent===l&&d--,pn(m);const y=g.__key;if(h===null)o.__first=y,m.__prev=null;else{const b=h.getWritable();b.__next=y,m.__prev=b.__key}g.__key===l&&z(76),m.__parent=l,a.push(y),h=g}if(e+n===s)h!==null&&(h.getWritable().__next=null,o.__last=h.__key);else if(c!==null){const p=c.getWritable();if(h!==null){const g=h.getWritable();p.__prev=h.__key,g.__next=c.__key}else p.__prev=null}if(o.__size=d,u.length){const p=K();if(j(p)){const g=new Set(u),m=new Set(a),{anchor:y,focus:b}=p;oh(y,g,m)&&Fo(y,y.getNode(),this,f,c),oh(b,g,m)&&Fo(b,b.getNode(),this,f,c),d!==0||this.canBeEmpty()||Sn(this)||this.remove()}}return o}getDOMSlot(e){return new zi(e)}exportDOM(e){const{element:n}=super.exportDOM(e);if(st(n)){const r=this.getIndent();r>0&&(n.style.paddingInlineStart=40*r+"px");const i=this.getDirection();i&&(n.dir=i)}return{element:n}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),r=this.getTextStyle();return n!==0&&(e.textFormat=n),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,n){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,n,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,n){const r=this.getDOMSlot(e);let i=r.getFirstChild();for(let s=this.getFirstChild();s;s=s.getNextSibling()){const o=n.getElementByKey(s.getKey());o!==null&&(i==null?(r.insertChild(o),i=o):i!==o&&r.replaceChild(o,i),i=i.nextSibling)}}}function O(t){return t instanceof bs}function oh(t,e,n){let r=t.getNode();for(;r;){const i=r.__key;if(e.has(i)&&!n.has(i))return!0;r=r.getParent()}return!1}class dc extends ci{decorate(e,n){z(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function ce(t){return t instanceof dc}class xs extends bs{static getType(){return"root"}static clone(){return new xs}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){z(51)}getTextContent(){const e=this.__cachedText;return!ys()&&Se()._dirtyType!==or||e===null?super.getTextContent():e}remove(){z(52)}replace(e){z(53)}insertBefore(e){z(54)}insertAfter(e){z(55)}updateDOM(e,n){return!1}splice(e,n,r){for(const i of r)O(i)||ce(i)||z(282);return super.splice(e,n,r)}static importJSON(e){return de().updateFromJSON(e)}collapseAtStart(){return!0}}function $e(t){return t instanceof xs}function ly(t){return new ul(new Map(t._nodeMap))}function hc(){return new ul(new Map([["root",new xs]]))}function ay(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&z(130,n.name),O(t)){const r=e.children;Array.isArray(r)||z(59,n.name);const i=t.getChildren();for(let s=0;s<i.length;s++){const o=ay(i[s]);r.push(o)}}return e}class ul{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,n){return rh(n&&n.editor||null,this,e)}clone(e){const n=new ul(this._nodeMap,e===void 0?this._selection:e);return n._readOnly=!0,n}toJSON(){return rh(null,this,(()=>({root:ay(de())})))}}const uy="historic",Fn="history-merge",u2="paste",pc="collaboration",lh="skip-collab",cy="skip-scroll-into-view",c2="skip-dom-selection";class gc extends bs{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class fi extends bs{static getType(){return"paragraph"}static clone(e){return new fi(e.__key)}createDOM(e){const n=document.createElement("p"),r=Wr(e.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(e,n,r){return!1}static importDOM(){return{p:e=>({conversion:f2,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(st(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();r&&(n.style.textAlign=r)}return{element:n}}static importJSON(e){return ct().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,n){const r=ct();r.setTextFormat(e.format),r.setTextStyle(e.style);const i=this.getDirection();return r.setDirection(i),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,n),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||U(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function f2(t){const e=ct();return t.style&&(e.setFormat(t.style.textAlign),E2(t,e)),{node:e}}function ct(){return pl(new fi)}function d2(t){return t instanceof fi}const le=0,ah=1,vL=3,h2=4;function fy(t,e,n,r){const i=t._keyToDOMMap;i.clear(),t._editorState=hc(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=or,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const s=t._observer;s!==null&&(s.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function dy(t){const e=t||{},n=l2(),r=e.theme||{},i=t===void 0?n:e.parentEditor||null,s=e.disableEvents||!1,o=hc(),l=e.namespace||(i!==null?i._config.namespace:wy()),a=e.editorState,u=[xs,yr,ps,gs,fi,gc,...e.nodes||[]],{onError:c,html:f}=e,d=e.editable===void 0||e.editable;let h;if(t===void 0&&n!==null)h=n._nodes;else{h=new Map;for(let g=0;g<u.length;g++){let m=u[g],y=null,b=null;if(typeof m!="function"){const A=m;m=A.replace,y=A.with,b=A.withKlass||null}const{ownNodeConfig:x}=Ac(m),k=m.getType(),S=m.transform(),w=new Set;x&&x.$transform&&w.add(x.$transform),S!==null&&w.add(S),h.set(k,{exportDOM:f&&f.export?f.export.get(m):void 0,klass:m,replace:y,replaceWithKlass:b,sharedNodeState:LT(u[g]),transforms:w})}}const p=new cl(o,i,h,{disableEvents:s,namespace:l,theme:r},c||console.error,(function(g,m){const y=new Map,b=new Set,x=k=>{Object.keys(k).forEach((S=>{let w=y.get(S);w===void 0&&(w=[],y.set(S,w)),w.push(k[S])}))};return g.forEach((k=>{const S=k.klass.importDOM;if(S==null||b.has(S))return;b.add(S);const w=S.call(k.klass);w!==null&&x(w)})),m&&x(m),y})(h,f?f.import:void 0),d,t);return a!==void 0&&(p._pendingEditorState=a,p._dirtyType=Xr),p}class cl{constructor(e,n,r,i,s,o,l,a){this._createEditorArgs=a,this._parentEditor=n,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=or,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=wy(),this._onError=s,this._htmlConversions=o,this._editable=l,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){const n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){const n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){const n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){const n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&z(35);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const s=i.get(e);s===void 0&&z(36,String(e));const o=s[r];return o.add(n),()=>{o.delete(n),s.every((l=>l.size===0))&&i.delete(e)}}registerMutationListener(e,n,r){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,s=this._listeners.mutation;let o=s.get(n);o===void 0&&(o=new Set,s.set(n,o)),o.add(i);const l=r&&r.skipInitialization;return l!==void 0&&l||this.initializeMutationListener(n,i),()=>{o.delete(i),o.size===0&&s.delete(n)}}getRegisteredNode(e){const n=this._nodes.get(e.getType());return n===void 0&&z(37,e.name),n}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,n){const r=this._editorState,i=yh(r).get(n.getType());if(!i)return;const s=new Map;for(const o of i.keys())s.set(o,"created");s.size>0&&e(s,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,n){const r=this.getRegisteredNode(e);return r.transforms.add(n),r}registerNodeTransform(e,n){const r=this.registerNodeTransformToKlass(e,n),i=[r],s=r.replaceWithKlass;if(s!=null){const o=this.registerNodeTransformToKlass(s,n);i.push(o)}return(function(o,l){const a=yh(o.getEditorState()),u=[];for(const c of l){const f=a.get(c);f&&u.push(f)}u.length!==0&&o.update((()=>{for(const c of u)for(const f of c.keys()){const d=me(f);d&&d.markDirty()}}),o._pendingEditorState===null?{tag:Fn}:void 0)})(this,i.map((o=>o.klass.getType()))),()=>{i.forEach((o=>o.transforms.delete(n)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,n){return V(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const n=this._rootElement;if(e!==n){const r=Wr(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,fy(this,n,e,i),n!==null&&(this._config.disableEvents||YT(n),r!=null&&n.classList.remove(...r)),e!==null){const s=Ec(e),o=e.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=Xr,ym(this),this._updateTags.add(Fn),hn(this),this._config.disableEvents||(function(l,a){const u=l.ownerDocument,c=Do.get(u);(c===void 0||c<1)&&u.addEventListener("selectionchange",Ym),Do.set(u,(c||0)+1),l.__lexicalEditor=a;const f=Gm(l);for(let d=0;d<Va.length;d++){const[h,p]=Va[d],g=typeof p=="function"?m=>{$d(m)||(jd(m),(a.isEditable()||h==="click")&&p(m,a))}:m=>{if($d(m))return;jd(m);const y=a.isEditable();switch(h){case"cut":return y&&V(a,lc,m);case"copy":return V(a,ol,m);case"paste":return y&&V(a,ic,m);case"dragstart":return y&&V(a,Bm,m);case"dragover":return y&&V(a,zm,m);case"dragend":return y&&V(a,KT,m);case"focus":return y&&V(a,jm,m);case"blur":return y&&V(a,$m,m);case"drop":return y&&V(a,Pm,m)}};l.addEventListener(h,g),f.push((()=>{l.removeEventListener(h,g)}))}})(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(Fn),hn(this);Bi("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&z(38);let r=e;r._readOnly&&(r=ly(e),r._selection=e._selection?e._selection.clone():null),mm(this);const i=this._pendingEditorState,s=this._updateTags,o=n!==void 0?n.tag:null;i===null||i.isEmpty()||(o!=null&&s.add(o),hn(this)),this._pendingEditorState=r,this._dirtyType=Xr,this._dirtyElements.set("root",!1),this._compositionKey=null,o!=null&&s.add(o),this._updating||hn(this)}parseEditorState(e,n){return(function(r,i,s){const o=hc(),l=Ne,a=ut,u=Le,c=i._dirtyElements,f=i._dirtyLeaves,d=i._cloneNotNeeded,h=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Ne=o,ut=!1,Le=i,mc(null);try{const p=i._nodes;cc(r.root,p),s&&s(),o._readOnly=!0}catch(p){p instanceof Error&&i._onError(p)}finally{i._dirtyElements=c,i._dirtyLeaves=f,i._cloneNotNeeded=d,i._dirtyType=h,Ne=l,ut=a,Le=u}return o})(typeof e=="string"?JSON.parse(e):e,this,n)}read(e){return hn(this),this.getEditorState().read(e,{editor:this})}update(e,n){(function(r,i,s){r._updating?r._updates.push([i,s]):fc(r,i,s)})(this,e,n)}focus(e,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),mt(this,(()=>{const i=K(),s=de();i!==null?i.dirty||Ye(i.clone()):s.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?s.selectStart():s.selectEnd()),Ey("focus"),x2((()=>{r.removeAttribute("autocapitalize"),e&&e()}))})),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const n=Nt(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Bi("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}cl.version="0.33.1+prod.esm";let Za=null;function mc(t){Za=t}let p2=1;function hy(t,e){const n=yc(t,e);return n===void 0&&z(30,e),n}function yc(t,e){return t._nodes.get(e)}const g2=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function uh(t){return ce(Qr(t))}function bc(t){const e=document.activeElement;if(!st(e))return!1;const n=e.nodeName;return ce(Qr(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&fl(e)==null)}function ws(t,e,n){const r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!bc(e)&&py(e)===t}catch{return!1}}function xc(t){return t instanceof cl}function py(t){let e=t;for(;e!=null;){const n=fl(e);if(xc(n))return n;e=ks(e)}return null}function fl(t){return t?t.__lexicalEditor:null}function tr(t){return Zm(t)||t.isToken()}function jt(t){return tr(t)||t.isSegmented()}function _n(t){return di(t)&&t.nodeType===gT}function m2(t){return di(t)&&t.nodeType===mT}function Zr(t){let e=t;for(;e!=null;){if(_n(e))return e;e=e.firstChild}return null}function Oo(t,e,n){const r=lr[e];if(n!==null&&(t&r)==(n&r))return t;let i=t^r;return e==="subscript"?i&=-65:e==="superscript"?i&=-33:e==="lowercase"?(i&=-513,i&=-1025):e==="uppercase"?(i&=-257,i&=-1025):e==="capitalize"&&(i&=-257,i&=-513),i}function gy(t,e){const n=(function(){const o=Za;return Za=null,o})();if((e=e||n&&n.__key)!=null)return void(t.__key=e);Ke(),iy();const r=Se(),i=Kn(),s=""+p2++;i._nodeMap.set(s,t),O(t)?r._dirtyElements.set(s,!0):r._dirtyLeaves.add(s),r._cloneNotNeeded.add(s),r._dirtyType=fm,t.__key=s}function pn(t){const e=t.getParent();if(e!==null){const n=t.getWritable(),r=e.getWritable(),i=t.getPreviousSibling(),s=t.getNextSibling(),o=s!==null?s.__key:null,l=i!==null?i.__key:null,a=i!==null?i.getWritable():null,u=s!==null?s.getWritable():null;i===null&&(r.__first=o),s===null&&(r.__last=l),a!==null&&(a.__next=o),u!==null&&(u.__prev=l),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function No(t){iy();const e=t.getLatest(),n=e.__parent,r=Kn(),i=Se(),s=r._nodeMap,o=i._dirtyElements;n!==null&&(function(a,u,c){let f=a;for(;f!==null;){if(c.has(f))return;const d=u.get(f);if(d===void 0)break;c.set(f,!1),f=d.__parent}})(n,s,o);const l=e.__key;i._dirtyType=fm,O(t)?o.set(l,!0):i._dirtyLeaves.add(l)}function ze(t){Ke();const e=Se(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,n!==null){const r=me(n);r!==null&&r.getWritable()}if(t!==null){const r=me(t);r!==null&&r.getWritable()}}}function On(){return ys()?null:Se()._compositionKey}function me(t,e){const n=(e||Kn())._nodeMap.get(t);return n===void 0?null:n}function my(t,e){const n=dl(t,Se());return n!==void 0?me(n,e):null}function dl(t,e){return t[`__lexicalKey_${e._key}`]}function Qr(t,e){let n=t;for(;n!=null;){const r=my(n,e);if(r!==null)return r;n=ks(n)}return null}function yy(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function ch(t){return t.read((()=>de().getTextContent()))}function de(){return by(Kn())}function by(t){return t._nodeMap.get("root")}function Ye(t){Ke();const e=Kn();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function Pr(t){const e=Se(),n=(function(r,i){let s=r;for(;s!=null;){const o=dl(s,i);if(o!==void 0)return o;s=ks(s)}return null})(t,e);return n===null?t===e.getRootElement()?me("root"):null:me(n)}function fh(t,e){return e?t.getTextContentSize():0}function xy(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function wc(t){const e=[];let n=t;for(;n!==null;)e.push(n),n=n._parentEditor;return e}function wy(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function ky(t){return _n(t)?t.nodeValue:null}function kc(t,e,n){const r=Nt(Ct(e));if(r===null)return;const i=r.anchorNode;let{anchorOffset:s,focusOffset:o}=r;if(i!==null){let l=ky(i);const a=Qr(i);if(l!==null&&U(a)){if(l===il&&n){const u=n.length;l=n,s=u,o=u}l!==null&&_c(a,l,s,o,t)}}}function _c(t,e,n,r,i){let s=t;if(s.isAttached()&&(i||!s.isDirty())){const o=s.isComposing();let l=e;(o||i)&&e[e.length-1]===il&&(l=e.slice(0,-1));const a=s.getTextContent();if(i||l!==a){if(l===""){if(ze(null),qi||Jr||xo)s.remove();else{const g=Se();setTimeout((()=>{g.update((()=>{s.isAttached()&&s.remove()}))}),20)}return}const u=s.getParent(),c=xr(),f=s.getTextContentSize(),d=On(),h=s.getKey();if(s.isToken()||d!==null&&h===d&&!o||j(c)&&(u!==null&&!u.canInsertTextBefore()&&c.anchor.offset===0||c.anchor.key===t.__key&&c.anchor.offset===0&&!s.canInsertTextBefore()&&!o||c.focus.key===t.__key&&c.focus.offset===f&&!s.canInsertTextAfter()&&!o))return void s.markDirty();const p=K();if(!j(p)||n===null||r===null)return void s.setTextContent(l);if(p.setTextNodeRange(s,n,s,r),s.isSegmented()){const g=Re(s.getTextContent());s.replace(g),s=g}s.setTextContent(l)}}}function Us(t,e,n){const r=e[n]||!1;return r==="any"||r===t[n]}function y2(t,e){return Us(t,e,"altKey")&&Us(t,e,"ctrlKey")&&Us(t,e,"shiftKey")&&Us(t,e,"metaKey")}function ge(t,e,n){return y2(t,n)&&t.key.toLowerCase()===e.toLowerCase()}const cn={ctrlKey:!Ut,metaKey:Ut},dh={altKey:Ut,ctrlKey:!Ut};function hh(t){return t.key==="Backspace"}function ph(t){return ge(t,"a",cn)}function b2(t){const e=de();if(j(t)){const n=t.anchor,r=t.focus,i=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();return n.set(i.getKey(),0,"element"),r.set(i.getKey(),i.getChildrenSize(),"element"),So(t),t}{const n=e.select(0,e.getChildrenSize());return Ye(So(n)),n}}function Wr(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(r!==void 0)return r;const i=t[e];if(typeof i=="string"){const s=wo(i);return n[e]=s,s}return i}function Sc(t,e,n,r,i){if(n.size===0)return;const s=r.__type,o=r.__key,l=e.get(s);l===void 0&&z(33,s);const a=l.klass;let u=t.get(a);u===void 0&&(u=new Map,t.set(a,u));const c=u.get(o),f=c==="destroyed"&&i==="created";(c===void 0||f)&&u.set(o,f?"updated":i)}function gh(t,e,n){const r=t.getParent();let i=n,s=t;return r!==null&&(e&&n===0?(i=s.getIndexWithinParent(),s=r):e||n!==s.getChildrenSize()||(i=s.getIndexWithinParent()+1,s=r)),s.getChildAtIndex(e?i-1:i)}function Qa(t,e){const n=t.offset;if(t.type==="element")return gh(t.getNode(),e,n);{const r=t.getNode();if(e&&n===0||!e&&n===r.getTextContentSize()){const i=e?r.getPreviousSibling():r.getNextSibling();return i===null?gh(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):i}}return null}function _y(t){const e=Ct(t).event,n=e&&e.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function V(t,e,n){return(function(r,i,s){const o=wc(r);for(let l=4;l>=0;l--)for(let a=0;a<o.length;a++){const u=o[a],c=u._commands.get(i);if(c!==void 0){const f=c[l];if(f!==void 0){const d=Array.from(f),h=d.length;let p=!1;if(mt(u,(()=>{for(let g=0;g<h;g++)if(d[g](s,r))return void(p=!0)})),p)return p}}}return!1})(t,e,n)}function hl(t){return!$e(t)&&!t.isLastChild()&&!t.isInline()}function ei(t,e){const n=t._keyToDOMMap.get(e);return n===void 0&&z(75,e),n}function ks(t){const e=t.assignedSlot||t.parentElement;return nu(e)?e.host:e}function Sy(t){return m2(t)?t:st(t)?t.ownerDocument:null}function Ey(t){Ke(),Se()._updateTags.add(t)}function x2(t){Ke(),Se()._deferred.push(t)}function eu(t,e){let n=t.getParent();for(;n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function Ec(t){const e=Sy(t);return e?e.defaultView:null}function Ct(t){const e=t._window;return e===null&&z(78),e}function w2(t){let e=t.getParentOrThrow();for(;e!==null;){if(Sn(e))return e;e=e.getParentOrThrow()}return e}function Sn(t){return $e(t)||O(t)&&t.isShadowRoot()}function k2(t){const e=t.constructor.clone(t);return gy(e,null),e.afterCloneFrom(t),e}function pl(t){const e=Se(),n=t.getType(),r=yc(e,n);r===void 0&&z(200,t.constructor.name,n);const{replace:i,replaceWithKlass:s}=r;if(i!==null){const o=i(t),l=o.constructor;return s!==null?o instanceof s||z(201,s.name,s.getType(),l.name,l.getType(),t.constructor.name,n):o instanceof t.constructor&&l!==t.constructor||z(202,l.name,l.getType(),t.constructor.name,n),o.__key===t.__key&&z(203,t.constructor.name,n,l.name,l.getType()),o}return t}function ea(t,e){!$e(t.getParent())||O(e)||ce(e)||z(99)}function Nr(t){const e=me(t);return e===null&&z(63,t),e}function ta(t){return(ce(t)||O(t)&&!t.canBeEmpty())&&!t.isInline()}function tu(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;r!==null&&r.removeChild(t)}function Nt(t){return Mt?(t||window).getSelection():null}function _2(t){const e=Ec(t);return e?e.getSelection():null}function CL(t){return st(t)&&t.tagName==="A"}function st(t){return di(t)&&t.nodeType===pT}function di(t){return typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeType=="number"}function nu(t){return di(t)&&t.nodeType===yT}function ru(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function Lo(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function An(t){if(ce(t)&&!t.isInline())return!0;if(!O(t)||Sn(t))return!1;const e=t.getFirstChild(),n=e===null||Ln(e)||U(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function na(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function vc(){return Se()}const mh=new WeakMap,S2=new Map;function yh(t){if(!t._readOnly&&t.isEmpty())return S2;t._readOnly||z(192);let e=mh.get(t);return e||(e=(function(n){const r=new Map;for(const[i,s]of n._nodeMap){const o=s.__type;let l=r.get(o);l||(l=new Map,r.set(o,l)),l.set(i,s)}return r})(t),mh.set(t,e)),e}function Cc(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function E2(t,e){const n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r)}function v2(t){return t.__lexicalUnmanaged===!0}function vi(t,e){return(function(n,r){return Object.prototype.hasOwnProperty.call(n,r)})(t,e)&&t[e]!==ci[e]}function Ac(t){const e=Ad in t.prototype?t.prototype[Ad]():void 0,n=(function(o){return o===dc||o===bs||o===ci})(t),r=!n&&vi(t,"getType")?t.getType():void 0;let i,s=r;if(e)if(r)i=e[r];else for(const[o,l]of Object.entries(e))s=o,i=l;if(!n&&s&&(vi(t,"getType")||(t.getType=()=>s),vi(t,"clone")||(t.clone=o=>(mc(o),new t)),vi(t,"importJSON")||(t.importJSON=i&&i.$importJSON||(o=>new t().updateFromJSON(o))),!vi(t,"importDOM")&&i)){const{importDOM:o}=i;o&&(t.importDOM=()=>o)}return{ownNodeConfig:i,ownNodeType:s}}const C2={next:"previous",previous:"next"};class Tc{constructor(e){this.origin=e}[Symbol.iterator](){return Cy({hasNext:ti,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Ie(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Ie(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,n){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,n)),this}splice(e,n,r="next"){const i=r===this.direction?n:Array.from(n).reverse();let s=this;const o=this.getParentAtCaret(),l=new Map;for(let a=s.getAdjacentCaret();a!==null&&l.size<e;a=a.getAdjacentCaret()){const u=a.origin.getWritable();l.set(u.getKey(),u)}for(const a of i){if(l.size>0){const u=s.getNodeAtCaret();if(u){if(l.delete(u.getKey()),l.delete(a.getKey()),!(u.is(a)||s.origin.is(a))){const c=a.getParent();c&&c.is(o)&&a.remove(),u.replace(a)}}else u===null&&z(263,Array.from(l).join(" "))}else s.insert(a);s=Ie(a,this.direction)}for(const a of l.values())a.remove();return this}}class Qi extends Tc{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Yt(e,this.direction)}getParentCaret(e="root"){return Ie(Dc(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=wr(this.direction);return Ie(this.getNodeAtCaret(),e)||Yt(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof Qi&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const A2={root:$e,shadowRoot:Sn};function wr(t){return C2[t]}function Dc(t,e="root"){return A2[e](t)?null:t}class cr extends Tc{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Ie(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return O(this.origin)?Yt(this.origin,this.direction):null}getParentCaret(e="root"){return Ie(Dc(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=wr(this.direction);return Ie(this.getNodeAtCaret(),e)||Yt(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof cr&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof cr||e instanceof fr)&&this.direction===e.direction&&this.origin.is(e.origin)}}class fr extends Tc{type="text";constructor(e,n){super(e),this.offset=n}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:dr(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return Ie(Dc(this.getParentAtCaret(),e),this.direction)}getFlipped(){return dr(this.origin,wr(this.direction),this.offset)}isSamePointCaret(e){return e instanceof fr&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof cr||e instanceof fr)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return Ie(this.origin,this.direction)}}function Ht(t){return t instanceof fr}function ti(t){return t instanceof cr}function vt(t){return t instanceof Qi}const T2={next:class extends fr{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends fr{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},D2={next:class extends cr{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends cr{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},I2={next:class extends Qi{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(t){return this.origin.splice(0,0,[t]),this}},previous:class extends Qi{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this}}};function Ie(t,e){return t?new D2[e](t):null}function dr(t,e,n){return t?new T2[e](t,ni(t,n)):null}function ni(t,e){const n=t.getTextContentSize();let r=e==="next"?n:e==="previous"?0:e;return(r<0||r>n)&&((function(i,...s){const o=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",i);for(const a of s)l.append("v",a);o.search=l.toString(),console.warn(`Minified Lexical warning #${i}; visit ${o.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(284,String(e),String(n),t.getKey()),r=r<0?0:n),r}function bh(t,e){return new O2(t,e)}function Yt(t,e){return O(t)?new I2[e](t):null}function F2(t){return t&&t.getChildCaret()||t}function gl(t){return t&&F2(t.getAdjacentCaret())}class Ic{type="node-caret-range";constructor(e,n,r){this.anchor=e,this.focus=n,this.direction=r}getLatest(){const e=this.anchor.getLatest(),n=this.focus.getLatest();return e===this.anchor&&n===this.focus?this:new Ic(e,n,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=i=>{const s=this[i].getLatest();return Ht(s)?(function(o,l){const{direction:a,origin:u}=o,c=ni(u,l==="focus"?wr(a):a);return bh(o,c-o.offset)})(s,i):null},n=e("anchor"),r=e("focus");if(n&&r){const{caret:i}=n,{caret:s}=r;if(i.isSameNodeCaret(s))return[bh(i,s.offset-i.offset),null]}return[n,r]}iterNodeCarets(e="root"){const n=Ht(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),i=Ht(r),s=o=>o.isSameNodeCaret(r)?null:gl(o)||o.getParentCaret(e);return Cy({hasNext:o=>o!==null&&!(i&&r.isSameNodeCaret(o)),initial:n.isSameNodeCaret(r)?null:s(n),map:o=>o,step:s})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class O2{type="slice";constructor(e,n){this.caret=e,this.distance=n}getSliceIndices(){const{distance:e,caret:{offset:n}}=this,r=n+e;return r<n?[r,n]:[n,r]}getTextContent(){const[e,n]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,n)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:n}}=this,[r,i]=this.getSliceIndices(),s=e.getTextContent();return dr(e.setTextContent(s.slice(0,r)+s.slice(i)),n,r)}}function Fc(t){return Rn(t,Ie(de(),t.direction))}function vy(t){return Rn(t,t)}function Rn(t,e){return t.direction!==e.direction&&z(265),new Ic(t,e,t.direction)}function Cy(t){const{initial:e,hasNext:n,step:r,map:i}=t;let s=e;return{[Symbol.iterator](){return this},next(){if(!n(s))return{done:!0,value:void 0};const o={done:!1,value:i(s)};return s=r(s),o}}}function Ay(t,e){const n=no(t.origin,e.origin);switch(n===null&&z(275,t.origin.getKey(),e.origin.getKey()),n.type){case"same":{const r=t.type==="text",i=e.type==="text";return r&&i?(function(s,o){return Math.sign(s-o)})(t.offset,e.offset):t.type===e.type?0:r?-1:i?1:t.type==="child"?-1:1}case"ancestor":return t.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return Ty(n)}}function Ty(t){const{a:e,b:n}=t,r=e.__key,i=n.__key;let s=e,o=n;for(;s&&o;s=s.getNextSibling(),o=o.getNextSibling()){if(s.__key===i)return-1;if(o.__key===r)return 1}return s===null?1:-1}function Ws(t,e){return e.is(t)}function xh(t){return O(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()]}function no(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};const n=new Map;for(let[r,i]=xh(t);r;i=r,r=r.getParent())n.set(r,i);for(let[r,i]=xh(e);r;i=r,r=r.getParent()){const s=n.get(r);if(s!==void 0)return s===null?(Ws(t,r)||z(276),{commonAncestor:r,type:"ancestor"}):i===null?(Ws(e,r)||z(277),{commonAncestor:r,type:"descendant"}):((O(s)||Ws(t,s))&&(O(i)||Ws(e,i))&&r.is(s.getParent())&&r.is(i.getParent())||z(278),{a:s,b:i,commonAncestor:r,type:"branch"})}return null}function Jt(t,e){const{type:n,key:r,offset:i}=t,s=Nr(t.key);return n==="text"?(U(s)||z(266,s.getType(),r),dr(s,e,i)):(O(s)||z(267,s.getType(),r),L2(s,t.offset,e))}function es(t,e){const{origin:n,direction:r}=e,i=r==="next";Ht(e)?t.set(n.getKey(),e.offset,"text"):ti(e)?U(n)?t.set(n.getKey(),ni(n,r),"text"):t.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(vt(e)&&O(n)||z(268),t.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function Dy(t){const e=K(),n=j(e)?e:ny();return ro(n,t),Ye(n),n}function ro(t,e){es(t.anchor,e.anchor),es(t.focus,e.focus)}function iu(t){const{anchor:e,focus:n}=t,r=Jt(e,"next"),i=Jt(n,"next"),s=Ay(r,i)<=0?"next":"previous";return Rn(yn(r,s),yn(i,s))}function _s(t){const{direction:e,origin:n}=t,r=Ie(n,wr(e)).getNodeAtCaret();return r?Ie(r,e):Yt(n.getParentOrThrow(),e)}function wh(t,e="root"){const n=[t];for(let r=vt(t)?t.getParentCaret(e):t.getSiblingCaret();r!==null;r=r.getParentCaret(e))n.push(_s(r));return n}function ra(t){return!!t&&t.origin.isAttached()}function N2(t,e="removeEmptySlices"){if(t.isCollapsed())return t;const n="root",r="next";let i=e;const s=Fy(t,r),o=wh(s.anchor,n),l=wh(s.focus.getFlipped(),n),a=new Set,u=[];for(const p of s.iterNodeCarets(n))if(vt(p))a.add(p.origin.getKey());else if(ti(p)){const{origin:g}=p;O(g)&&!a.has(g.getKey())||u.push(g)}for(const p of u)p.remove();for(const p of s.getTextSlices()){if(!p)continue;const{origin:g}=p.caret,m=g.getTextContentSize(),y=_s(Ie(g,r)),b=g.getMode();if(Math.abs(p.distance)===m&&i==="removeEmptySlices"||b==="token"&&p.distance!==0)y.remove();else if(p.distance!==0){i="removeEmptySlices";let x=p.removeTextSlice();const k=p.caret.origin;if(b==="segmented"){const S=x.origin,w=Re(S.getTextContent()).setStyle(S.getStyle()).setFormat(S.getFormat());y.replaceOrInsert(w),x=dr(w,r,x.offset)}k.is(o[0].origin)&&(o[0]=x),k.is(l[0].origin)&&(l[0]=x.getFlipped())}}let c,f;for(const p of o)if(ra(p)){c=Dt(p);break}for(const p of l)if(ra(p)){f=Dt(p);break}const d=(function(p,g,m){if(!p||!g)return null;const y=p.getParentAtCaret(),b=g.getParentAtCaret();if(!y||!b)return null;const x=y.getParents().reverse();x.push(y);const k=b.getParents().reverse();k.push(b);const S=Math.min(x.length,k.length);let w;for(w=0;w<S&&x[w]===k[w];w++);const A=(_,F)=>{let L;for(let R=w;R<_.length;R++){const I=_[R];if(Sn(I))return;!L&&F(I)&&(L=I)}return L},C=A(x,An),T=C&&A(k,(_=>m.has(_.getKey())&&An(_)));return C&&T?[C,T]:null})(c,f,a);if(d){const[p,g]=d;Yt(p,"previous").splice(0,g.getChildren()),g.remove()}const h=[c,f,...o,...l].find(ra);if(h)return vy(yn(Dt(h),t.direction));z(269,JSON.stringify(o.map((p=>p.origin.__key))))}function Dt(t){const e=(function(i){let s=i;for(;vt(s);){const o=gl(s);if(!vt(o))break;s=o}return s})(t.getLatest()),{direction:n}=e;if(U(e.origin))return Ht(e)?e:dr(e.origin,n,n);const r=e.getAdjacentCaret();return ti(r)&&U(r.origin)?dr(r.origin,n,wr(n)):e}function Iy(t){return Ht(t)&&t.offset!==ni(t.origin,t.direction)}function yn(t,e){return t.direction===e?t:t.getFlipped()}function Fy(t,e){return t.direction===e?t:Rn(yn(t.focus,e),yn(t.anchor,e))}function L2(t,e,n){let r=Yt(t,"next");for(let i=0;i<e;i++){const s=r.getAdjacentCaret();if(s===null)break;r=s}return yn(r,n)}function M2(t){const{origin:e,offset:n,direction:r}=t;if(n===ni(e,r))return t.getSiblingCaret();if(n===ni(e,wr(r)))return _s(t.getSiblingCaret());const[i]=e.splitText(n);return U(i)||z(281),yn(Ie(i,"next"),r)}function P2(t,e){return!0}function R2(t,{$copyElementNode:e=k2,$splitTextPointCaretNext:n=M2,rootMode:r="shadowRoot",$shouldSplit:i=P2}={}){if(Ht(t))return n(t);const s=t.getParentCaret(r);if(s){const{origin:o}=s;if(vt(t)&&(!o.canBeEmpty()||!i(o,"first")))return _s(s);const l=(function(a){const u=[];for(let c=a.getAdjacentCaret();c;c=c.getAdjacentCaret())u.push(c.origin);return u})(t);(l.length>0||o.canBeEmpty()&&i(o,"last"))&&s.insert(e(o).splice(0,0,l))}return s}const ft=()=>new Map,su=t=>{const e=ft();return t.forEach((n,r)=>{e.set(r,n)}),e},tn=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},B2=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},z2=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},Bn=()=>new Set,ia=t=>t[t.length-1],j2=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},bn=Array.from,$2=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},ou=Array.isArray;class Oc{constructor(){this._observers=ft()}on(e,n){return tn(this._observers,e,Bn).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return bn((this._observers.get(e)||ft()).values()).forEach(r=>r(...n))}destroy(){this._observers=ft()}}class U2{constructor(){this._observers=ft()}on(e,n){tn(this._observers,e,Bn).add(n)}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return bn((this._observers.get(e)||ft()).values()).forEach(r=>r(...n))}destroy(){this._observers=ft()}}const xn=Math.floor,io=Math.abs,Nc=(t,e)=>t<e?t:e,kr=(t,e)=>t>e?t:e,W2=Math.pow,Oy=t=>t!==0?t<0:1/t<0,kh=1,_h=2,sa=4,oa=8,ts=32,gn=64,bt=128,ml=31,lu=63,nr=127,H2=2147483647,Ny=Number.MAX_SAFE_INTEGER,K2=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&xn(t)===t),V2=String.fromCharCode,q2=t=>t.toLowerCase(),G2=/^\s*/g,Y2=t=>t.replace(G2,""),J2=/([A-Z])/g,Sh=(t,e)=>Y2(t.replace(J2,n=>`${e}${q2(n)}`)),X2=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},ns=typeof TextEncoder<"u"?new TextEncoder:null,Z2=t=>ns.encode(t),Q2=ns?Z2:X2;let ji=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ji&&ji.decode(new Uint8Array).length===1&&(ji=null);class Ss{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const He=()=>new Ss,Lc=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},_e=t=>{const e=new Uint8Array(Lc(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},eD=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(kr(n,e)*2),t.cpos=0)},Oe=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},au=Oe,J=(t,e)=>{for(;e>nr;)Oe(t,bt|nr&e),e=xn(e/128);Oe(t,nr&e)},Mc=(t,e)=>{const n=Oy(e);for(n&&(e=-e),Oe(t,(e>lu?bt:0)|(n?gn:0)|lu&e),e=xn(e/64);e>0;)Oe(t,(e>nr?bt:0)|nr&e),e=xn(e/128)},uu=new Uint8Array(3e4),tD=uu.length/3,nD=(t,e)=>{if(e.length<tD){const n=ns.encodeInto(e,uu).written||0;J(t,n);for(let r=0;r<n;r++)Oe(t,uu[r])}else Ce(t,Q2(e))},rD=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;J(t,r);for(let i=0;i<r;i++)Oe(t,n.codePointAt(i))},rr=ns&&ns.encodeInto?nD:rD,yl=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=Nc(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(kr(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},Ce=(t,e)=>{J(t,e.byteLength),yl(t,e)},Pc=(t,e)=>{eD(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},iD=(t,e)=>Pc(t,4).setFloat32(0,e,!1),sD=(t,e)=>Pc(t,8).setFloat64(0,e,!1),oD=(t,e)=>Pc(t,8).setBigInt64(0,e,!1),Eh=new DataView(new ArrayBuffer(4)),lD=t=>(Eh.setFloat32(0,t),Eh.getFloat32(0)===t),rs=(t,e)=>{switch(typeof e){case"string":Oe(t,119),rr(t,e);break;case"number":K2(e)&&io(e)<=H2?(Oe(t,125),Mc(t,e)):lD(e)?(Oe(t,124),iD(t,e)):(Oe(t,123),sD(t,e));break;case"bigint":Oe(t,122),oD(t,e);break;case"object":if(e===null)Oe(t,126);else if(ou(e)){Oe(t,117),J(t,e.length);for(let n=0;n<e.length;n++)rs(t,e[n])}else if(e instanceof Uint8Array)Oe(t,116),Ce(t,e);else{Oe(t,118);const n=Object.keys(e);J(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];rr(t,i),rs(t,e[i])}}break;case"boolean":Oe(t,e?120:121);break;default:Oe(t,127)}};class vh extends Ss{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&J(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Ch=t=>{t.count>0&&(Mc(t.encoder,t.count===1?t.s:-t.s),t.count>1&&J(t.encoder,t.count-2))};class so{constructor(){this.encoder=new Ss,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Ch(this),this.count=1,this.s=e)}toUint8Array(){return Ch(this),_e(this.encoder)}}const Ah=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Mc(t.encoder,e),t.count>1&&J(t.encoder,t.count-2)}};class la{constructor(){this.encoder=new Ss,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Ah(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Ah(this),_e(this.encoder)}}class aD{constructor(){this.sarr=[],this.s="",this.lensE=new so}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Ss;return this.sarr.push(this.s),this.s="",rr(e,this.sarr.join("")),yl(e,this.lensE.toUint8Array()),_e(e)}}const zn=t=>new Error(t),Kt=()=>{throw zn("Method unimplemented")},Lt=()=>{throw zn("Unexpected case")},Ly=zn("Unexpected end of array"),My=zn("Integer out of Range");class bl{constructor(e){this.arr=e,this.pos=0}}const Vn=t=>new bl(t),uD=t=>t.pos!==t.arr.length,cD=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},We=t=>cD(t,Q(t)),ri=t=>t.arr[t.pos++],Q=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&nr)*n,n*=128,i<bt)return e;if(e>Ny)throw My}throw Ly},Rc=t=>{let e=t.arr[t.pos++],n=e&lu,r=64;const i=(e&gn)>0?-1:1;if((e&bt)===0)return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&nr)*r,r*=128,e<bt)return i*n;if(n>Ny)throw My}throw Ly},fD=t=>{let e=Q(t);if(e===0)return"";{let n=String.fromCodePoint(ri(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(ri(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},dD=t=>ji.decode(We(t)),Mn=ji?dD:fD,Bc=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},hD=t=>Bc(t,4).getFloat32(0,!1),pD=t=>Bc(t,8).getFloat64(0,!1),gD=t=>Bc(t,8).getBigInt64(0,!1),mD=[t=>{},t=>null,Rc,hD,pD,gD,t=>!1,t=>!0,Mn,t=>{const e=Q(t),n={};for(let r=0;r<e;r++){const i=Mn(t);n[i]=is(t)}return n},t=>{const e=Q(t),n=[];for(let r=0;r<e;r++)n.push(is(t));return n},We],is=t=>mD[127-ri(t)](t);class Th extends bl{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),uD(this)?this.count=Q(this)+1:this.count=-1),this.count--,this.s}}class oo extends bl{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=Rc(this);const e=Oy(this.s);this.count=1,e&&(this.s=-this.s,this.count=Q(this)+2)}return this.count--,this.s}}class aa extends bl{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Rc(this),n=e&1;this.diff=xn(e/2),this.count=1,n&&(this.count=Q(this)+2)}return this.s+=this.diff,this.count--,this.s}}class yD{constructor(e){this.decoder=new oo(e),this.str=Mn(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const bD=crypto.getRandomValues.bind(crypto),Py=()=>bD(new Uint32Array(1))[0],xD="10000000-1000-4000-8000"+-1e11,wD=()=>xD.replace(/[018]/g,t=>(t^Py()&15>>t/4).toString(16)),jn=Date.now,Dh=t=>new Promise(t);Promise.all.bind(Promise);const Ih=t=>t===void 0?null:t;class kD{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let Ry=new kD,zc=!0;try{typeof localStorage<"u"&&localStorage&&(Ry=localStorage,zc=!1)}catch{}const By=Ry,_D=t=>zc||addEventListener("storage",t),SD=t=>zc||removeEventListener("storage",t),ED=Object.assign,zy=Object.keys,vD=(t,e)=>{for(const n in t)e(t[n],n)},CD=(t,e)=>{const n=[];for(const r in t)n.push(e(t[r],r));return n},Fh=t=>zy(t).length,Oh=t=>zy(t).length,AD=t=>{for(const e in t)return!1;return!0},TD=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},jy=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),DD=(t,e)=>t===e||Oh(t)===Oh(e)&&TD(t,(n,r)=>(n!==void 0||jy(e,r))&&e[r]===n),ID=Object.freeze,$y=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&$y(t[e])}return ID(t)},Nh=Symbol("Equality"),jc=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&jc(t,e,n+1)}},FD=t=>t,$i=(t,e)=>{if(t===e)return!0;if(t==null||e==null||t.constructor!==e.constructor)return!1;if(t[Nh]!=null)return t[Nh](e);switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!$i(t.get(n),e.get(n)))return!1;break}case Object:if(Fh(t)!==Fh(e))return!1;for(const n in t)if(!jy(t,n)||!$i(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!$i(t[n],e[n]))return!1;break;default:return!1}return!0},OD=(t,e)=>e.includes(t);var Uy={};const $n=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Wy=typeof window<"u"&&typeof document<"u"&&!$n;let Pt;const ND=()=>{if(Pt===void 0)if($n){Pt=ft();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Pt.set(e,""),e=r):e!==null&&(Pt.set(e,r),e=null)}e!==null&&Pt.set(e,"")}else typeof location=="object"?(Pt=ft(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Pt.set(`--${Sh(e,"-")}`,n),Pt.set(`-${Sh(e,"-")}`,n)}})):Pt=ft();return Pt},cu=t=>ND().has(t),Mo=t=>Ih($n?Uy[t.toUpperCase().replaceAll("-","_")]:By.getItem(t)),Hy=t=>cu("--"+t)||Mo(t)!==null;Hy("production");const LD=$n&&OD(Uy.FORCE_COLOR,["true","1","2"]),MD=LD||!cu("--no-colors")&&!Hy("no-color")&&(!$n||process.stdout.isTTY)&&(!$n||cu("--color")||Mo("COLORTERM")!==null||(Mo("TERM")||"").includes("color")),Ky=t=>new Uint8Array(t),PD=(t,e,n)=>new Uint8Array(t,e,n),RD=t=>new Uint8Array(t),BD=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=V2(t[n]);return btoa(e)},zD=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),jD=t=>{const e=atob(t),n=Ky(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},$D=t=>{const e=Buffer.from(t,"base64");return PD(e.buffer,e.byteOffset,e.byteLength)},UD=Wy?BD:zD,WD=Wy?jD:$D,HD=t=>{const e=Ky(t.byteLength);return e.set(t),e};class KD{constructor(e,n){this.left=e,this.right=n}}const un=(t,e)=>new KD(t,e);typeof DOMParser<"u"&&new DOMParser;const VD=t=>B2(t,(e,n)=>`${n}:${e};`).join(""),En=Symbol,Vy=En(),qy=En(),qD=En(),GD=En(),YD=En(),Gy=En(),JD=En(),$c=En(),XD=En(),ZD=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const i=t[r];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const i=t[r];i instanceof Symbol||n.push(i)}return n},QD={[Vy]:un("font-weight","bold"),[qy]:un("font-weight","normal"),[qD]:un("color","blue"),[YD]:un("color","green"),[GD]:un("color","grey"),[Gy]:un("color","red"),[JD]:un("color","purple"),[$c]:un("color","orange"),[XD]:un("color","black")},eI=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[],r=ft();let i=[],s=0;for(;s<t.length;s++){const o=t[s],l=QD[o];if(l!==void 0)r.set(l.left,l.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const a=VD(r);s>0||a.length>0?(e.push("%c"+o),n.push(a)):e.push(o)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const o=t[s];o instanceof Symbol||i.push(o)}return i},Yy=MD?eI:ZD,tI=(...t)=>{console.log(...Yy(t)),Xy.forEach(e=>e.print(t))},Jy=(...t)=>{console.warn(...Yy(t)),t.unshift($c),Xy.forEach(e=>e.print(t))},Xy=Bn(),Zy=t=>({[Symbol.iterator](){return this},next:t}),nI=(t,e)=>Zy(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),ua=(t,e)=>Zy(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class Uc{constructor(e,n){this.clock=e,this.len=n}}class hi{constructor(){this.clients=new Map}}const ii=(t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);if(s!=null){const o=s[s.length-1],l=o.id.clock+o.length;for(let a=0,u=r[a];a<r.length&&u.clock<l;u=r[++a])fb(t,s,u.clock,u.len,n)}}),rI=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=xn((n+r)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;n=i+1}else r=i-1}return null},Es=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&rI(n,e.clock)!==null},Wc=t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=kr(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},fu=t=>{const e=new hi;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const s=r.slice();for(let o=n+1;o<t.length;o++)j2(s,t[o].clients.get(i)||[]);e.clients.set(i,s)}});return Wc(e),e},ss=(t,e,n,r)=>{tn(t.clients,e,()=>[]).push(new Uc(n,r))},iI=()=>new hi,sI=t=>{const e=iI();return t.clients.forEach((n,r)=>{const i=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.deleted){const l=o.id.clock;let a=o.length;if(s+1<n.length)for(let u=n[s+1];s+1<n.length&&u.deleted;u=n[++s+1])a+=u.length;i.push(new Uc(l,a))}}i.length>0&&e.clients.set(r,i)}),e},pi=(t,e)=>{J(t.restEncoder,e.clients.size),bn(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),J(t.restEncoder,n);const i=r.length;J(t.restEncoder,i);for(let s=0;s<i;s++){const o=r[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},Hc=t=>{const e=new hi,n=Q(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=Q(t.restDecoder),s=Q(t.restDecoder);if(s>0){const o=tn(e.clients,i,()=>[]);for(let l=0;l<s;l++)o.push(new Uc(t.readDsClock(),t.readDsLen()))}}return e},Lh=(t,e,n)=>{const r=new hi,i=Q(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const o=Q(t.restDecoder),l=Q(t.restDecoder),a=n.clients.get(o)||[],u=Ae(n,o);for(let c=0;c<l;c++){const f=t.readDsClock(),d=f+t.readDsLen();if(f<u){u<d&&ss(r,o,u,d-u);let h=Zt(a,f),p=a[h];for(!p.deleted&&p.id.clock<f&&(a.splice(h+1,0,Uo(e,p,f-p.id.clock)),h++);h<a.length&&(p=a[h++],p.id.clock<d);)p.deleted||(d<p.id.clock+p.length&&a.splice(h,0,Uo(e,p,d-p.id.clock)),p.delete(e))}else ss(r,o,f,d-f)}}if(r.clients.size>0){const s=new hr;return J(s.restEncoder,0),pi(s,r),s.toUint8Array()}return null},Qy=Py;class Xt extends Oc{constructor({guid:e=wD(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:l=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=Qy(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new ub,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Dh(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});const a=()=>Dh(u=>{const c=f=>{(f===void 0||f===!0)&&(this.off("sync",c),u())};this.on("sync",c)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=a()),this.isSynced=u===void 0||u===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=a()}load(){const e=this._item;e!==null&&!this.shouldLoad&&be(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(bn(this.subdocs).map(e=>e.guid))}transact(e,n=null){return be(this,e,n)}get(e,n=Me){const r=tn(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==Me&&i!==n)if(i===Me){const s=new n;s._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=r._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,Vr)}getText(e=""){return this.get(e,oi)}getMap(e=""){return this.get(e,Je)}getXmlElement(e=""){return this.get(e,wn)}getXmlFragment(e=""){return this.get(e,pr)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,bn(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Xt({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,be(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class eb{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return Q(this.restDecoder)}readDsLen(){return Q(this.restDecoder)}}class tb extends eb{readLeftID(){return re(Q(this.restDecoder),Q(this.restDecoder))}readRightID(){return re(Q(this.restDecoder),Q(this.restDecoder))}readClient(){return Q(this.restDecoder)}readInfo(){return ri(this.restDecoder)}readString(){return Mn(this.restDecoder)}readParentInfo(){return Q(this.restDecoder)===1}readTypeRef(){return Q(this.restDecoder)}readLen(){return Q(this.restDecoder)}readAny(){return is(this.restDecoder)}readBuf(){return HD(We(this.restDecoder))}readJSON(){return JSON.parse(Mn(this.restDecoder))}readKey(){return Mn(this.restDecoder)}}class oI{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Q(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Q(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class si extends oI{constructor(e){super(e),this.keys=[],Q(e),this.keyClockDecoder=new aa(We(e)),this.clientDecoder=new oo(We(e)),this.leftClockDecoder=new aa(We(e)),this.rightClockDecoder=new aa(We(e)),this.infoDecoder=new Th(We(e),ri),this.stringDecoder=new yD(We(e)),this.parentInfoDecoder=new Th(We(e),ri),this.typeRefDecoder=new oo(We(e)),this.lenDecoder=new oo(We(e))}readLeftID(){return new Hr(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Hr(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return is(this.restDecoder)}readBuf(){return We(this.restDecoder)}readJSON(){return is(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class nb{constructor(){this.restEncoder=He()}toUint8Array(){return _e(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){J(this.restEncoder,e)}writeDsLen(e){J(this.restEncoder,e)}}class vs extends nb{writeLeftID(e){J(this.restEncoder,e.client),J(this.restEncoder,e.clock)}writeRightID(e){J(this.restEncoder,e.client),J(this.restEncoder,e.clock)}writeClient(e){J(this.restEncoder,e)}writeInfo(e){au(this.restEncoder,e)}writeString(e){rr(this.restEncoder,e)}writeParentInfo(e){J(this.restEncoder,e?1:0)}writeTypeRef(e){J(this.restEncoder,e)}writeLen(e){J(this.restEncoder,e)}writeAny(e){rs(this.restEncoder,e)}writeBuf(e){Ce(this.restEncoder,e)}writeJSON(e){rr(this.restEncoder,JSON.stringify(e))}writeKey(e){rr(this.restEncoder,e)}}class rb{constructor(){this.restEncoder=He(),this.dsCurrVal=0}toUint8Array(){return _e(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,J(this.restEncoder,n)}writeDsLen(e){e===0&&Lt(),J(this.restEncoder,e-1),this.dsCurrVal+=e}}class hr extends rb{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new la,this.clientEncoder=new so,this.leftClockEncoder=new la,this.rightClockEncoder=new la,this.infoEncoder=new vh(au),this.stringEncoder=new aD,this.parentInfoEncoder=new vh(au),this.typeRefEncoder=new so,this.lenEncoder=new so}toUint8Array(){const e=He();return J(e,0),Ce(e,this.keyClockEncoder.toUint8Array()),Ce(e,this.clientEncoder.toUint8Array()),Ce(e,this.leftClockEncoder.toUint8Array()),Ce(e,this.rightClockEncoder.toUint8Array()),Ce(e,_e(this.infoEncoder)),Ce(e,this.stringEncoder.toUint8Array()),Ce(e,_e(this.parentInfoEncoder)),Ce(e,this.typeRefEncoder.toUint8Array()),Ce(e,this.lenEncoder.toUint8Array()),yl(e,_e(this.restEncoder)),_e(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){rs(this.restEncoder,e)}writeBuf(e){Ce(this.restEncoder,e)}writeJSON(e){rs(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const lI=(t,e,n,r)=>{r=kr(r,e[0].id.clock);const i=Zt(e,r);J(t.restEncoder,e.length-i),t.writeClient(n),J(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},Kc=(t,e,n)=>{const r=new Map;n.forEach((i,s)=>{Ae(e,s)>i&&r.set(s,i)}),xl(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),J(t.restEncoder,r.size),bn(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{lI(t,e.clients.get(i),i,s)})},aI=(t,e)=>{const n=ft(),r=Q(t.restDecoder);for(let i=0;i<r;i++){const s=Q(t.restDecoder),o=new Array(s),l=t.readClient();let a=Q(t.restDecoder);n.set(l,{i:0,refs:o});for(let u=0;u<s;u++){const c=t.readInfo();switch(ml&c){case 0:{const f=t.readLen();o[u]=new wt(re(l,a),f),a+=f;break}case 10:{const f=Q(t.restDecoder);o[u]=new kt(re(l,a),f),a+=f;break}default:{const f=(c&(gn|bt))===0,d=new xe(re(l,a),null,(c&bt)===bt?t.readLeftID():null,null,(c&gn)===gn?t.readRightID():null,f?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,f&&(c&ts)===ts?t.readString():null,Lb(t,c));o[u]=d,a+=d.length}}}}return n},uI=(t,e,n)=>{const r=[];let i=bn(n.keys()).sort((h,p)=>h-p);if(i.length===0)return null;const s=()=>{if(i.length===0)return null;let h=n.get(i[i.length-1]);for(;h.refs.length===h.i;)if(i.pop(),i.length>0)h=n.get(i[i.length-1]);else return null;return h};let o=s();if(o===null)return null;const l=new ub,a=new Map,u=(h,p)=>{const g=a.get(h);(g==null||g>p)&&a.set(h,p)};let c=o.refs[o.i++];const f=new Map,d=()=>{for(const h of r){const p=h.id.client,g=n.get(p);g?(g.i--,l.clients.set(p,g.refs.slice(g.i)),n.delete(p),g.i=0,g.refs=[]):l.clients.set(p,[h]),i=i.filter(m=>m!==p)}r.length=0};for(;;){if(c.constructor!==kt){const p=tn(f,c.id.client,()=>Ae(e,c.id.client))-c.id.clock;if(p<0)r.push(c),u(c.id.client,c.id.clock-1),d();else{const g=c.getMissing(t,e);if(g!==null){r.push(c);const m=n.get(g)||{refs:[],i:0};if(m.refs.length===m.i)u(g,Ae(e,g)),d();else{c=m.refs[m.i++];continue}}else(p===0||p<c.length)&&(c.integrate(t,p),f.set(c.id.client,c.id.clock+c.length))}}if(r.length>0)c=r.pop();else if(o!==null&&o.i<o.refs.length)c=o.refs[o.i++];else{if(o=s(),o===null)break;c=o.refs[o.i++]}}if(l.clients.size>0){const h=new hr;return Kc(h,l,new Map),J(h.restEncoder,0),{missing:a,update:h.toUint8Array()}}return null},cI=(t,e)=>Kc(t,e.doc.store,e.beforeState),fI=(t,e,n,r=new si(t))=>be(e,i=>{i.local=!1;let s=!1;const o=i.doc,l=o.store,a=aI(r,o),u=uI(i,l,a),c=l.pendingStructs;if(c){for(const[d,h]of c.missing)if(h<Ae(l,d)){s=!0;break}if(u){for(const[d,h]of u.missing){const p=c.missing.get(d);(p==null||p>h)&&c.missing.set(d,h)}c.update=Ro([c.update,u.update])}}else l.pendingStructs=u;const f=Lh(r,i,l);if(l.pendingDs){const d=new si(Vn(l.pendingDs));Q(d.restDecoder);const h=Lh(d,i,l);f&&h?l.pendingDs=Ro([f,h]):l.pendingDs=f||h}else l.pendingDs=f;if(s){const d=l.pendingStructs.update;l.pendingStructs=null,ib(i.doc,d)}},n,!1),ib=(t,e,n,r=si)=>{const i=Vn(e);fI(i,t,n,new r(i))},dI=(t,e,n)=>ib(t,e,n,tb),hI=(t,e,n=new Map)=>{Kc(t,e.store,n),pi(t,sI(e.store))},pI=(t,e=new Uint8Array([0]),n=new hr)=>{const r=sb(e);hI(n,t,r);const i=[n.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(RI(t.store.pendingStructs.update,e)),i.length>1){if(n.constructor===vs)return MI(i.map((s,o)=>o===0?s:zI(s)));if(n.constructor===hr)return Ro(i)}return i[0]},gI=(t,e)=>pI(t,e,new vs),mI=t=>{const e=new Map,n=Q(t.restDecoder);for(let r=0;r<n;r++){const i=Q(t.restDecoder),s=Q(t.restDecoder);e.set(i,s)}return e},sb=t=>mI(new eb(Vn(t))),ob=(t,e)=>(J(t.restEncoder,e.size),bn(e.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{J(t.restEncoder,n),J(t.restEncoder,r)}),t),yI=(t,e)=>ob(t,xl(e.store)),bI=(t,e=new rb)=>(t instanceof Map?ob(e,t):yI(e,t),e.toUint8Array()),xI=t=>bI(t,new nb);class wI{constructor(){this.l=[]}}const Mh=()=>new wI,Ph=(t,e)=>t.l.push(e),Rh=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},lb=(t,e,n)=>jc(t.l,[e,n]);class Hr{constructor(e,n){this.client=e,this.clock=n}}const Rr=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,re=(t,e)=>new Hr(t,e),ab=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Lt()},Po=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class kI{constructor(e,n,r,i=0){this.type=e,this.tname=n,this.item=r,this.assoc=i}}class _I{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const SI=(t,e,n=0)=>new _I(t,e,n),Hs=(t,e,n)=>{let r=null,i=null;return t._item===null?i=ab(t):r=re(t._item.id.client,t._item.id.clock),new kI(r,i,e,n)},EI=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return Hs(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return Hs(t,re(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return Hs(t,r.lastId,n);r=r.right}return Hs(t,null,n)},vI=(t,e)=>{const n=Kr(t,e),r=e.clock-n.id.clock;return{item:n,diff:r}},CI=(t,e,n=!0)=>{const r=e.store,i=t.item,s=t.type,o=t.tname,l=t.assoc;let a=null,u=0;if(i!==null){if(Ae(r,i.client)<=i.clock)return null;const c=n?mu(r,i):vI(r,i),f=c.item;if(!(f instanceof xe))return null;if(a=f.parent,a._item===null||!a._item.deleted){u=f.deleted||!f.countable?0:c.diff+(l>=0?0:1);let d=f.left;for(;d!==null;)!d.deleted&&d.countable&&(u+=d.length),d=d.left}}else{if(o!==null)a=e.get(o);else if(s!==null){if(Ae(r,s.client)<=s.clock)return null;const{item:c}=n?mu(r,s):{item:Kr(r,s)};if(c instanceof xe&&c.content instanceof nn)a=c.content.type;else return null}else throw Lt();l>=0?u=a._length:u=0}return SI(a,u,t.assoc)},AI=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Rr(t.item,e.item)&&Rr(t.type,e.type)&&t.assoc===e.assoc,Lr=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Es(e.ds,t.id),du=(t,e)=>{const n=tn(t.meta,du,Bn),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<Ae(r,s)&&at(t,re(s,i))}),ii(t,e.ds,i=>{}),n.add(e))};class ub{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const xl=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},Ae=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},cb=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw Lt()}n.push(e)},Zt=(t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let o=xn(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[o],s=i.id.clock,s<=e){if(e<s+i.length)return o;n=o+1}else r=o-1;o=xn((n+r)/2)}throw Lt()},TI=(t,e)=>{const n=t.clients.get(e.client);return n[Zt(n,e.clock)]},Kr=TI,hu=(t,e,n)=>{const r=Zt(e,n),i=e[r];return i.id.clock<n&&i instanceof xe?(e.splice(r+1,0,Uo(t,i,n-i.id.clock)),r+1):r},at=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[hu(t,n,e.clock)]},Bh=(t,e,n)=>{const r=e.clients.get(n.client),i=Zt(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==wt&&r.splice(i+1,0,Uo(t,s,n.clock-s.id.clock+1)),s},DI=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Zt(r,e.id.clock)]=n},fb=(t,e,n,r,i)=>{if(r===0)return;const s=n+r;let o=hu(t,e,n),l;do l=e[o++],s<l.id.clock+l.length&&hu(t,e,s),i(l);while(o<e.length&&e[o].id.clock<s)};class II{constructor(e,n,r){this.doc=e,this.deleteSet=new hi,this.beforeState=xl(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const zh=(t,e)=>e.deleteSet.clients.size===0&&!z2(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(Wc(e.deleteSet),cI(t,e),pi(t,e.deleteSet),!0),jh=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&tn(t.changed,e,Bn).add(n)},lo=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof xe&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},FI=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let o=i.length-1;o>=0;o--){const l=i[o],a=l.clock+l.len;for(let u=Zt(s,l.clock),c=s[u];u<s.length&&c.id.clock<a;c=s[++u]){const f=s[u];if(l.clock+l.len<=f.id.clock)break;f instanceof xe&&f.deleted&&!f.keep&&n(f)&&f.gc(e,!1)}}}},OI=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const o=n[s],l=Nc(i.length-1,1+Zt(i,o.clock+o.len-1));for(let a=l,u=i[a];a>0&&u.id.clock>=o.clock;u=i[a])a-=1+lo(i,a)}})},db=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,o=n._mergeStructs;try{Wc(s),n.afterState=xl(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const l=[];n.changed.forEach((a,u)=>l.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(n,a)})),l.push(()=>{n.changedParentTypes.forEach((a,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(a=a.filter(c=>c.target._item===null||!c.target._item.deleted),a.forEach(c=>{c.currentTarget=u,c._path=null}),a.sort((c,f)=>c.path.length-f.path.length),lb(u._dEH,a,n))})}),l.push(()=>r.emit("afterTransaction",[n,r])),jc(l,[]),n._needFormattingCleanup&&ZI(n)}finally{r.gc&&FI(s,i,r.gcFilter),OI(s,i),n.afterState.forEach((c,f)=>{const d=n.beforeState.get(f)||0;if(d!==c){const h=i.clients.get(f),p=kr(Zt(h,d),1);for(let g=h.length-1;g>=p;)g-=1+lo(h,g)}});for(let c=o.length-1;c>=0;c--){const{client:f,clock:d}=o[c].id,h=i.clients.get(f),p=Zt(h,d);p+1<h.length&&lo(h,p+1)>1||p>0&&lo(h,p)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(tI($c,Vy,"[yjs] ",qy,Gy,"Changed the client-id because another client seems to be using it."),r.clientID=Qy()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const c=new vs;zh(c,n)&&r.emit("update",[c.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const c=new hr;zh(c,n)&&r.emit("updateV2",[c.toUint8Array(),n.origin,r,n])}const{subdocsAdded:l,subdocsLoaded:a,subdocsRemoved:u}=n;(l.size>0||u.size>0||a.size>0)&&(l.forEach(c=>{c.clientID=r.clientID,c.collectionid==null&&(c.collectionid=r.collectionid),r.subdocs.add(c)}),u.forEach(c=>r.subdocs.delete(c)),r.emit("subdocs",[{loaded:a,added:l,removed:u},r,n]),u.forEach(c=>c.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):db(t,e+1)}}},be=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new II(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const l=t._transaction===i[0];t._transaction=null,l&&db(i,0)}}return o};class NI{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const $h=(t,e,n)=>{ii(t,n.deletions,r=>{r instanceof xe&&e.scope.some(i=>i===t.doc||Po(i,r))&&Qc(r,!1)})},Uh=(t,e,n)=>{let r=null;const i=t.doc,s=t.scope;be(i,l=>{for(;e.length>0&&t.currStackItem===null;){const a=i.store,u=e.pop(),c=new Set,f=[];let d=!1;ii(l,u.insertions,h=>{if(h instanceof xe){if(h.redone!==null){let{item:p,diff:g}=mu(a,h.id);g>0&&(p=at(l,re(p.id.client,p.id.clock+g))),h=p}!h.deleted&&s.some(p=>p===l.doc||Po(p,h))&&f.push(h)}}),ii(l,u.deletions,h=>{h instanceof xe&&s.some(p=>p===l.doc||Po(p,h))&&!Es(u.insertions,h.id)&&c.add(h)}),c.forEach(h=>{d=Nb(l,h,c,u.insertions,t.ignoreRemoteMapChanges,t)!==null||d});for(let h=f.length-1;h>=0;h--){const p=f[h];t.deleteFilter(p)&&(p.delete(l),d=!0)}t.currStackItem=d?u:null}l.changed.forEach((a,u)=>{a.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),r=l},t);const o=t.currStackItem;if(o!=null){const l=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:l,origin:t},t]),t.currStackItem=null}return o};class hb extends Oc{constructor(e,{captureTimeout:n=500,captureTransaction:r=a=>!0,deleteFilter:i=()=>!0,trackedOrigins:s=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:l=ou(e)?e[0].doc:e instanceof Xt?e:e.doc}={}){super(),this.scope=[],this.doc=l,this.addToScope(e),this.deleteFilter=i,s.add(this),this.trackedOrigins=s,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=a=>{if(!this.captureTransaction(a)||!this.scope.some(m=>a.changedParentTypes.has(m)||m===this.doc)||!this.trackedOrigins.has(a.origin)&&(!a.origin||!this.trackedOrigins.has(a.origin.constructor)))return;const u=this.undoing,c=this.redoing,f=u?this.redoStack:this.undoStack;u?this.stopCapturing():c||this.clear(!1,!0);const d=new hi;a.afterState.forEach((m,y)=>{const b=a.beforeState.get(y)||0,x=m-b;x>0&&ss(d,y,b,x)});const h=jn();let p=!1;if(this.lastChange>0&&h-this.lastChange<this.captureTimeout&&f.length>0&&!u&&!c){const m=f[f.length-1];m.deletions=fu([m.deletions,a.deleteSet]),m.insertions=fu([m.insertions,d])}else f.push(new NI(a.deleteSet,d)),p=!0;!u&&!c&&(this.lastChange=h),ii(a,a.deleteSet,m=>{m instanceof xe&&this.scope.some(y=>y===a.doc||Po(y,m))&&Qc(m,!0)});const g=[{stackItem:f[f.length-1],origin:a.origin,type:u?"redo":"undo",changedParentTypes:a.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=ou(e)?e:[e],e.forEach(r=>{n.has(r)||(n.add(r),(r instanceof Me?r.doc!==this.doc:r!==this.doc)&&Jy("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(i=>$h(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>$h(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=Uh(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=Uh(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*LI(t){const e=Q(t.restDecoder);for(let n=0;n<e;n++){const r=Q(t.restDecoder),i=t.readClient();let s=Q(t.restDecoder);for(let o=0;o<r;o++){const l=t.readInfo();if(l===10){const a=Q(t.restDecoder);yield new kt(re(i,s),a),s+=a}else if((ml&l)!==0){const a=(l&(gn|bt))===0,u=new xe(re(i,s),null,(l&bt)===bt?t.readLeftID():null,null,(l&gn)===gn?t.readRightID():null,a?t.readParentInfo()?t.readString():t.readLeftID():null,a&&(l&ts)===ts?t.readString():null,Lb(t,l));yield u,s+=u.length}else{const a=t.readLen();yield new wt(re(i,s),a),s+=a}}}}class Vc{constructor(e,n){this.gen=LI(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===kt);return this.curr}}class qc{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const MI=t=>Ro(t,tb,vs),PI=(t,e)=>{if(t.constructor===wt){const{client:n,clock:r}=t.id;return new wt(re(n,r+e),t.length-e)}else if(t.constructor===kt){const{client:n,clock:r}=t.id;return new kt(re(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new xe(re(r,i+e),null,re(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},Ro=(t,e=si,n=hr)=>{if(t.length===1)return t[0];const r=t.map(c=>new e(Vn(c)));let i=r.map(c=>new Vc(c,!0)),s=null;const o=new n,l=new qc(o);for(;i=i.filter(d=>d.curr!==null),i.sort((d,h)=>{if(d.curr.id.client===h.curr.id.client){const p=d.curr.id.clock-h.curr.id.clock;return p===0?d.curr.constructor===h.curr.constructor?0:d.curr.constructor===kt?1:-1:p}else return h.curr.id.client-d.curr.id.client}),i.length!==0;){const c=i[0],f=c.curr.id.client;if(s!==null){let d=c.curr,h=!1;for(;d!==null&&d.id.clock+d.length<=s.struct.id.clock+s.struct.length&&d.id.client>=s.struct.id.client;)d=c.next(),h=!0;if(d===null||d.id.client!==f||h&&d.id.clock>s.struct.id.clock+s.struct.length)continue;if(f!==s.struct.id.client)Tn(l,s.struct,s.offset),s={struct:d,offset:0},c.next();else if(s.struct.id.clock+s.struct.length<d.id.clock)if(s.struct.constructor===kt)s.struct.length=d.id.clock+d.length-s.struct.id.clock;else{Tn(l,s.struct,s.offset);const p=d.id.clock-s.struct.id.clock-s.struct.length;s={struct:new kt(re(f,s.struct.id.clock+s.struct.length),p),offset:0}}else{const p=s.struct.id.clock+s.struct.length-d.id.clock;p>0&&(s.struct.constructor===kt?s.struct.length-=p:d=PI(d,p)),s.struct.mergeWith(d)||(Tn(l,s.struct,s.offset),s={struct:d,offset:0},c.next())}}else s={struct:c.curr,offset:0},c.next();for(let d=c.curr;d!==null&&d.id.client===f&&d.id.clock===s.struct.id.clock+s.struct.length&&d.constructor!==kt;d=c.next())Tn(l,s.struct,s.offset),s={struct:d,offset:0}}s!==null&&(Tn(l,s.struct,s.offset),s=null),Gc(l);const a=r.map(c=>Hc(c)),u=fu(a);return pi(o,u),o.toUint8Array()},RI=(t,e,n=si,r=hr)=>{const i=sb(e),s=new r,o=new qc(s),l=new n(Vn(t)),a=new Vc(l,!1);for(;a.curr;){const c=a.curr,f=c.id.client,d=i.get(f)||0;if(a.curr.constructor===kt){a.next();continue}if(c.id.clock+c.length>d)for(Tn(o,c,kr(d-c.id.clock,0)),a.next();a.curr&&a.curr.id.client===f;)Tn(o,a.curr,0),a.next();else for(;a.curr&&a.curr.id.client===f&&a.curr.id.clock+a.curr.length<=d;)a.next()}Gc(o);const u=Hc(l);return pi(s,u),s.toUint8Array()},pb=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:_e(t.encoder.restEncoder)}),t.encoder.restEncoder=He(),t.written=0)},Tn=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&pb(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),J(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Gc=t=>{pb(t);const e=t.encoder.restEncoder;J(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];J(e,r.written),yl(e,r.restEncoder)}},BI=(t,e,n,r)=>{const i=new n(Vn(t)),s=new Vc(i,!1),o=new r,l=new qc(o);for(let u=s.curr;u!==null;u=s.next())Tn(l,e(u),0);Gc(l);const a=Hc(i);return pi(o,a),o.toUint8Array()},zI=t=>BI(t,FD,si,vs),Wh="You must not compute changes after the event-handler fired.";class wl{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=jI(this.currentTarget,this.target))}deletes(e){return Es(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw zn(Wh);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let o,l;if(this.adds(s)){let a=s.left;for(;a!==null&&this.adds(a);)a=a.left;if(this.deletes(s))if(a!==null&&this.deletes(a))o="delete",l=ia(a.content.getContent());else return;else a!==null&&this.deletes(a)?(o="update",l=ia(a.content.getContent())):(o="add",l=void 0)}else if(this.deletes(s))o="delete",l=ia(s.content.getContent());else return;e.set(i,{action:o,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw zn(Wh);const n=this.target,r=Bn(),i=Bn(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const a=()=>{l&&s.push(l)};for(let u=n._start;u!==null;u=u.right)u.deleted?this.deletes(u)&&!this.adds(u)&&((l===null||l.delete===void 0)&&(a(),l={delete:0}),l.delete+=u.length,i.add(u)):this.adds(u)?((l===null||l.insert===void 0)&&(a(),l={insert:[]}),l.insert=l.insert.concat(u.content.getContent()),r.add(u)):((l===null||l.retain===void 0)&&(a(),l={retain:0}),l.retain+=u.length);l!==null&&l.retain===void 0&&a()}this._changes=e}return e}}const jI=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},Ge=()=>{Jy("Invalid access: Add Yjs type to a document before reading data.")},gb=80;let Yc=0;class $I{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Yc++}}const UI=t=>{t.timestamp=Yc++},mb=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Yc++},WI=(t,e,n)=>{if(t.length>=gb){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return mb(r,e,n),r}else{const r=new $I(e,n);return t.push(r),r}},kl=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>io(e-s.index)<io(e-o.index)?s:o);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,UI(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&io(n.index-i)<r.parent.length/gb?(mb(n,r,i),n):WI(t._searchMarker,r,i)},os=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=kr(e,i.index+n))}},_l=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;tn(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;lb(r._eH,n,e)};class Me{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Mh(),this._dEH=Mh(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Kt()}clone(){throw Kt()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Ph(this._eH,e)}observeDeep(e){Ph(this._dEH,e)}unobserve(e){Rh(this._eH,e)}unobserveDeep(e){Rh(this._dEH,e)}toJSON(){}}const yb=(t,e,n)=>{t.doc??Ge(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let l=e;l<o.length&&r>0;l++)i.push(o[l]),r--;e=0}}s=s.right}return i},bb=t=>{t.doc??Ge();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},ls=(t,e)=>{let n=0,r=t._start;for(t.doc??Ge();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},xb=(t,e)=>{const n=[];return ls(t,(r,i)=>{n.push(e(r,i,t))}),n},HI=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},wb=(t,e)=>{t.doc??Ge();const n=kl(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},Bo=(t,e,n,r)=>{let i=n;const s=t.doc,o=s.clientID,l=s.store,a=n===null?e._start:n.right;let u=[];const c=()=>{u.length>0&&(i=new xe(re(o,Ae(l,o)),i,i&&i.lastId,a,a&&a.id,e,null,new gr(u)),i.integrate(t,0),u=[])};r.forEach(f=>{if(f===null)u.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(f);break;default:switch(c(),f.constructor){case Uint8Array:case ArrayBuffer:i=new xe(re(o,Ae(l,o)),i,i&&i.lastId,a,a&&a.id,e,null,new Cs(new Uint8Array(f))),i.integrate(t,0);break;case Xt:i=new xe(re(o,Ae(l,o)),i,i&&i.lastId,a,a&&a.id,e,null,new As(f)),i.integrate(t,0);break;default:if(f instanceof Me)i=new xe(re(o,Ae(l,o)),i,i&&i.lastId,a,a&&a.id,e,null,new nn(f)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),c()},kb=()=>zn("Length exceeded!"),_b=(t,e,n,r)=>{if(n>e._length)throw kb();if(n===0)return e._searchMarker&&os(e._searchMarker,n,r.length),Bo(t,e,null,r);const i=n,s=kl(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&at(t,re(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&os(e._searchMarker,i,r.length),Bo(t,e,o,r)},KI=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return Bo(t,e,i,n)},Sb=(t,e,n,r)=>{if(r===0)return;const i=n,s=r,o=kl(e,n);let l=e._start;for(o!==null&&(l=o.p,n-=o.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&at(t,re(l.id.client,l.id.clock+n)),n-=l.length);for(;r>0&&l!==null;)l.deleted||(r<l.length&&at(t,re(l.id.client,l.id.clock+r)),l.delete(t),r-=l.length),l=l.right;if(r>0)throw kb();e._searchMarker&&os(e._searchMarker,i,-s+r)},zo=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},Jc=(t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,o=s.clientID;let l;if(r==null)l=new gr([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:l=new gr([r]);break;case Uint8Array:l=new Cs(r);break;case Xt:l=new As(r);break;default:if(r instanceof Me)l=new nn(r);else throw new Error("Unexpected content type")}new xe(re(o,Ae(s.store,o)),i,i&&i.lastId,null,null,e,n,l).integrate(t,0)},Xc=(t,e)=>{t.doc??Ge();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Eb=t=>{const e={};return t.doc??Ge(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},vb=(t,e)=>{t.doc??Ge();const n=t._map.get(e);return n!==void 0&&!n.deleted},VI=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&Lr(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},Ks=t=>(t.doc??Ge(),nI(t._map.entries(),e=>!e[1].deleted));class qI extends wl{}class Vr extends Me{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Vr;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Vr}clone(){const e=new Vr;return e.insert(0,this.toArray().map(n=>n instanceof Me?n.clone():n)),e}get length(){return this.doc??Ge(),this._length}_callObserver(e,n){super._callObserver(e,n),_l(this,e,new qI(this,e))}insert(e,n){this.doc!==null?be(this.doc,r=>{_b(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?be(this.doc,n=>{KI(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?be(this.doc,r=>{Sb(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return wb(this,e)}toArray(){return bb(this)}slice(e=0,n=this.length){return yb(this,e,n)}toJSON(){return this.map(e=>e instanceof Me?e.toJSON():e)}map(e){return xb(this,e)}forEach(e){ls(this,e)}[Symbol.iterator](){return HI(this)}_write(e){e.writeTypeRef(gF)}}const GI=t=>new Vr;class pu extends wl{constructor(e,n,r){super(e,n),this.keysChanged=r}}class Je extends Me{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new Je}clone(){const e=new Je;return this.forEach((n,r)=>{e.set(r,n instanceof Me?n.clone():n)}),e}_callObserver(e,n){_l(this,e,new pu(this,e,n))}toJSON(){this.doc??Ge();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof Me?i.toJSON():i}}),e}get size(){return[...Ks(this)].length}keys(){return ua(Ks(this),e=>e[0])}values(){return ua(Ks(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return ua(Ks(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Ge(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?be(this.doc,n=>{zo(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?be(this.doc,r=>{Jc(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Xc(this,e)}has(e){return vb(this,e)}clear(){this.doc!==null?be(this.doc,e=>{this.forEach(function(n,r,i){zo(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(mF)}}const YI=t=>new Je,Nn=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&DD(t,e);class gu{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&Lt(),this.right.content.constructor){case Fe:this.right.deleted||gi(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Hh=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Fe:e.right.deleted||gi(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&at(t,re(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Vs=(t,e,n,r)=>{const i=new Map,s=r?kl(e,n):null;if(s){const o=new gu(s.p.left,s.p,s.index,i);return Hh(t,o,n-s.index)}else{const o=new gu(null,e._start,0,i);return Hh(t,o,n)}},Cb=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Fe&&Nn(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((o,l)=>{const a=n.left,u=n.right,c=new xe(re(s,Ae(i.store,s)),a,a&&a.lastId,u,u&&u.id,e,null,new Fe(l,o));c.integrate(t,0),n.right=c,n.forward()})},gi=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},Ab=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Fe&&Nn(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},Tb=(t,e,n,r)=>{const i=t.doc,s=i.clientID,o=new Map;for(const l in r){const a=r[l],u=n.currentAttributes.get(l)??null;if(!Nn(u,a)){o.set(l,u);const{left:c,right:f}=n;n.right=new xe(re(s,Ae(i.store,s)),c,c&&c.lastId,f,f&&f.id,e,null,new Fe(l,a)),n.right.integrate(t,0),n.forward()}}return o},ca=(t,e,n,r,i)=>{n.currentAttributes.forEach((d,h)=>{i[h]===void 0&&(i[h]=null)});const s=t.doc,o=s.clientID;Ab(n,i);const l=Tb(t,e,n,i),a=r.constructor===String?new Qt(r):r instanceof Me?new nn(r):new _r(r);let{left:u,right:c,index:f}=n;e._searchMarker&&os(e._searchMarker,n.index,a.getLength()),c=new xe(re(o,Ae(s.store,o)),u,u&&u.lastId,c,c&&c.id,e,null,a),c.integrate(t,0),n.right=c,n.index=f,n.forward(),Cb(t,e,n,l)},Kh=(t,e,n,r,i)=>{const s=t.doc,o=s.clientID;Ab(n,i);const l=Tb(t,e,n,i);e:for(;n.right!==null&&(r>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Fe));){if(!n.right.deleted)switch(n.right.content.constructor){case Fe:{const{key:a,value:u}=n.right.content,c=i[a];if(c!==void 0){if(Nn(c,u))l.delete(a);else{if(r===0)break e;l.set(a,u)}n.right.delete(t)}else n.currentAttributes.set(a,u);break}default:r<n.right.length&&at(t,re(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let a="";for(;r>0;r--)a+=`
`;n.right=new xe(re(o,Ae(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Qt(a)),n.right.integrate(t,0),n.forward()}Cb(t,e,n,l)},Db=(t,e,n,r,i)=>{let s=e;const o=ft();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Fe){const u=s.content;o.set(u.key,u)}s=s.right}let l=0,a=!1;for(;e!==s;){if(n===e&&(a=!0),!e.deleted){const u=e.content;switch(u.constructor){case Fe:{const{key:c,value:f}=u,d=r.get(c)??null;(o.get(c)!==u||d===f)&&(e.delete(t),l++,!a&&(i.get(c)??null)===f&&d!==f&&(d===null?i.delete(c):i.set(c,d))),!a&&!e.deleted&&gi(i,u);break}}}e=e.right}return l},JI=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Fe){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},XI=t=>{let e=0;return be(t.doc,n=>{let r=t._start,i=t._start,s=ft();const o=su(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Fe:gi(o,i.content);break;default:e+=Db(n,r,i,s,o),s=su(o),r=i;break}i=i.right}}),e},ZI=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&fb(t,n.store.clients.get(r),s,i,o=>{!o.deleted&&o.content.constructor===Fe&&o.constructor!==wt&&e.add(o.parent)})}be(n,r=>{ii(t,t.deleteSet,i=>{if(i instanceof wt||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===Fe?e.add(s):JI(r,i)});for(const i of e)XI(i)})},Vh=(t,e,n)=>{const r=n,i=su(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case nn:case _r:case Qt:n<e.right.length&&at(t,re(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&Db(t,s,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&os(o._searchMarker,e.index,-r+n),e};class Ib extends wl{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];be(e,r=>{const i=new Map,s=new Map;let o=this.target._start,l=null;const a={};let u="",c=0,f=0;const d=()=>{if(l!==null){let h=null;switch(l){case"delete":f>0&&(h={delete:f}),f=0;break;case"insert":(typeof u=="object"||u.length>0)&&(h={insert:u},i.size>0&&(h.attributes={},i.forEach((p,g)=>{p!==null&&(h.attributes[g]=p)}))),u="";break;case"retain":c>0&&(h={retain:c},AD(a)||(h.attributes=ED({},a))),c=0;break}h&&n.push(h),l=null}};for(;o!==null;){switch(o.content.constructor){case nn:case _r:this.adds(o)?this.deletes(o)||(d(),l="insert",u=o.content.getContent()[0],d()):this.deletes(o)?(l!=="delete"&&(d(),l="delete"),f+=1):o.deleted||(l!=="retain"&&(d(),l="retain"),c+=1);break;case Qt:this.adds(o)?this.deletes(o)||(l!=="insert"&&(d(),l="insert"),u+=o.content.str):this.deletes(o)?(l!=="delete"&&(d(),l="delete"),f+=o.length):o.deleted||(l!=="retain"&&(d(),l="retain"),c+=o.length);break;case Fe:{const{key:h,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){const g=i.get(h)??null;Nn(g,p)?p!==null&&o.delete(r):(l==="retain"&&d(),Nn(p,s.get(h)??null)?delete a[h]:a[h]=p)}}else if(this.deletes(o)){s.set(h,p);const g=i.get(h)??null;Nn(g,p)||(l==="retain"&&d(),a[h]=g)}else if(!o.deleted){s.set(h,p);const g=a[h];g!==void 0&&(Nn(g,p)?g!==null&&o.delete(r):(l==="retain"&&d(),p===null?delete a[h]:a[h]=p))}o.deleted||(l==="insert"&&d(),gi(i,o.content));break}}o=o.right}for(d();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class oi extends Me{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Ge(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new oi}clone(){const e=new oi;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new Ib(this,e,n);_l(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Ge();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Qt&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?be(this.doc,r=>{const i=new gu(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const l=!n&&typeof o.insert=="string"&&s===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof l!="string"||l.length>0)&&ca(r,this,i,l,o.attributes||{})}else o.retain!==void 0?Kh(r,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&Vh(r,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Ge();const i=[],s=new Map,o=this.doc;let l="",a=this._start;function u(){if(l.length>0){const f={};let d=!1;s.forEach((p,g)=>{d=!0,f[g]=p});const h={insert:l};d&&(h.attributes=f),i.push(h),l=""}}const c=()=>{for(;a!==null;){if(Lr(a,e)||n!==void 0&&Lr(a,n))switch(a.content.constructor){case Qt:{const f=s.get("ychange");e!==void 0&&!Lr(a,e)?(f===void 0||f.user!==a.id.client||f.type!=="removed")&&(u(),s.set("ychange",r?r("removed",a.id):{type:"removed"})):n!==void 0&&!Lr(a,n)?(f===void 0||f.user!==a.id.client||f.type!=="added")&&(u(),s.set("ychange",r?r("added",a.id):{type:"added"})):f!==void 0&&(u(),s.delete("ychange")),l+=a.content.str;break}case nn:case _r:{u();const f={insert:a.content.getContent()[0]};if(s.size>0){const d={};f.attributes=d,s.forEach((h,p)=>{d[p]=h})}i.push(f);break}case Fe:Lr(a,e)&&(u(),gi(s,a.content));break}a=a.right}u()};return e||n?be(o,f=>{e&&du(f,e),n&&du(f,n),c()},"cleanup"):c(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?be(i,s=>{const o=Vs(s,this,e,!r);r||(r={},o.currentAttributes.forEach((l,a)=>{r[a]=l})),ca(s,this,o,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?be(i,s=>{const o=Vs(s,this,e,!r);ca(s,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?be(r,i=>{Vh(i,Vs(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?be(i,s=>{const o=Vs(s,this,e,!1);o.right!==null&&Kh(s,this,o,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?be(this.doc,n=>{zo(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?be(this.doc,r=>{Jc(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Xc(this,e)}getAttributes(){return Eb(this)}_write(e){e.writeTypeRef(yF)}}const QI=t=>new oi;class fa{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Ge()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===wn||n.constructor===pr)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class pr extends Me{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new pr}clone(){const e=new pr;return e.insert(0,this.toArray().map(n=>n instanceof Me?n.clone():n)),e}get length(){return this.doc??Ge(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new fa(this,e)}querySelector(e){e=e.toUpperCase();const r=new fa(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),bn(new fa(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){_l(this,e,new Fb(this,n,e))}toString(){return xb(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),ls(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?be(this.doc,r=>{_b(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)be(this.doc,r=>{const i=e&&e instanceof Me?e._item:e;Bo(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw zn("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?be(this.doc,r=>{Sb(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return bb(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return wb(this,e)}slice(e=0,n=this.length){return yb(this,e,n)}forEach(e){ls(this,e)}_write(e){e.writeTypeRef(xF)}}const eF=t=>new pr;class wn extends pr{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new wn(this.nodeName)}clone(){const e=new wn(this.nodeName),n=this.getAttributes();return vD(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof Me?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const l in e)r.push(l);r.sort();const i=r.length;for(let l=0;l<i;l++){const a=r[l];n.push(a+'="'+e[a]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?be(this.doc,n=>{zo(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?be(this.doc,r=>{Jc(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Xc(this,e)}hasAttribute(e){return vb(this,e)}getAttributes(e){return e?VI(this,e):Eb(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const l=s[o];typeof l=="string"&&i.setAttribute(o,l)}return ls(this,o=>{i.appendChild(o.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(bF),e.writeKey(this.nodeName)}}const tF=t=>new wn(t.readKey());class Fb extends wl{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class jo extends Je{constructor(e){super(),this.hookName=e}_copy(){return new jo(this.hookName)}clone(){const e=new jo(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(wF),e.writeKey(this.hookName)}}const nF=t=>new jo(t.readKey());class Un extends oi{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Un}clone(){const e=new Un;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const s=[];for(const o in e.attributes[i])s.push({key:o,value:e.attributes[i][o]});s.sort((o,l)=>o.key<l.key?-1:1),n.push({nodeName:i,attrs:s})}n.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const s=n[i];r+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const l=s.attrs[o];r+=` ${l.key}="${l.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(kF)}}const rF=t=>new Un;class Zc{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Kt()}mergeWith(e){return!1}write(e,n,r){throw Kt()}integrate(e,n){throw Kt()}}const iF=0;class wt extends Zc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),cb(e.doc.store,this)}write(e,n){e.writeInfo(iF),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Cs{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Cs(this.content)}splice(e){throw Kt()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const sF=t=>new Cs(t.readBuf());class as{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new as(this.len)}splice(e){const n=new as(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){ss(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const oF=t=>new as(t.readLen()),Ob=(t,e)=>new Xt({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class As{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new As(Ob(this.doc.guid,this.opts))}splice(e){throw Kt()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const lF=t=>new As(Ob(t.readString(),t.readAny()));class _r{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new _r(this.embed)}splice(e){throw Kt()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const aF=t=>new _r(t.readJSON());class Fe{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Fe(this.key,this.value)}splice(e){throw Kt()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const uF=t=>new Fe(t.readKey(),t.readJSON());class $o{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $o(this.arr)}splice(e){const n=new $o(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const cF=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new $o(n)},fF=Mo("node_env")==="development";class gr{constructor(e){this.arr=e,fF&&$y(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gr(this.arr)}splice(e){const n=new gr(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const dF=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new gr(n)};class Qt{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Qt(this.str)}splice(e){const n=new Qt(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const hF=t=>new Qt(t.readString()),pF=[GI,YI,QI,tF,eF,nF,rF],gF=0,mF=1,yF=2,bF=3,xF=4,wF=5,kF=6;class nn{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new nn(this.type._copy())}splice(e){throw Kt()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const _F=t=>new nn(pF[t.readTypeRef()](t)),mu=(t,e)=>{let n=e,r=0,i;do r>0&&(n=re(n.client,n.clock+r)),i=Kr(t,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof xe);return{item:i,diff:r}},Qc=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},Uo=(t,e,n)=>{const{client:r,clock:i}=e.id,s=new xe(re(r,i+n),e,re(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=re(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s},qh=(t,e)=>$2(t,n=>Es(n.deletions,e)),Nb=(t,e,n,r,i,s)=>{const o=t.doc,l=o.store,a=o.clientID,u=e.redone;if(u!==null)return at(t,u);let c=e.parent._item,f=null,d;if(c!==null&&c.deleted===!0){if(c.redone===null&&(!n.has(c)||Nb(t,c,n,r,i,s)===null))return null;for(;c.redone!==null;)c=at(t,c.redone)}const h=c===null?e.parent:c.content.type;if(e.parentSub===null){for(f=e.left,d=e;f!==null;){let y=f;for(;y!==null&&y.parent._item!==c;)y=y.redone===null?null:at(t,y.redone);if(y!==null&&y.parent._item===c){f=y;break}f=f.left}for(;d!==null;){let y=d;for(;y!==null&&y.parent._item!==c;)y=y.redone===null?null:at(t,y.redone);if(y!==null&&y.parent._item===c){d=y;break}d=d.right}}else if(d=null,e.right&&!i){for(f=e;f!==null&&f.right!==null&&(f.right.redone||Es(r,f.right.id)||qh(s.undoStack,f.right.id)||qh(s.redoStack,f.right.id));)for(f=f.right;f.redone;)f=at(t,f.redone);if(f&&f.right!==null)return null}else f=h._map.get(e.parentSub)||null;const p=Ae(l,a),g=re(a,p),m=new xe(g,f,f&&f.lastId,d,d&&d.id,h,e.parentSub,e.content.copy());return e.redone=g,Qc(m,!0),m.integrate(t,0),m};class xe extends Zc{constructor(e,n,r,i,s,o,l,a){super(e,a.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=o,this.parentSub=l,this.redone=null,this.content=a,this.info=this.content.isCountable()?_h:0}set marker(e){(this.info&oa)>0!==e&&(this.info^=oa)}get marker(){return(this.info&oa)>0}get keep(){return(this.info&kh)>0}set keep(e){this.keep!==e&&(this.info^=kh)}get countable(){return(this.info&_h)>0}get deleted(){return(this.info&sa)>0}set deleted(e){this.deleted!==e&&(this.info^=sa)}markDeleted(){this.info|=sa}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ae(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ae(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Hr&&this.id.client!==this.parent.client&&this.parent.clock>=Ae(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Bh(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=at(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===wt||this.right&&this.right.constructor===wt)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===xe?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===xe&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Hr){const r=Kr(n,this.parent);r.constructor===wt?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=Bh(e,e.doc.store,re(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),s.add(i),Rr(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(Rr(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(Kr(e.doc.store,i.origin)))s.has(Kr(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),cb(e.doc.store,this),this.content.integrate(e,this),jh(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new wt(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:re(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Rr(e.origin,this.lastId)&&this.right===e&&Rr(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),ss(e.deleteSet,this.id.client,this.id.clock,this.length),jh(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Lt();this.content.gc(e),n?DI(e,this,new wt(this.id,this.length)):this.content=new as(this.length)}write(e,n){const r=n>0?re(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&ml|(r===null?0:bt)|(i===null?0:gn)|(s===null?0:ts);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const l=this.parent;if(l._item!==void 0){const a=l._item;if(a===null){const u=ab(l);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(a.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===Hr?(e.writeParentInfo(!1),e.writeLeftID(l)):Lt();s!==null&&e.writeString(s)}this.content.write(e,n)}}const Lb=(t,e)=>SF[e&ml](t),SF=[()=>{Lt()},oF,cF,sF,hF,aF,uF,_F,dF,lF,()=>{Lt()}],EF=10;class kt extends Zc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){Lt()}write(e,n){e.writeInfo(EF),J(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Pb="__ $YJS$ __";Mb[Pb]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Mb[Pb]=!0;function vF(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function da(t,e){const n=[];let r=t.__first;for(;r!==null;){const i=e===null?me(r):e.get(r);i==null&&vF(174),n.push(r),r=i.__next}return n}function Rb(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Wo=new Map;function Gh(t){let e=t;for(;e!=null;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function Yh(t){const e=t.parentNode;if(e==null)throw new Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function CF(t,e,n,r,i){const s=e.getKey(),o=r.getKey(),l=document.createRange();let a=t.getElementByKey(s),u=t.getElementByKey(o),c=n,f=i;if(U(e)&&(a=Gh(a)),U(r)&&(u=Gh(u)),e===void 0||r===void 0||a===null||u===null)return null;a.nodeName==="BR"&&([a,c]=Yh(a)),u.nodeName==="BR"&&([u,f]=Yh(u));const d=a.firstChild;a===u&&d!=null&&d.nodeName==="BR"&&c===0&&f===0&&(f=1);try{l.setStart(a,c),l.setEnd(u,f)}catch{return null}return!l.collapsed||c===f&&s===o||(l.setStart(u,f),l.setEnd(a,c)),l}function AF(t,e){const n=t.getRootElement();if(n===null)return[];const r=n.getBoundingClientRect(),i=getComputedStyle(n),s=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),o=Array.from(e.getClientRects());let l,a=o.length;o.sort(((u,c)=>{const f=u.top-c.top;return Math.abs(f)<=3?u.left-c.left:f}));for(let u=0;u<a;u++){const c=o[u],f=l&&l.top<=c.top&&l.top+l.height>c.top&&l.left+l.width>c.left,d=c.width+s===r.width;f||d?(o.splice(u--,1),a--):l=c}return o}function Bb(t){const e={};if(!t)return e;const n=t.split(";");for(const r of n)if(r!==""){const[i,s]=r.split(/:([^]+)/);i&&s&&(e[i.trim()]=s.trim())}return e}function ef(t){let e=Wo.get(t);return e===void 0&&(e=Bb(t),Wo.set(t,e)),e}function TF(t){let e="";for(const n in t)n&&(e+=`${n}: ${t[n]};`);return e}function zb(t,e){const n=t.getStartEndPoints();if(e.isSelected(t)&&!jt(e)&&n!==null){const[r,i]=n,s=t.isBackward(),o=r.getNode(),l=i.getNode(),a=e.is(o),u=e.is(l);if(a||u){const[c,f]=Ja(t),d=o.is(l),h=e.is(s?l:o),p=e.is(s?o:l);let g,m=0;d?(m=c>f?f:c,g=c>f?c:f):h?(m=s?f:c,g=void 0):p&&(m=0,g=s?c:f),e.__text=e.__text.slice(m,g)}}return e}function AL(t){if(t.type==="text")return t.offset===t.getNode().getTextContentSize();const e=t.getNode();return O(e)||Rb(177),t.offset===e.getChildrenSize()}function DF(t){const e=t.getStyle(),n=Bb(e);Wo.set(e,n)}function ha(t,e){(j(t)?t.isCollapsed():U(t)||O(t))||Rb(280);const n=ef(j(t)?t.style:U(t)?t.getStyle():t.getTextStyle()),r=Object.entries(e).reduce(((s,[o,l])=>(typeof l=="function"?s[o]=l(n[o],t):l===null?delete s[o]:s[o]=l,s)),{...n}),i=TF(r);j(t)||U(t)?t.setStyle(i):t.setTextStyle(i),Wo.set(i,r)}function TL(t,e){if(j(t)&&t.isCollapsed()){ha(t,e);const n=t.anchor.getNode();O(n)&&n.isEmpty()&&ha(n,e)}IF((n=>{ha(n,e)}))}function IF(t){const e=K();if(!e)return;const n=new Map;if(j(e))for(const s of iu(e).getTextSlices())s&&n.set(s.caret.origin.getKey(),s.getSliceIndices());const r=e.getNodes();for(const s of r){if(!U(s)||!s.canHaveFormat())continue;const[o,l]=(i=s,n.get(i.getKey())||[0,i.getTextContentSize()]);l!==o&&(jt(s)||o===0&&l===s.getTextContentSize()?t(s):t(s.splitText(o,l)[o===0?0:1]))}var i;j(e)&&e.anchor.type==="text"&&e.focus.type==="text"&&e.anchor.key===e.focus.key&&FF(e)}function FF(t){if(t.isBackward()){const{anchor:e,focus:n}=t,{key:r,offset:i,type:s}=e;e.set(n.key,n.offset,n.type),n.set(r,i,s)}}function jb(t){const e=t.anchor.getNode(),n=$e(e)?e:e.getParentOrThrow(),r=vc().getElementByKey(n.getKey());if(r===null)return!1;const i=r.ownerDocument.defaultView;return i===null?!1:i.getComputedStyle(r).writingMode==="vertical-rl"}function Jh(t,e){const n=jb(t)?!e:e,r=Jt(t.focus,n?"previous":"next");if(Iy(r))return!1;for(const i of Fc(r)){if(vt(i))return!i.origin.isInline();if(!O(i.origin)){if(ce(i.origin))return!0;break}}return!1}function OF(t,e,n,r){t.modify(e?"extend":"move",n,r)}function NF(t){const e=t.anchor.getNode();return($e(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function Xh(t,e,n){const r=NF(t);let i;i=jb(t)||r?!n:n,OF(t,e,i,"character")}function LF(t,e,n){const r=ef(t.getStyle());return r!==null&&r[e]||n}function DL(t,e,n=""){let r=null;const i=t.getNodes(),s=t.anchor,o=t.focus,l=t.isBackward(),a=l?o.offset:s.offset,u=l?o.getNode():s.getNode();if(j(t)&&t.isCollapsed()&&t.style!==""){const c=ef(t.style);if(c!==null&&e in c)return c[e]}for(let c=0;c<i.length;c++){const f=i[c];if((c===0||a!==0||!f.is(u))&&U(f)){const d=LF(f,e,n);if(r===null)r=d;else if(r!==d){r="";break}}}return r===null?n:r}function je(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class Ii{constructor(e,n){this._key="",this._map=e,this._parent=n,this._type="linebreak"}getNode(){const e=me(this._key);return Ln(e)?e:null}getKey(){return this._key}getSharedType(){return this._map}getType(){return this._type}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}destroy(e){const n=e.collabNodeMap;n.get(this._key)===this&&n.delete(this._key)}}function $b(t,e){const n=new Ii(t,e);return t._collabNode=n,n}let et=class{constructor(e,n,r,i){this._key="",this._map=e,this._parent=r,this._text=n,this._type=i,this._normalized=!1}getPrevNode(e){if(e===null)return null;const n=e.get(this._key);return U(n)?n:null}getNode(){const e=me(this._key);return U(e)?e:null}getSharedType(){return this._map}getType(){return this._type}getKey(){return this._key}getSize(){return this._text.length+(this._normalized?0:1)}getOffset(){return this._parent.getChildOffset(this)}spliceText(e,n,r){const i=this._parent._xmlText,s=this.getOffset()+1+e;n!==0&&i.delete(s,n),r!==""&&i.insert(s,r)}syncPropertiesAndTextFromLexical(e,n,r){const i=this.getPrevNode(r),s=n.__text;if(nf(e,this._map,i,n),i!==null){const o=i.__text;o!==s&&((function(l,a,u,c){const f=K();let d=c.length;if(j(f)&&f.isCollapsed()){const p=f.anchor;p.key===a&&(d=p.offset)}const h=(function(p,g,m){const y=p.length,b=g.length;let x=0,k=0;for(;x<y&&x<b&&p[x]===g[x]&&x<m;)x++;for(;k+x<y&&k+x<b&&p[y-k-1]===g[b-k-1];)k++;for(;k+x<y&&k+x<b&&p[x]===g[x];)x++;return{index:x,insert:g.slice(x,b-k),remove:y-x-k}})(u,c,d);l.spliceText(h.index,h.remove,h.insert)})(this,n.__key,o,s),this._text=s)}}syncPropertiesAndTextFromYjs(e,n){const r=this.getNode();r===null&&je(84),tf(e,this._map,r,n);const i=this._text;r.__text!==i&&r.setTextContent(i)}destroy(e){const n=e.collabNodeMap;n.get(this._key)===this&&n.delete(this._key)}};function Ub(t,e,n,r){const i=new et(t,e,n,r);return t._collabNode=i,i}const MF=new Set(["__key","__parent","__next","__prev","__state"]),PF=new Set(["__first","__last","__size","__dir"]),RF=new Set(["__cachedText"]),BF=new Set(["__text"]);function Wb(t,e,n){if(MF.has(t)||typeof e[t]=="function")return!0;if(U(e)){if(BF.has(t))return!0}else if(O(e)&&(PF.has(t)||$e(e)&&RF.has(t)))return!0;const r=e.constructor,i=n.excludedProperties.get(r);return i!=null&&i.has(t)}function Zh(t,e,n){const r=e.__type;let i;if(O(e))i=rf(new Un,n,r),i.syncPropertiesFromLexical(t,e,null),i.syncChildrenFromLexical(t,e,null,null,null);else if(U(e))i=Ub(new Je,e.__text,n,r),i.syncPropertiesAndTextFromLexical(t,e,null);else if(Ln(e)){const s=new Je;s.set("__type","linebreak"),i=$b(s,n)}else ce(e)?(i=Vb(new wn,n,r),i.syncPropertiesFromLexical(t,e,null)):je(86);return i._key=e.__key,i}function Hb(t){const e=Sl(t,"__type");return typeof e!="string"&&e!==void 0&&je(87),e}function Ho(t,e,n){const r=e._collabNode;if(r===void 0){const i=t.editor._nodes,s=Hb(e);typeof s!="string"&&je(87),i.get(s)===void 0&&je(88,s);const o=e.parent,l=n===void 0&&o!==null?Ho(t,o):n||null;if(l instanceof _t||je(89),e instanceof Un)return rf(e,l,s);if(e instanceof Je)return s==="linebreak"?$b(e,l):Ub(e,"",l,s);if(e instanceof wn)return Vb(e,l,s)}return r}function zF(t,e,n){const r=e.getType(),i=t.editor._nodes.get(r);i===void 0&&je(88,r);const s=new i.klass;if(s.__parent=n,e._key=s.__key,e instanceof _t){const o=e._xmlText;e.syncPropertiesFromYjs(t,null),e.applyChildrenYjsDelta(t,o.toDelta()),e.syncChildrenFromYjs(t)}else e instanceof et?e.syncPropertiesAndTextFromYjs(t,null):e instanceof Dn&&e.syncPropertiesFromYjs(t,null);return t.collabNodeMap.set(s.__key,e),s}function tf(t,e,n,r){const i=r===null?e instanceof Je?Array.from(e.keys()):Object.keys(e.getAttributes()):Array.from(r);let s;for(let o=0;o<i.length;o++){const l=i[o];if(Wb(l,n,t)){l==="__state"&&(s||(s=n.getWritable()),jF(t,e,s));continue}const a=n[l];let u=Sl(e,l);if(a!==u){if(u instanceof Xt){const c=t.docMap;a instanceof Xt&&c.delete(a.guid);const f=dy(),d=u.guid;f._key=d,c.set(d,u),u=f}s===void 0&&(s=n.getWritable()),s[l]=u}}}function Sl(t,e){return t instanceof Je?t.get(e):t.getAttribute(e)}function Qh(t,e,n){t instanceof Je?t.set(e,n):t.setAttribute(e,n)}function jF(t,e,n){const r=Sl(e,"__state");r instanceof Je&&nc(n).updateFromJSON(r.toJSON())}function nf(t,e,n,r){const i=r.__type,s=t.nodeProperties;let o=s.get(i);o===void 0&&(o=Object.keys(r).filter((a=>!Wb(a,r,t))),s.set(i,o));const l=t.editor.constructor;(function(a,u,c,f){const d=f.__state,h=Sl(u,"__state");if(!d)return;const[p,g]=d.getInternalState(),m=c&&c.__state,y=h instanceof Je?h:new Je;if(m===d)return;const[b,x]=m&&y.doc?m.getInternalState():[void 0,new Map];if(p)for(const[k,S]of Object.entries(p))b&&S!==b[k]&&y.set(k,S);for(const[k,S]of g)x.get(k)!==S&&y.set(k.key,k.unparse(S));h||Qh(u,"__state",y)})(0,e,n,r);for(let a=0;a<o.length;a++){const u=o[a],c=n===null?void 0:n[u];let f=r[u];if(c!==f){if(f instanceof l){const d=t.docMap;let h;if(c instanceof l){const m=c._key;h=d.get(m),d.delete(m)}const p=h||new Xt,g=p.guid;f._key=g,d.set(g,p),f=p,t.editor.update((()=>{r.markDirty()}))}Qh(e,u,f)}}}function Ci(t,e,n,r){return t.slice(0,e)+r+t.slice(e+n)}function ao(t,e,n){let r=0,i=0;const s=t._children,o=s.length;for(;i<o;i++){const l=s[i],a=r;if(r+=l.getSize(),(n?r>=e:r>e)&&l instanceof et){let u=e-a-1;return u<0&&(u=0),{length:r-e,node:l,nodeIndex:i,offset:u}}if(r>e)return{length:0,node:l,nodeIndex:i,offset:a};if(i===o-1)return{length:0,node:null,nodeIndex:i+1,offset:a+1}}return{length:0,node:null,nodeIndex:0,offset:0}}function ep(t){const e=t.anchor,n=t.focus;let r=!1;try{const i=e.getNode(),s=n.getNode();(!i.isAttached()||!s.isAttached()||U(i)&&e.offset>i.getTextContentSize()||U(s)&&n.offset>s.getTextContentSize())&&(r=!0)}catch{r=!0}return r}function Kb(t,e){const n=e._nodeMap.get(t);if(!n)return void de().selectStart();const r=n.__prev;let i=null;r&&(i=me(r)),i===null&&n.__parent!==null&&(i=me(n.__parent)),i!==null?i!==null&&i.isAttached()?i.selectEnd():Kb(i.__key,e):de().selectStart()}class Dn{constructor(e,n,r){this._key="",this._xmlElem=e,this._parent=n,this._type=r}getPrevNode(e){if(e===null)return null;const n=e.get(this._key);return ce(n)?n:null}getNode(){const e=me(this._key);return ce(e)?e:null}getSharedType(){return this._xmlElem}getType(){return this._type}getKey(){return this._key}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}syncPropertiesFromLexical(e,n,r){const i=this.getPrevNode(r);nf(e,this._xmlElem,i,n)}syncPropertiesFromYjs(e,n){const r=this.getNode();r===null&&je(83),tf(e,this._xmlElem,r,n)}destroy(e){const n=e.collabNodeMap;n.get(this._key)===this&&n.delete(this._key)}}function Vb(t,e,n){const r=new Dn(t,e,n);return t._collabNode=r,r}class _t{constructor(e,n,r){this._key="",this._children=[],this._xmlText=e,this._type=r,this._parent=n}getPrevNode(e){if(e===null)return null;const n=e.get(this._key);return O(n)?n:null}getNode(){const e=me(this._key);return O(e)?e:null}getSharedType(){return this._xmlText}getType(){return this._type}getKey(){return this._key}isEmpty(){return this._children.length===0}getSize(){return 1}getOffset(){const e=this._parent;return e===null&&je(90),e.getChildOffset(this)}syncPropertiesFromYjs(e,n){const r=this.getNode();r===null&&je(91),tf(e,this._xmlText,r,n)}applyChildrenYjsDelta(e,n){const r=this._children;let i=0,s=null;for(let o=0;o<n.length;o++){const l=n[o],a=l.insert,u=l.delete;if(l.retain!=null)i+=l.retain;else if(typeof u=="number"){let c=u;for(;c>0;){const{node:f,nodeIndex:d,offset:h,length:p}=ao(this,i,!1);if(f instanceof _t||f instanceof Ii||f instanceof Dn)r.splice(d,1),c-=1;else{if(!(f instanceof et))break;{const g=Math.min(c,p),m=d!==0?r[d-1]:null,y=f.getSize();if(h===0&&p===y){r.splice(d,1);const b=Ci(f._text,h,g-1,"");b.length>0&&(m instanceof et?m._text+=b:this._xmlText.delete(h,b.length))}else f._text=Ci(f._text,h,g,"");c-=g}}}}else{if(a==null)throw new Error("Unexpected delta format");if(typeof a=="string"){const{node:c,offset:f}=ao(this,i,!0);c instanceof et?c._text=Ci(c._text,f,0,a):this._xmlText.delete(f,a.length),i+=a.length}else{const c=a,{node:f,nodeIndex:d,length:h}=ao(this,i,!1),p=Ho(e,c,this);if(f instanceof et&&h>0&&h<f._text.length){const g=f._text,m=g.length-h;f._text=Ci(g,m,h,""),r.splice(d+1,0,p),s=Ci(g,0,m,"")}else r.splice(d,0,p);s!==null&&p instanceof et&&(p._text=s+p._text,s=null),i+=1}}}}syncChildrenFromYjs(e){const n=this.getNode();n===null&&je(92);const r=n.__key,i=da(n,null),s=i.length,o=this._children,l=o.length,a=e.collabNodeMap,u=new Set;let c,f,d=0,h=null;l!==s&&(f=n.getWritable());for(let p=0;p<l;p++){const g=i[d],m=o[p],y=m.getNode(),b=m._key;if(y!==null&&g===b){const x=U(y);if(u.add(g),x)if(m._key=g,m instanceof _t){const k=m._xmlText;m.syncPropertiesFromYjs(e,null),m.applyChildrenYjsDelta(e,k.toDelta()),m.syncChildrenFromYjs(e)}else m instanceof et?m.syncPropertiesAndTextFromYjs(e,null):m instanceof Dn?m.syncPropertiesFromYjs(e,null):m instanceof Ii||je(93);h=y,d++}else{if(c===void 0){c=new Set;for(let S=0;S<l;S++){const w=o[S]._key;w!==""&&c.add(w)}}if(y!==null&&g!==void 0&&!c.has(g)){const S=Nr(g);pn(S),p--,d++;continue}f=n.getWritable();const x=zF(e,m,r),k=x.__key;if(a.set(k,m),h===null){const S=f.getFirstChild();if(f.__first=k,S!==null){const w=S.getWritable();w.__prev=k,x.__next=w.__key}}else{const S=h.getWritable(),w=h.getNextSibling();if(S.__next=k,x.__prev=h.__key,w!==null){const A=w.getWritable();A.__prev=k,x.__next=A.__key}}p===l-1&&(f.__last=k),f.__size++,h=x}}for(let p=0;p<s;p++){const g=i[p];if(!u.has(g)){const m=Nr(g),y=e.collabNodeMap.get(g);y!==void 0&&y.destroy(e),pn(m)}}}syncPropertiesFromLexical(e,n,r){nf(e,this._xmlText,this.getPrevNode(r),n)}_syncChildFromLexical(e,n,r,i,s,o){const l=this._children[n],a=Nr(r);l instanceof _t&&O(a)?(l.syncPropertiesFromLexical(e,a,i),l.syncChildrenFromLexical(e,a,i,s,o)):l instanceof et&&U(a)?l.syncPropertiesAndTextFromLexical(e,a,i):l instanceof Dn&&ce(a)&&l.syncPropertiesFromLexical(e,a,i)}syncChildrenFromLexical(e,n,r,i,s){const o=this.getPrevNode(r),l=o===null?[]:da(o,r),a=da(n,null),u=l.length-1,c=a.length-1,f=e.collabNodeMap;let d,h,p=0,g=0;for(;p<=u&&g<=c;){const b=l[p],x=a[g];if(b===x)this._syncChildFromLexical(e,g,x,r,i,s),p++,g++;else{d===void 0&&(d=new Set(l)),h===void 0&&(h=new Set(a));const k=h.has(b),S=d.has(x);if(k){const w=Zh(e,Nr(x),this);f.set(x,w),S?(this.splice(e,g,1,w),p++,g++):(this.splice(e,g,0,w),g++)}else this.splice(e,g,1),p++}}const m=p>u,y=g>c;if(m&&!y)for(;g<=c;++g){const b=a[g],x=Zh(e,Nr(b),this);this.append(x),f.set(b,x)}else if(y&&!m)for(let b=this._children.length-1;b>=g;b--)this.splice(e,b,1)}append(e){const n=this._xmlText,r=this._children,i=r[r.length-1],s=i!==void 0?i.getOffset()+i.getSize():0;if(e instanceof _t)n.insertEmbed(s,e._xmlText);else if(e instanceof et){const o=e._map;o.parent===null&&n.insertEmbed(s,o),n.insert(s+1,e._text)}else e instanceof Ii?n.insertEmbed(s,e._map):e instanceof Dn&&n.insertEmbed(s,e._xmlElem);this._children.push(e)}splice(e,n,r,i){const s=this._children,o=s[n];if(o===void 0)return i===void 0&&je(94),void this.append(i);const l=o.getOffset();l===-1&&je(95);const a=this._xmlText;if(r!==0&&a.delete(l,o.getSize()),i instanceof _t)a.insertEmbed(l,i._xmlText);else if(i instanceof et){const u=i._map;u.parent===null&&a.insertEmbed(l,u),a.insert(l+1,i._text)}else i instanceof Ii?a.insertEmbed(l,i._map):i instanceof Dn&&a.insertEmbed(l,i._xmlElem);if(r!==0){const u=s.slice(n,n+r);for(let c=0;c<u.length;c++)u[c].destroy(e)}i!==void 0?s.splice(n,r,i):s.splice(n,r)}getChildOffset(e){let n=0;const r=this._children;for(let i=0;i<r.length;i++){const s=r[i];if(s===e)return n;n+=s.getSize()}return-1}destroy(e){const n=e.collabNodeMap,r=this._children;for(let i=0;i<r.length;i++)r[i].destroy(e);n.get(this._key)===this&&n.delete(this._key)}}function rf(t,e,n){const r=new _t(t,e,n);return t._collabNode=r,r}function $F(t,e,n,r,i,s){r==null&&je(81);const o=rf(r.get("root",Un),null,"root");return o._key="root",{clientID:r.clientID,collabNodeMap:new Map,cursors:new Map,cursorsContainer:null,doc:r,docMap:i,editor:t,excludedProperties:s||new Map,id:n,nodeProperties:new Map,root:o}}function tp(t,e){const n=e.collabNodeMap.get(t.key);if(n===void 0)return null;let r=t.offset,i=n.getSharedType();if(n instanceof et){i=n._parent._xmlText;const s=n.getOffset();if(s===-1)return null;r=s+1+r}else if(n instanceof _t&&t.type==="element"){const s=t.getNode();O(s)||je(184);let o=0,l=0,a=s.getFirstChild();for(;a!==null&&l++<r;)U(a)?o+=a.getTextContentSize()+1:o++,a=a.getNextSibling();r=o}return EI(i,r)}function np(t,e){return CI(t,e.doc)}function rp(t,e){if(t==null){if(e!=null)return!0}else if(e==null||!AI(t,e))return!0;return!1}function UF(t,e){return{color:e,name:t,selection:null}}function qb(t,e){const n=t.cursorsContainer;if(n!==null){const r=e.selections,i=r.length;for(let s=0;s<i;s++)n.removeChild(r[s])}}function WF(t,e){const n=e.selection;n!==null&&qb(t,n)}function HF(t,e,n,r,i){const s=t.color,o=document.createElement("span");o.style.cssText=`position:absolute;top:0;bottom:0;right:-1px;width:1px;background-color:${s};z-index:10;`;const l=document.createElement("span");return l.textContent=t.name,l.style.cssText=`position:absolute;left:-2px;top:-16px;background-color:${s};color:#fff;line-height:12px;font-size:12px;padding:2px;font-family:Arial;font-weight:bold;white-space:nowrap;`,o.appendChild(l),{anchor:{key:e,offset:n},caret:o,color:s,focus:{key:r,offset:i},name:l,selections:[]}}function KF(t,e,n,r){const i=t.editor,s=i.getRootElement(),o=t.cursorsContainer;if(o===null||s===null)return;const l=o.offsetParent;if(l===null)return;const a=l.getBoundingClientRect(),u=e.selection;if(n===null)return u===null?void 0:(e.selection=null,void qb(t,u));e.selection=n;const c=n.caret,f=n.color,d=n.selections,h=n.anchor,p=n.focus,g=h.key,m=p.key,y=r.get(g),b=r.get(m);if(y==null||b==null)return;let x;if(y===b&&Ln(y))x=[i.getElementByKey(g).getBoundingClientRect()];else{const w=CF(i,y,h.offset,b,p.offset);if(w===null)return;x=AF(i,w)}const k=d.length,S=x.length;for(let w=0;w<S;w++){const A=x[w];let C=d[w];if(C===void 0){C=document.createElement("span"),d[w]=C;const _=document.createElement("span");C.appendChild(_),o.appendChild(C)}const T=`position:absolute;top:${A.top-a.top}px;left:${A.left-a.left}px;height:${A.height}px;width:${A.width}px;pointer-events:none;z-index:5;`;C.style.cssText=T,C.firstChild.style.cssText=`${T}left:0;top:0;background-color:${f};opacity:0.3;`,w===S-1&&c.parentNode!==C&&C.appendChild(c)}for(let w=k-1;w>=S;w--){const A=d[w];o.removeChild(A),d.pop()}}function Gb(t,e){const{anchorPos:n,focusPos:r}=e;let i=null,s=0,o=null,l=0;if(n!==null&&r!==null){const a=np(n,t),u=np(r,t);a!==null&&u!==null&&([i,s]=op(a.type,a.index),[o,l]=op(u.type,u.index))}return{anchorCollabNode:i,anchorOffset:s,focusCollabNode:o,focusOffset:l}}function ip(t,e){const n=e.awareness.getLocalState();if(n===null)return;const{anchorCollabNode:r,anchorOffset:i,focusCollabNode:s,focusOffset:o}=Gb(t,n);if(r!==null&&s!==null){const l=r.getKey(),a=s.getKey(),u=K();if(!j(u))return;sp(u.anchor,l,i),sp(u.focus,a,o)}}function sp(t,e,n){if(t.key!==e||t.offset!==n){let r=me(e);if(r!==null&&!O(r)&&!U(r)){const i=r.getParentOrThrow();e=i.getKey(),n=r.getIndexWithinParent(),r=i}t.set(e,n,O(r)?"element":"text")}}function op(t,e){const n=t._collabNode;if(n===void 0)return[null,0];if(n instanceof _t){const{node:r,offset:i}=ao(n,e,!0);return r===null?[n,0]:[r,i]}return[null,0]}function VF(t,e){return e.awareness.getStates()}function Yb(t,e,n){const{getAwarenessStates:r=VF}=n??{},i=Array.from(r(t,e)),s=t.clientID,o=t.cursors,l=t.editor._editorState._nodeMap,a=new Set;for(let c=0;c<i.length;c++){const f=i[c],[d,h]=f;if(d!==s){a.add(d);const{name:p,color:g,focusing:m}=h;let y=null,b=o.get(d);if(b===void 0&&(b=UF(p,g),o.set(d,b)),m){const{anchorCollabNode:x,anchorOffset:k,focusCollabNode:S,focusOffset:w}=Gb(t,h);if(x!==null&&S!==null){const A=x.getKey(),C=S.getKey();if(y=b.selection,y===null)y=HF(b,A,k,C,w);else{const T=y.anchor,_=y.focus;T.key=A,T.offset=k,_.key=C,_.offset=w}}}KF(t,b,y,l)}}const u=Array.from(o.keys());for(let c=0;c<u.length;c++){const f=u[c];if(!a.has(f)){const d=o.get(f);d!==void 0&&(WF(t,d),o.delete(f))}}}function Jb(t,e,n,r){const i=e.awareness,s=i.getLocalState();if(s===null)return;const{anchorPos:o,focusPos:l,name:a,color:u,focusing:c,awarenessData:f}=s;let d=null,h=null;(r!==null&&(o===null||r.is(n))||n!==null)&&(j(r)&&(d=tp(r.anchor,t),h=tp(r.focus,t)),(rp(o,d)||rp(l,h))&&i.setLocalState({...s,anchorPos:d,awarenessData:f,color:u,focusPos:h,focusing:c,name:a}))}function qF(t,e){if(e instanceof pu&&(function(i,s){const{target:o}=s;if(!o._item||o._item.parentSub!=="__state"||Hb(o)!==void 0||!(o.parent instanceof Un||o.parent instanceof wn||o.parent instanceof Je))return!1;const l=Ho(i,o.parent).getNode();if(l){const a=nc(l.getWritable());for(const u of s.keysChanged)a.updateFromUnknown(u,o.get(u))}return!0})(t,e))return;const{target:n}=e,r=Ho(t,n);if(r instanceof _t&&e instanceof Ib){const{keysChanged:i,childListChanged:s,delta:o}=e;i.size>0&&r.syncPropertiesFromYjs(t,i),s&&(r.applyChildrenYjsDelta(t,o),r.syncChildrenFromYjs(t))}else if(r instanceof et&&e instanceof pu){const{keysChanged:i}=e;i.size>0&&r.syncPropertiesAndTextFromYjs(t,i)}else if(r instanceof Dn&&e instanceof Fb){const{attributesChanged:i}=e;i.size>0&&r.syncPropertiesFromYjs(t,i)}else je(82)}function GF(t,e,n,r,i=Yb){const s=t.editor,o=s._editorState;n.forEach((l=>l.delta)),s.update((()=>{for(let a=0;a<n.length;a++){const u=n[a];qF(t,u)}const l=K();if(j(l))if(ep(l)){const a=o._selection;j(a)&&(ip(t,e),ep(l))&&Kb(l.anchor.key,o),Jb(t,e,a,K())}else ip(t,e);r||Ey(cy)}),{onUpdate:()=>{i(t,e),s.update((()=>{de().getChildrenSize()===0&&de().append(ct())}))},skipTransforms:!0,tag:r?uy:pc})}function YF(t,e,n,r,i,s,o,l){(function(a,u){a.doc.transact(u,a)})(t,(()=>{r.read((()=>{if(l.has(pc)||l.has(uy))return void(o.size>0&&(function(c,f){const d=Array.from(f),h=c.collabNodeMap,p=[],g=[];for(let m=0;m<d.length;m++){const y=d[m],b=me(y),x=h.get(y);if(x instanceof et)if(U(b))p.push([x,b.__text]);else{const k=x.getOffset();if(k===-1)continue;const S=x._parent;x._normalized=!0,S._xmlText.delete(k,1),g.push(x)}}for(let m=0;m<g.length;m++){const y=g[m],b=y.getKey();h.delete(b);const x=y._parent._children,k=x.indexOf(y);x.splice(k,1)}for(let m=0;m<p.length;m++){const[y,b]=p[m];y._text=b}})(t,o));if(i.has("root")){const c=n._nodeMap,f=de(),d=t.root;d.syncPropertiesFromLexical(t,f,c),d.syncChildrenFromLexical(t,f,c,i,s)}const a=K(),u=n._selection;Jb(t,e,u,a)}))}))}const JF=Z("CONNECTED_COMMAND"),XF=Z("TOGGLE_CONNECT_COMMAND");function ZF(t,e){return new hb(e,{trackedOrigins:new Set([t,null])})}function QF(t,e,n,r,i){t.awareness.setLocalState({anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:e})}function lp(t,e,n,r,i){const{awareness:s}=t;let o=s.getLocalState();o===null&&(o={anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:e}),o.focusing=r,s.setLocalState(o)}function Xb(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const El=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,eO=El&&"documentMode"in document?document.documentMode:null,tO=El&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!El||!("InputEvent"in window)||eO)&&"getTargetRanges"in new window.InputEvent("input");function nO(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}function Sr(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}const rO=El,iO=tO;function FL(t,...e){const n=nO(...e);n.length>0&&t.classList.add(...n)}function Zb(t){const e=sf(t,(n=>O(n)&&!n.isInline()));return O(e)||Xb(4,t.__key),e}const sf=(t,e)=>{let n=t;for(;n!==de()&&n!=null;){if(e(n))return n;n=n.getParent()}return null};function sO(t){const e=K()||xr();let n;if(j(e))n=Jt(e.focus,"next");else{if(e!=null){const o=e.getNodes(),l=o[o.length-1];l&&(n=Ie(l,"next"))}n=n||Yt(de(),"previous").getFlipped().insert(ct())}const r=oO(t,n),i=gl(r),s=vt(i)?Dt(i):r;return Dy(vy(s)),t.getLatest()}function oO(t,e,n){let r=yn(e,"next");for(let i=r;i;i=R2(i,n))r=i;return Ht(r)&&Xb(283),r.insert(t.isInline()?ct().append(t):t),yn(Ie(t.getLatest(),"next"),e.direction)}function Zn(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}let pa=!(iO||!rO)&&void 0;function OL(t){let e=1;if((function(){if(pa===void 0){const n=document.createElement("div");n.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(n);const r=n.getBoundingClientRect();n.style.setProperty("zoom","2"),pa=n.getBoundingClientRect().width===r.width,document.body.removeChild(n)}return pa})())for(;t;)e*=Number(window.getComputedStyle(t).getPropertyValue("zoom")),t=t.parentElement;return e}function lO(t,e,n,r,i,s,o,l,a,u,c,f,d=Yb){const h=P.useRef(!1),p=P.useCallback((()=>n.connect()),[n]),g=P.useCallback((()=>{try{n.disconnect()}catch{}}),[n]);P.useEffect((()=>{const{root:y}=l,{awareness:b}=n,x=({status:_})=>{t.dispatchCommand(JF,_==="connected")},k=_=>{o&&_&&y.isEmpty()&&y._xmlText._length===0&&h.current===!1&&(function(F,L){F.update((()=>{const R=de();if(R.isEmpty())if(L)switch(typeof L){case"string":{const I=F.parseEditorState(L);F.setEditorState(I,{tag:Fn});break}case"object":F.setEditorState(L,{tag:Fn});break;case"function":F.update((()=>{de().isEmpty()&&L(F)}),{tag:Fn})}else{const I=ct();R.append(I);const{activeElement:B}=document;(K()!==null||B!==null&&B===F.getRootElement())&&I.select()}}),{tag:Fn})})(t,c),h.current=!1},S=()=>{d(l,n)},w=(_,F)=>{const L=F.origin;L!==l&&GF(l,n,_,L instanceof hb,d)};QF(n,i,s,document.activeElement===t.getRootElement(),f||{});const A=_=>{(function(F,L){if(F.update((()=>{const q=de();q.clear(),q.select()}),{tag:lh}),L.cursors==null)return;const R=L.cursors;if(R==null)return;const I=L.cursorsContainer;if(I==null)return;const B=Array.from(R.values());for(let q=0;q<B.length;q++){const G=B[q].selection;if(G&&G.selections!=null){const Y=G.selections;for(let te=0;te<Y.length;te++)I.removeChild(Y[q])}}})(t,l),a(_),r.set(e,_),h.current=!0};n.on("reload",A),n.on("status",x),n.on("sync",k),b.on("update",S),y.getSharedType().observeDeep(w);const C=t.registerUpdateListener((({prevEditorState:_,editorState:F,dirtyLeaves:L,dirtyElements:R,normalizedNodes:I,tags:B})=>{B.has(lh)===!1&&YF(l,n,_,F,R,L,I,B)})),T=p();return()=>{h.current===!1&&(T?T.then(g):g()),n.off("sync",k),n.off("status",x),n.off("reload",A),b.off("update",S),y.getSharedType().unobserveDeep(w),r.delete(e),C()}}),[l,s,p,g,r,t,e,c,i,n,o,f,a,d]);const m=P.useMemo((()=>xa.createPortal(D.jsx("div",{ref:y=>{l.cursorsContainer=y}}),u&&u.current||document.body)),[l,u]);return P.useEffect((()=>t.registerCommand(XF,(y=>(y?(console.log("Collaboration connected!"),p()):(console.log("Collaboration disconnected!"),g()),!0)),le)),[p,g,t]),m}function aO(t,e){const n=P.useMemo((()=>ZF(e,e.root.getSharedType())),[e]);P.useEffect((()=>Sr(t.registerCommand(sc,(()=>(n.undo(),!0)),le),t.registerCommand(oc,(()=>(n.redo(),!0)),le))));const r=P.useCallback((()=>{n.clear()}),[n]);return P.useEffect((()=>{const i=()=>{t.dispatchCommand(qT,n.undoStack.length>0),t.dispatchCommand(VT,n.redoStack.length>0)};return n.on("stack-item-added",i),n.on("stack-item-popped",i),n.on("stack-cleared",i),()=>{n.off("stack-item-added",i),n.off("stack-item-popped",i),n.off("stack-cleared",i)}}),[t,n]),r}function uO({id:t,providerFactory:e,shouldBootstrap:n,username:r,cursorColor:i,cursorsContainerRef:s,initialEditorState:o,excludedProperties:l,awarenessData:a,syncCursorPositionsFn:u}){const c=P.useRef(!1),f=P.useRef(!1),d=cT(r,i),{yjsDocMap:h,name:p,color:g}=d,[m]=Hn();P.useEffect((()=>(d.isCollabActive=!0,()=>{m._parentEditor==null&&(d.isCollabActive=!1)})),[d,m]);const[y,b]=P.useState();P.useEffect((()=>{if(f.current)return;f.current=!0;const A=e(t,h);return b(A),()=>{A.disconnect()}}),[t,e,h]);const[x,k]=P.useState(h.get(t)),[S,w]=P.useState();return P.useEffect((()=>{if(!y||c.current)return;c.current=!0;const A=$F(m,y,t,x||h.get(t),h,l);return w(A),()=>{A.root.destroy(A)}}),[m,y,t,h,x,l]),y&&S?D.jsx(cO,{awarenessData:a,binding:S,collabContext:d,color:g,cursorsContainerRef:s,editor:m,id:t,initialEditorState:o,name:p,provider:y,setDoc:k,shouldBootstrap:n,yjsDocMap:h,syncCursorPositionsFn:u}):D.jsx(D.Fragment,{})}function cO({editor:t,id:e,provider:n,yjsDocMap:r,name:i,color:s,shouldBootstrap:o,cursorsContainerRef:l,initialEditorState:a,awarenessData:u,collabContext:c,binding:f,setDoc:d,syncCursorPositionsFn:h}){const p=lO(t,e,n,r,i,s,o,f,d,l,a,u,h);return c.clientID=f.clientID,aO(t,f),(function(g,m,y,b,x){P.useEffect((()=>Sr(g.registerCommand(jm,(()=>(lp(m,y,b,!0,x||{}),!1)),le),g.registerCommand($m,(()=>(lp(m,y,b,!1,x||{}),!1)),le))),[b,g,y,m,x])})(t,n,i,s,u),p}const Qb=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,fO=Qb?P.useLayoutEffect:P.useEffect,qs={tag:Fn};function dO({initialConfig:t,children:e}){const n=P.useMemo((()=>{const{theme:r,namespace:i,nodes:s,onError:o,editorState:l,html:a}=t,u=fT(null,r),c=dy({editable:t.editable,html:a,namespace:i,nodes:s,onError:f=>o(f,c),theme:r});return(function(f,d){if(d!==null){if(d===void 0)f.update((()=>{const h=de();if(h.isEmpty()){const p=ct();h.append(p);const g=Qb?document.activeElement:null;(K()!==null||g!==null&&g===f.getRootElement())&&p.select()}}),qs);else if(d!==null)switch(typeof d){case"string":{const h=f.parseEditorState(d);f.setEditorState(h,qs);break}case"object":f.setEditorState(d,qs);break;case"function":f.update((()=>{de().isEmpty()&&d(f)}),qs)}}})(c,l),[c,u]}),[]);return fO((()=>{const r=t.editable,[i]=n;i.setEditable(r===void 0||r)}),[]),D.jsx(um.Provider,{value:n,children:e})}function hO(){return de().getTextContent()}function pO(t,e=!0){if(t)return!1;let n=hO();return e&&(n=n.trim()),n===""}function gO(t){if(!pO(t,!1))return!1;const e=de().getChildren(),n=e.length;if(n>1)return!1;for(let r=0;r<n;r++){const i=e[r];if(ce(i))return!1;if(O(i)){if(!d2(i)||i.__indent!==0)return!1;const s=i.getChildren(),o=s.length;for(let l=0;l<o;l++){const a=s[r];if(!U(a))return!1}}}return!0}function e0(t){return()=>gO(t)}const t0=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?P.useLayoutEffect:P.useEffect;function mO({editor:t,ariaActiveDescendant:e,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:i,ariaErrorMessage:s,ariaExpanded:o,ariaInvalid:l,ariaLabel:a,ariaLabelledBy:u,ariaMultiline:c,ariaOwns:f,ariaRequired:d,autoCapitalize:h,className:p,id:g,role:m="textbox",spellCheck:y=!0,style:b,tabIndex:x,"data-testid":k,...S},w){const[A,C]=P.useState(t.isEditable()),T=P.useCallback((F=>{F&&F.ownerDocument&&F.ownerDocument.defaultView?t.setRootElement(F):t.setRootElement(null)}),[t]),_=P.useMemo((()=>(function(...F){return L=>{F.forEach((R=>{typeof R=="function"?R(L):R!=null&&(R.current=L)}))}})(w,T)),[T,w]);return t0((()=>(C(t.isEditable()),t.registerEditableListener((F=>{C(F)})))),[t]),D.jsx("div",{"aria-activedescendant":A?e:void 0,"aria-autocomplete":A?n:"none","aria-controls":A?r:void 0,"aria-describedby":i,...s!=null?{"aria-errormessage":s}:{},"aria-expanded":A&&m==="combobox"?!!o:void 0,...l!=null?{"aria-invalid":l}:{},"aria-label":a,"aria-labelledby":u,"aria-multiline":c,"aria-owns":A?f:void 0,"aria-readonly":!A||void 0,"aria-required":d,autoCapitalize:h,className:p,contentEditable:A,"data-testid":k,id:g,ref:_,role:m,spellCheck:y,style:b,tabIndex:x,...S})}const yO=P.forwardRef(mO);function ap(t){return t.getEditorState().read(e0(t.isComposing()))}const bO=P.forwardRef(xO);function xO(t,e){const{placeholder:n,...r}=t,[i]=Hn();return D.jsxs(D.Fragment,{children:[D.jsx(yO,{editor:i,...r,ref:e}),n!=null&&D.jsx(wO,{editor:i,content:n})]})}function wO({content:t,editor:e}){const n=(function(o){const[l,a]=P.useState((()=>ap(o)));return t0((()=>{function u(){const c=ap(o);a(c)}return u(),Sr(o.registerUpdateListener((()=>{u()})),o.registerEditableListener((()=>{u()})))}),[o]),l})(e),[r,i]=P.useState(e.isEditable());if(P.useLayoutEffect((()=>(i(e.isEditable()),e.registerEditableListener((o=>{i(o)})))),[e]),!n)return null;let s=null;return typeof t=="function"?s=t(r):t!==null&&(s=t),s===null?null:D.jsx("div",{"aria-hidden":!0,children:s})}function yu(t,e){return yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yu(t,e)}var up={error:null},kO=(function(t){var e,n;function r(){for(var s,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(s=t.call.apply(t,[this].concat(l))||this).state=up,s.resetErrorBoundary=function(){for(var u,c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];s.props.onReset==null||(u=s.props).onReset.apply(u,f),s.reset()},s}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,yu(e,n),r.getDerivedStateFromError=function(s){return{error:s}};var i=r.prototype;return i.reset=function(){this.setState(up)},i.componentDidCatch=function(s,o){var l,a;(l=(a=this.props).onError)==null||l.call(a,s,o)},i.componentDidUpdate=function(s,o){var l,a,u,c,f=this.state.error,d=this.props.resetKeys;f!==null&&o.error!==null&&((u=s.resetKeys)===void 0&&(u=[]),(c=d)===void 0&&(c=[]),u.length!==c.length||u.some((function(h,p){return!Object.is(h,c[p])})))&&((l=(a=this.props).onResetKeysChange)==null||l.call(a,s.resetKeys,d),this.reset())},i.render=function(){var s=this.state.error,o=this.props,l=o.fallbackRender,a=o.FallbackComponent,u=o.fallback;if(s!==null){var c={error:s,resetErrorBoundary:this.resetErrorBoundary};if(P.isValidElement(u))return u;if(typeof l=="function")return l(c);if(a)return P.createElement(a,c);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r})(P.Component);function _O({children:t,onError:e}){return D.jsx(kO,{fallback:D.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}const SO=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?P.useLayoutEffect:P.useEffect;function EO(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function vO(){return(function(t){const[e]=Hn(),n=P.useMemo((()=>t(e)),[e,t]),[r,i]=P.useState((()=>n.initialValueFn())),s=P.useRef(r);return SO((()=>{const{initialValueFn:o,subscribe:l}=n,a=o();return s.current!==a&&(s.current=a,i(a)),l((u=>{s.current=u,i(u)}))}),[n,t]),r})(EO)}function CO(t){const e=window.location.origin,n=r=>{if(r.origin!==e)return;const i=t.getRootElement();if(document.activeElement!==i)return;const s=r.data;if(typeof s=="string"){let o;try{o=JSON.parse(s)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"){const l=o.payload;if(l&&l.functionId==="makeChanges"){const a=l.args;if(a){const[u,c,f,d,h,p]=a;t.update((()=>{const g=K();if(j(g)){const m=g.anchor;let y=m.getNode(),b=0,x=0;if(U(y)&&u>=0&&c>=0&&(b=u,x=u+c,g.setTextNodeRange(y,b,y,x)),b===x&&f===""||(g.insertRawText(f),y=m.getNode()),U(y)){b=d,x=d+h;const k=y.getTextContentSize();b=b>k?k:b,x=x>k?k:x,g.setTextNodeRange(y,b,y,x)}r.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}function AO(t,e){const n=e.body?e.body.childNodes:[];let r=[];const i=[];for(let s=0;s<n.length;s++){const o=n[s];if(!r0.has(o.nodeName)){const l=i0(o,t,i,!1);l!==null&&(r=r.concat(l))}}return(function(s){for(const o of s)o.getNextSibling()instanceof gc&&o.insertAfter(ur());for(const o of s){const l=o.getChildren();for(const a of l)o.insertBefore(a);o.remove()}})(i),r}function TO(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=de().getChildren();for(let i=0;i<r.length;i++)n0(t,r[i],n,e);return n.innerHTML}function n0(t,e,n,r=null){let i=r===null||e.isSelected(r);const s=O(e)&&e.excludeFromCopy("html");let o=e;if(r!==null){let h=Cc(e);h=U(h)&&r!==null?zb(r,h):h,o=h}const l=O(o)?o.getChildren():[],a=yc(t,o.getType());let u;u=a&&a.exportDOM!==void 0?a.exportDOM(t,o):o.exportDOM(t);const{element:c,after:f}=u;if(!c)return!1;const d=document.createDocumentFragment();for(let h=0;h<l.length;h++){const p=l[h],g=n0(t,p,d,r);!i&&O(e)&&g&&e.extractWithChild(p,r,"html")&&(i=!0)}if(i&&!s){if((st(c)||nu(c))&&c.append(d),n.append(c),f){const h=f.call(o,c);h&&(nu(c)?c.replaceChildren(h):c.replaceWith(h))}}else n.append(d);return i}const r0=new Set(["STYLE","SCRIPT"]);function i0(t,e,n,r,i=new Map,s){let o=[];if(r0.has(t.nodeName))return o;let l=null;const a=(function(p,g){const{nodeName:m}=p,y=g._htmlConversions.get(m.toLowerCase());let b=null;if(y!==void 0)for(const x of y){const k=x(p);k!==null&&(b===null||(b.priority||0)<=(k.priority||0))&&(b=k)}return b!==null?b.conversion:null})(t,e),u=a?a(t):null;let c=null;if(u!==null){c=u.after;const p=u.node;if(l=Array.isArray(p)?p[p.length-1]:p,l!==null){for(const[,g]of i)if(l=g(l,s),!l)break;l&&o.push(...Array.isArray(p)?p:[l])}u.forChild!=null&&i.set(t.nodeName,u.forChild)}const f=t.childNodes;let d=[];const h=(l==null||!Sn(l))&&(l!=null&&Xa(l)||r);for(let p=0;p<f.length;p++)d.push(...i0(f[p],e,n,h,new Map(i),l));return c!=null&&(d=c(d)),Lo(t)&&(d=DO(t,d,h?()=>{const p=new gc;return n.push(p),p}:ct)),l==null?d.length>0?o=o.concat(d):Lo(t)&&(function(p){return p.nextSibling==null||p.previousSibling==null?!1:ru(p.nextSibling)&&ru(p.previousSibling)})(t)&&(o=o.concat(ur())):O(l)&&l.append(...d),o}function DO(t,e,n){const r=t.style.textAlign,i=[];let s=[];for(let o=0;o<e.length;o++){const l=e[o];if(Xa(l))r&&!l.getFormat()&&l.setFormat(r),i.push(l);else if(s.push(l),o===e.length-1||o<e.length-1&&Xa(e[o+1])){const a=n();a.setFormat(r),a.append(...s),i.push(a),s=[]}}return i}function Ko(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const i of e)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function IO(t,e=K()){return e==null&&Ko(166),j(e)&&e.isCollapsed()||e.getNodes().length===0?"":TO(t,e)}function FO(t,e=K()){return e==null&&Ko(166),j(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(OO(t,e))}function cp(t,e,n){const r=t.getData("application/x-lexical-editor");if(r)try{const l=JSON.parse(r);if(l.namespace===n._config.namespace&&Array.isArray(l.nodes))return fp(n,NO(l.nodes),e)}catch{}const i=t.getData("text/html"),s=t.getData("text/plain");if(i&&s!==i)try{const l=new DOMParser().parseFromString((function(a){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:u=>u}).createHTML(a):a})(i),"text/html");return fp(n,AO(n,l),e)}catch{}const o=s||t.getData("text/uri-list");if(o!=null)if(j(e)){const l=o.split(/(\r?\n|\t)/);l[l.length-1]===""&&l.pop();for(let a=0;a<l.length;a++){const u=K();if(j(u)){const c=l[a];c===`
`||c===`\r
`?u.insertParagraph():c==="	"?u.insertNodes([ms()]):u.insertText(c)}}}else e.insertRawText(o)}function fp(t,e,n){t.dispatchCommand(zT,{nodes:e,selection:n})||(n.insertNodes(e),(function(r){if(j(r)&&r.isCollapsed()){const i=r.anchor;let s=null;const o=Jt(i,"previous");if(o)if(Ht(o))s=o.origin;else{const l=Rn(o,Yt(de(),"next").getFlipped());for(const a of l){if(U(a.origin)){s=a.origin;break}if(O(a.origin)&&!a.origin.isInline())break}}if(s&&U(s)){const l=s.getFormat(),a=s.getStyle();r.format===l&&r.style===a||(r.format=l,r.style=a,r.dirty=!0)}}})(n))}function s0(t,e,n,r=[]){let i=e===null||n.isSelected(e);const s=O(n)&&n.excludeFromCopy("html");let o=n;if(e!==null){let u=Cc(n);u=U(u)&&e!==null?zb(e,u):u,o=u}const l=O(o)?o.getChildren():[],a=(function(u){const c=u.exportJSON(),f=u.constructor;if(c.type!==f.getType()&&Ko(58,f.name),O(u)){const d=c.children;Array.isArray(d)||Ko(59,f.name)}return c})(o);if(U(o)){const u=o.__text;u.length>0?a.text=u:i=!1}for(let u=0;u<l.length;u++){const c=l[u],f=s0(t,e,c,a.children);!i&&O(n)&&f&&n.extractWithChild(c,e,"clone")&&(i=!0)}if(i&&!s)r.push(a);else if(Array.isArray(a.children))for(let u=0;u<a.children.length;u++){const c=a.children[u];r.push(c)}return i}function OO(t,e){const n=[],r=de().getChildren();for(let i=0;i<r.length;i++)s0(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function NO(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=a2(r);U(i)&&DF(i),e.push(i)}return e}let Dr=null;async function dp(t,e,n){if(Dr!==null)return!1;if(e!==null)return new Promise(((u,c)=>{t.update((()=>{u(hp(t,e,n))}))}));const r=t.getRootElement(),i=t._window||window,s=window.document,o=Nt(i);if(r===null||o===null)return!1;const l=s.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(s.createTextNode("#")),r.append(l);const a=new Range;return a.setStart(l,0),a.setEnd(l,1),o.removeAllRanges(),o.addRange(a),new Promise(((u,c)=>{const f=t.registerCommand(ol,(d=>(Zn(d,ClipboardEvent)&&(f(),Dr!==null&&(window.clearTimeout(Dr),Dr=null),u(hp(t,d,n))),!0)),h2);Dr=window.setTimeout((()=>{f(),Dr=null,u(!1)}),50),s.execCommand("copy"),l.remove()}))}function hp(t,e,n){if(n===void 0){const i=Nt(t._window);if(!i)return!1;const s=i.anchorNode,o=i.focusNode;if(s!==null&&o!==null&&!ws(t,s,o))return!1;const l=K();if(l===null)return!1;n=MO(l)}e.preventDefault();const r=e.clipboardData;return r!==null&&(PO(r,n),!0)}const LO=[["text/html",IO],["application/x-lexical-editor",FO]];function MO(t=K()){const e={"text/plain":t?t.getTextContent():""};if(t){const n=vc();for(const[r,i]of LO){const s=i(n,t);s!==null&&(e[r]=s)}}return e}function PO(t,e){for(const n in e){const r=e[n];r!==void 0&&t.setData(n,r)}}function pp(t,e){if(document.caretRangeFromPoint!==void 0){const n=document.caretRangeFromPoint(t,e);return n===null?null:{node:n.startContainer,offset:n.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const n=document.caretPositionFromPoint(t,e);return n===null?null:{node:n.offsetNode,offset:n.offset}}return null}const mi=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,RO=mi&&"documentMode"in document?document.documentMode:null,BO=!(!mi||!("InputEvent"in window)||RO)&&"getTargetRanges"in new window.InputEvent("input"),zO=mi&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),gp=mi&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,jO=mi&&/^(?=.*Chrome).*/i.test(navigator.userAgent),$O=mi&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!jO,mp=Z("DRAG_DROP_PASTE_FILE");function Gs(t){let e=null;if(Zn(t,DragEvent)?e=t.dataTransfer:Zn(t,ClipboardEvent)&&(e=t.clipboardData),e===null)return[!1,[],!1];const n=e.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),i]}function yp(t){const e=K();if(!j(e))return!1;const n=new Set,r=e.getNodes();for(let i=0;i<r.length;i++){const s=r[i],o=s.getKey();if(n.has(o))continue;const l=sf(s,(u=>O(u)&&!u.isInline()));if(l===null)continue;const a=l.getKey();l.canIndent()&&!n.has(a)&&(n.add(a),t(l))}return n.size>0}function bp(t){const e=Qr(t);return ce(e)}function ga(t){for(const e of["lowercase","uppercase","capitalize"])t.hasFormat(e)&&t.toggleFormat(e)}function UO(t){return Sr(t.registerCommand(rc,(e=>{const n=K();return!!Be(n)&&(n.clear(),!0)}),le),t.registerCommand(er,(e=>{const n=K();return j(n)?(n.deleteCharacter(e),!0):!!Be(n)&&(n.deleteNodes(),!0)}),le),t.registerCommand(Xi,(e=>{const n=K();return!!j(n)&&(n.deleteWord(e),!0)}),le),t.registerCommand(Zi,(e=>{const n=K();return!!j(n)&&(n.deleteLine(e),!0)}),le),t.registerCommand($r,(e=>{const n=K();if(typeof e=="string")n!==null&&n.insertText(e);else{if(n===null)return!1;const r=e.dataTransfer;if(r!=null)cp(r,n,t);else if(j(n)){const i=e.data;return i&&n.insertText(i),!0}}return!0}),le),t.registerCommand(Wa,(()=>{const e=K();return!!j(e)&&(e.removeText(),!0)}),le),t.registerCommand(In,(e=>{const n=K();return!!j(n)&&(n.formatText(e),!0)}),le),t.registerCommand(Rm,(e=>{const n=K();if(!j(n)&&!Be(n))return!1;const r=n.getNodes();for(const i of r){const s=sf(i,(o=>O(o)&&!o.isInline()));s!==null&&s.setFormat(e)}return!0}),le),t.registerCommand(jr,(e=>{const n=K();return!!j(n)&&(n.insertLineBreak(e),!0)}),le),t.registerCommand(Ao,(()=>{const e=K();return!!j(e)&&(e.insertParagraph(),!0)}),le),t.registerCommand(WT,(()=>(s2([ms()]),!0)),le),t.registerCommand(HT,(()=>yp((e=>{const n=e.getIndent();e.setIndent(n+1)}))),le),t.registerCommand(Rd,(()=>yp((e=>{const n=e.getIndent();n>0&&e.setIndent(Math.max(0,n-1))}))),le),t.registerCommand(Dm,(e=>{const n=K();if(Be(n)){const r=n.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(j(n)){const r=Qa(n.focus,!0);if(!e.shiftKey&&ce(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1}),le),t.registerCommand(Im,(e=>{const n=K();if(Be(n)){const r=n.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(j(n)){if((function(i){const s=i.focus;return s.key==="root"&&s.offset===de().getChildrenSize()})(n))return e.preventDefault(),!0;const r=Qa(n.focus,!1);if(!e.shiftKey&&ce(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1}),le),t.registerCommand(Tm,(e=>{const n=K();if(Be(n)){const r=n.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!j(n))return!1;if(Jh(n,!0)){const r=e.shiftKey;return e.preventDefault(),Xh(n,r,!0),!0}return!1}),le),t.registerCommand(Am,(e=>{const n=K();if(Be(n)){const i=n.getNodes();if(i.length>0)return e.preventDefault(),i[0].selectNext(0,0),!0}if(!j(n))return!1;const r=e.shiftKey;return!!Jh(n,!1)&&(e.preventDefault(),Xh(n,r,!1),!0)}),le),t.registerCommand(Om,(e=>{if(bp(e.target))return!1;const n=K();if(j(n)){if((function(r){if(!r.isCollapsed())return!1;const{anchor:i}=r;if(i.offset!==0)return!1;const s=i.getNode();if($e(s))return!1;const o=Zb(s);return o.getIndent()>0&&(o.is(s)||s.is(o.getFirstDescendant()))})(n))return e.preventDefault(),t.dispatchCommand(Rd,void 0);if(gp&&navigator.language==="ko-KR")return!1}else if(!Be(n))return!1;return e.preventDefault(),t.dispatchCommand(er,!0)}),le),t.registerCommand(Lm,(e=>{if(bp(e.target))return!1;const n=K();return!(!j(n)&&!Be(n))&&(e.preventDefault(),t.dispatchCommand(er,!1))}),le),t.registerCommand(To,(e=>{const n=K();if(!j(n))return!1;if(ga(n),e!==null){if((gp||zO||$O)&&BO)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(jr,!1)}return t.dispatchCommand(Ao,void 0)}),le),t.registerCommand(Nm,(()=>{const e=K();return!!j(e)&&(t.blur(),!0)}),le),t.registerCommand(Pm,(e=>{const[,n]=Gs(e);if(n.length>0){const i=pp(e.clientX,e.clientY);if(i!==null){const{offset:s,node:o}=i,l=Qr(o);if(l!==null){const a=ny();if(U(l))a.anchor.set(l.getKey(),s,"text"),a.focus.set(l.getKey(),s,"text");else{const c=l.getParentOrThrow().getKey(),f=l.getIndexWithinParent()+1;a.anchor.set(c,f,"element"),a.focus.set(c,f,"element")}const u=So(a);Ye(u)}t.dispatchCommand(mp,n)}return e.preventDefault(),!0}const r=K();return!!j(r)}),le),t.registerCommand(Bm,(e=>{const[n]=Gs(e),r=K();return!(n&&!j(r))}),le),t.registerCommand(zm,(e=>{const[n]=Gs(e),r=K();if(n&&!j(r))return!1;const i=pp(e.clientX,e.clientY);if(i!==null){const s=Qr(i.node);ce(s)&&e.preventDefault()}return!0}),le),t.registerCommand(Ha,(()=>(b2(),!0)),le),t.registerCommand(ol,(e=>(dp(t,Zn(e,ClipboardEvent)?e:null),!0)),le),t.registerCommand(lc,(e=>((async function(n,r){await dp(r,Zn(n,ClipboardEvent)?n:null),r.update((()=>{const i=K();j(i)?i.removeText():Be(i)&&i.getNodes().forEach((s=>s.remove()))}))})(e,t),!0)),le),t.registerCommand(ic,(e=>{const[,n,r]=Gs(e);return n.length>0&&!r?(t.dispatchCommand(mp,n),!0):di(e.target)&&bc(e.target)?!1:K()!==null&&((function(i,s){i.preventDefault(),s.update((()=>{const o=K(),l=Zn(i,InputEvent)||Zn(i,KeyboardEvent)?null:i.clipboardData;l!=null&&o!==null&&cp(l,o,s)}),{tag:u2})})(e,t),!0)}),le),t.registerCommand(Fm,(e=>{const n=K();return j(n)&&ga(n),!1}),le),t.registerCommand(Mm,(e=>{const n=K();return j(n)&&ga(n),!1}),le))}const bu=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?P.useLayoutEffect:P.useEffect;function xp(t){return t.getEditorState().read(e0(t.isComposing()))}function WO({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[r]=Hn(),i=(function(s,o){const[l,a]=P.useState((()=>s.getDecorators()));return bu((()=>s.registerDecoratorListener((u=>{xa.flushSync((()=>{a(u)}))}))),[s]),P.useEffect((()=>{a(s.getDecorators())}),[s]),P.useMemo((()=>{const u=[],c=Object.keys(l);for(let f=0;f<c.length;f++){const d=c[f],h=D.jsx(o,{onError:g=>s._onError(g),children:D.jsx(P.Suspense,{fallback:null,children:l[d]})}),p=s.getElementByKey(d);p!==null&&u.push(xa.createPortal(h,p,d))}return u}),[o,l,s])})(r,n);return(function(s){bu((()=>Sr(UO(s),CO(s))),[s])})(r),D.jsxs(D.Fragment,{children:[t,D.jsx(HO,{content:e}),i]})}function HO({content:t}){const[e]=Hn(),n=(function(i){const[s,o]=P.useState((()=>xp(i)));return bu((()=>{function l(){const a=xp(i);o(a)}return l(),Sr(i.registerUpdateListener((()=>{l()})),i.registerEditableListener((()=>{l()})))}),[i]),s})(e),r=vO();return n?typeof t=="function"?t(r):t:null}class o0 extends dc{constructor(e,n){super(n),this.__format=e||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(e){const n=this.getWritable();return n.__format=e,n}isInline(){return!1}}function wp(t){return t instanceof o0}function kp(t,e){return t.getEditorState().read((()=>{const n=me(e);return n!==null&&n.isSelected()}))}function l0(t){const[e]=Hn(),[n,r]=P.useState((()=>kp(e,t)));return P.useEffect((()=>{let i=!0;const s=e.registerUpdateListener((()=>{i&&r(kp(e,t))}));return()=>{i=!1,s()}}),[e,t]),[n,P.useCallback((i=>{e.update((()=>{let s=K();Be(s)||(s=al(),Ye(s)),Be(s)&&(i?s.add(t):s.delete(t))}))}),[e,t]),P.useCallback((()=>{e.update((()=>{const i=K();Be(i)&&i.clear()}))}),[e])]}function KO({children:t,format:e,nodeKey:n,className:r}){const[i]=Hn(),[s,o,l]=l0(n),a=P.useRef(null);return P.useEffect(()=>Sr(i.registerCommand(Rm,u=>{if(s){const c=K();if(Be(c)){const f=me(n);wp(f)&&f.setFormat(u)}else if(j(c)){const f=c.getNodes();for(const d of f)wp(d)?d.setFormat(u):Zb(d).setFormat(u)}return!0}return!1},ah),i.registerCommand(rc,u=>u.target===a.current?(u.preventDefault(),u.shiftKey||l(),o(!0),!0):!1,ah)),[l,i,s,n,o]),D.jsx("div",{className:[r.base,s?r.focus:null].filter(Boolean).join(" "),ref:a,style:{justifyItems:e||void 0,textAlign:e||void 0},children:t})}function VO({format:t,isSelected:e,children:n}){return D.jsx(qe,{children:e&&D.jsx(qe,{sx:{justifyItems:t||void 0,position:"relative"},children:D.jsx(St,{sx:{position:"absolute",zIndex:1,top:-50,boxShadow:"0 4px 8px lightgrey",background:"white",mb:1},borderRadius:2,width:"fit-content",px:2,direction:"row",children:n})})})}function qO({layout:t,onLayoutChange:e}){const{t:n}=Vt(qt.PageEditor),r=i=>{e(i.target.value)};return D.jsx(D.Fragment,{children:D.jsxs(m1,{disableUnderline:!0,variant:"standard",value:t,label:"Link type",onChange:r,size:"small",children:[D.jsx(Fi,{value:"button",children:D.jsxs(St,{direction:"row",alignItems:"center",gap:1,children:[D.jsx($1,{size:16}),n("LINK.TYPE.BUTTON")]})}),D.jsx(Fi,{value:"embed",children:D.jsxs(St,{direction:"row",alignItems:"center",gap:1,children:[D.jsx(z1,{size:16}),n("LINK.TYPE.EMBED")]})}),D.jsx(Fi,{value:"text",children:D.jsxs(St,{direction:"row",alignItems:"center",gap:1,children:[D.jsx(y1,{size:16}),n("LINK.TYPE.TEXT")]})})]})})}function GO({url:t,onUrlChange:e}){const{t:n}=Vt(qt.PageEditor),{t:r}=Vt(qt.Common),[i,s]=fe.useState(null),o=!!i,l=()=>{s(null)},a=b1({defaultValues:{url:t}}),{handleSubmit:u,formState:{isValid:c,isSubmitted:f}}=a,d=p=>{s(p.currentTarget)},h=p=>{e(p.url),l()};return{button:D.jsx(Ai,{"aria-haspopup":"true","aria-expanded":o?"true":void 0,onClick:d,"aria-label":n("LINK.URL.BUTTON"),children:n("LINK.URL.BUTTON")}),modal:D.jsx(w1,{onClose:l,open:o,children:D.jsx(x1,{...a,children:D.jsxs(qe,{component:"form",onSubmit:u(h),children:[D.jsxs(k1,{children:[D.jsx(c1,{}),D.jsx(Ai,{component:"a",href:t,target:"_blank",rel:"noreferrer",endIcon:D.jsx(W1,{size:16}),"data-umami-event":"visit-link-editor-page",children:n("LINK.URL.VISIT_LINK_BUTTON")})]}),D.jsxs(_1,{children:[D.jsx(Ai,{size:"small",onClick:l,children:r("CANCEL.BUTTON_TEXT")}),D.jsx(Ai,{size:"small",variant:"contained",type:"submit",disabled:f&&!c,children:r("EDIT.BUTTON_TEXT")})]})]})})})}}function YO(t){try{return new URL(t).origin!==window.location.origin}catch{return!1}}function JO({url:t,layout:e,isResizable:n,height:r,loadingMessage:i,errorMessage:s,nodeKey:o,memberId:l,onClick:a}){const{data:u,isFetching:c}=us(R0({query:{link:t}})),[f,d]=P.useState(!0);if(P.useEffect(()=>{f||d(!0)},[t]),!t)return D.jsx(Op,{severity:"error",children:s});if(e==="embed"){if(c)return D.jsx(Np,{height:r});const h=u?.html;return h?D.jsx(qe,{display:"contents",dangerouslySetInnerHTML:{__html:h}}):D.jsxs(qe,{sx:{position:"relative"},children:[D.jsx(qe,{onClick:a,sx:{height:r,width:"100%",position:"absolute",zIndex:1}}),D.jsx(f1,{url:t,isResizable:n,height:r,title:u?.title??t,isLoading:f,onDoneLoading:()=>{d(!1)},itemId:o,memberId:l,loadingMessage:i})]})}if(e==="button"){const h=YO(t);return D.jsx(d1,{thumbnail:u?.icons?.[0],title:u?.title??t,urlText:t,description:"",isExternal:h,onClick:a})}return D.jsx(S1,{onClick:a,children:t})}function XO({className:t,format:e,nodeKey:n,canEdit:r=!0,url:i,layout:s,memberId:o,loadingMessage:l="Link is Loading...",height:a=400,errorMessage:u="The link is malformed.",onLayoutChange:c,onUrlChange:f,onClick:d}){const[h]=P.useState(a),[p]=l0(n),{button:g,modal:m}=GO({url:i,onUrlChange:f});return D.jsxs(D.Fragment,{children:[m,D.jsxs(VO,{isSelected:r&&p,format:e,children:[D.jsx(qO,{layout:s,onLayoutChange:c}),g]}),D.jsx(KO,{className:t,format:e,nodeKey:n,children:D.jsx(JO,{onClick:d,url:i,layout:s,isResizable:!0,height:h,loadingMessage:l,errorMessage:u,nodeKey:n,memberId:o})})]})}const ZO=P.memo(XO);function QO(t){const e=t.getAttribute("data-lexical-link-item-layout")??"text";return e?{node:of({layout:e,url:t.getAttribute("href")??""})}:null}class Ts extends o0{__url;__layout;static getType(){return"linkItem"}static clone(e){return new Ts(e.__url,e.__layout,e.__format,e.__key)}static importJSON(e){const n=of({url:e.url,layout:e.layout});return n.setFormat(e.format),n}constructor(e,n,r,i){super(r,i),this.__url=e,this.__layout=n??"button"}static importDOM(){return{a:()=>({conversion:QO,priority:2})}}getLayout(){return this.__layout}getUrl(){return this.__url}exportJSON(){return{...super.exportJSON(),type:"linkItem",version:1,url:this.getUrl(),layout:this.getLayout()}}exportDOM(){const e=document.createElement("a");return e.setAttribute("href",this.__url),e.setAttribute("data-lexical-link-item-layout",this.__layout),{element:e}}changeLayout(e){return n=>{e.update(()=>{const r=this.getWritable();r.__layout=n})}}changeUrl(e){return n=>{e.update(()=>{const r=this.getWritable();r.__url=n})}}select(e){e.update(()=>{const n=al();n.add(this.getKey()),Ye(n)})}decorate(e,n){const r=n.theme.embedBlock||{},i={base:r.base||"",focus:r.focus||""},s=e.isEditable();return D.jsx(ZO,{className:i,format:this.__format,nodeKey:this.getKey(),url:this.__url,layout:this.__layout,onLayoutChange:this.changeLayout(e),onUrlChange:this.changeUrl(e),canEdit:s,isResizable:s,onClick:o=>{o.stopPropagation(),this.select(e)}})}}function of(t){return new Ts(t.url,t.layout)}const eN=Z();function tN(){const[t]=Hn();return P.useEffect(()=>{if(!t.hasNodes([Ts]))throw new Error("LinkItemPlugin: LinkItemNode not registered on editor");return t.registerCommand(eN,e=>{const n=of(e);return sO(n),!0},le)},[t]),null}const nN={code:"editor-code",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},image:"editor-image",link:"editor-link",list:{listitem:"editor-listitem",nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul"},ltr:"ltr",paragraph:"editor-paragraph",placeholder:"editor-placeholder",quote:"editor-quote",rtl:"rtl",text:{bold:"editor-text-bold",code:"editor-text-code",hashtag:"editor-text-hashtag",italic:"editor-text-italic",overflowed:"editor-text-overflowed",strikethrough:"editor-text-strikethrough",underline:"editor-text-underline",underlineStrikethrough:"editor-text-underlineStrikethrough"}},a0=new Map;class rN{constructor(e){this.room=e,this.onmessage=null,this._onChange=n=>n.key===e&&this.onmessage!==null&&this.onmessage({data:WD(n.newValue||"")}),_D(this._onChange)}postMessage(e){By.setItem(this.room,UD(RD(e)))}close(){SD(this._onChange)}}const iN=typeof BroadcastChannel>"u"?rN:BroadcastChannel,lf=t=>tn(a0,t,()=>{const e=Bn(),n=new iN(t);return n.onmessage=r=>e.forEach(i=>i(r.data,"broadcastchannel")),{bc:n,subs:e}}),sN=(t,e)=>(lf(t).subs.add(e),e),oN=(t,e)=>{const n=lf(t),r=n.subs.delete(e);return r&&n.subs.size===0&&(n.bc.close(),a0.delete(t)),r},Mr=(t,e,n=null)=>{const r=lf(t);r.bc.postMessage(e),r.subs.forEach(i=>i(e,n))},u0=0,af=1,c0=2,xu=(t,e)=>{J(t,u0);const n=xI(e);Ce(t,n)},f0=(t,e,n)=>{J(t,af),Ce(t,gI(e,n))},lN=(t,e,n)=>f0(e,n,We(t)),d0=(t,e,n)=>{try{dI(e,We(t),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},aN=(t,e)=>{J(t,c0),Ce(t,e)},uN=d0,cN=(t,e,n,r)=>{const i=Q(t);switch(i){case u0:lN(t,e,n);break;case af:d0(t,n,r);break;case c0:uN(t,n,r);break;default:throw new Error("Unknown message type")}return i},fN=0,dN=(t,e,n)=>{switch(Q(t)){case fN:n(e,Mn(t))}},ma=3e4;class hN extends U2{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=jn();this.getLocalState()!==null&&ma/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((i,s)=>{s!==this.clientID&&ma<=n-i.lastUpdated&&this.states.has(s)&&r.push(s)}),r.length>0&&uf(this,r,"timeout")},xn(ma/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const n=this.clientID,r=this.meta.get(n),i=r===void 0?0:r.clock+1,s=this.states.get(n);e===null?this.states.delete(n):this.states.set(n,e),this.meta.set(n,{clock:i,lastUpdated:jn()});const o=[],l=[],a=[],u=[];e===null?u.push(n):s==null?e!=null&&o.push(n):(l.push(n),$i(s,e)||a.push(n)),(o.length>0||a.length>0||u.length>0)&&this.emit("change",[{added:o,updated:a,removed:u},"local"]),this.emit("update",[{added:o,updated:l,removed:u},"local"])}setLocalStateField(e,n){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[e]:n})}getStates(){return this.states}}const uf=(t,e,n)=>{const r=[];for(let i=0;i<e.length;i++){const s=e[i];if(t.states.has(s)){if(t.states.delete(s),s===t.clientID){const o=t.meta.get(s);t.meta.set(s,{clock:o.clock+1,lastUpdated:jn()})}r.push(s)}}r.length>0&&(t.emit("change",[{added:[],updated:[],removed:r},n]),t.emit("update",[{added:[],updated:[],removed:r},n]))},Ui=(t,e,n=t.states)=>{const r=e.length,i=He();J(i,r);for(let s=0;s<r;s++){const o=e[s],l=n.get(o)||null,a=t.meta.get(o).clock;J(i,o),J(i,a),rr(i,JSON.stringify(l))}return _e(i)},pN=(t,e,n)=>{const r=Vn(e),i=jn(),s=[],o=[],l=[],a=[],u=Q(r);for(let c=0;c<u;c++){const f=Q(r);let d=Q(r);const h=JSON.parse(Mn(r)),p=t.meta.get(f),g=t.states.get(f),m=p===void 0?0:p.clock;(m<d||m===d&&h===null&&t.states.has(f))&&(h===null?f===t.clientID&&t.getLocalState()!=null?d++:t.states.delete(f):t.states.set(f,h),t.meta.set(f,{clock:d,lastUpdated:i}),p===void 0&&h!==null?s.push(f):p!==void 0&&h===null?a.push(f):h!==null&&($i(h,g)||l.push(f),o.push(f)))}(s.length>0||l.length>0||a.length>0)&&t.emit("change",[{added:s,updated:l,removed:a},n]),(s.length>0||o.length>0||a.length>0)&&t.emit("update",[{added:s,updated:o,removed:a},n])},gN=t=>CD(t,(e,n)=>`${encodeURIComponent(n)}=${encodeURIComponent(e)}`).join("&"),Qn=0,h0=3,qr=1,mN=2,Ds=[];Ds[Qn]=(t,e,n,r,i)=>{J(t,Qn);const s=cN(e,t,n.doc,n);r&&s===af&&!n.synced&&(n.synced=!0)};Ds[h0]=(t,e,n,r,i)=>{J(t,qr),Ce(t,Ui(n.awareness,Array.from(n.awareness.getStates().keys())))};Ds[qr]=(t,e,n,r,i)=>{pN(n.awareness,We(e),n)};Ds[mN]=(t,e,n,r,i)=>{dN(e,n.doc,(s,o)=>yN(n,o))};const _p=3e4,yN=(t,e)=>console.warn(`Permission denied to access ${t.url}.
${e}`),p0=(t,e,n)=>{const r=Vn(e),i=He(),s=Q(r),o=t.messageHandlers[s];return o?o(i,r,t,n,s):console.error("Unable to compute message"),i},wu=(t,e,n)=>{e===t.ws&&(t.emit("connection-close",[n,t]),t.ws=null,e.close(),t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,uf(t.awareness,Array.from(t.awareness.getStates().keys()).filter(r=>r!==t.doc.clientID),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(g0,Nc(W2(2,t.wsUnsuccessfulReconnects)*100,t.maxBackoffTime),t))},g0=t=>{if(t.shouldConnect&&t.ws===null){const e=new t._WS(t.url,t.protocols);e.binaryType="arraybuffer",t.ws=e,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,e.onmessage=n=>{t.wsLastMessageReceived=jn();const r=p0(t,new Uint8Array(n.data),!0);Lc(r)>1&&e.send(_e(r))},e.onerror=n=>{t.emit("connection-error",[n,t])},e.onclose=n=>{wu(t,e,n)},e.onopen=()=>{t.wsLastMessageReceived=jn(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);const n=He();if(J(n,Qn),xu(n,t.doc),e.send(_e(n)),t.awareness.getLocalState()!==null){const r=He();J(r,qr),Ce(r,Ui(t.awareness,[t.doc.clientID])),e.send(_e(r))}},t.emit("status",[{status:"connecting"}])}},ya=(t,e)=>{const n=t.ws;t.wsconnected&&n&&n.readyState===n.OPEN&&n.send(e),t.bcconnected&&Mr(t.bcChannel,e,t)};class bN extends Oc{constructor(e,n,r,{connect:i=!0,awareness:s=new hN(r),params:o={},protocols:l=[],WebSocketPolyfill:a=WebSocket,resyncInterval:u=-1,maxBackoffTime:c=2500,disableBc:f=!1}={}){for(super();e[e.length-1]==="/";)e=e.slice(0,e.length-1);this.serverUrl=e,this.bcChannel=e+"/"+n,this.maxBackoffTime=c,this.params=o,this.protocols=l,this.roomname=n,this.doc=r,this._WS=a,this.awareness=s,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=f,this.wsUnsuccessfulReconnects=0,this.messageHandlers=Ds.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=i,this._resyncInterval=0,u>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const d=He();J(d,Qn),xu(d,r),this.ws.send(_e(d))}},u)),this._bcSubscriber=(d,h)=>{if(h!==this){const p=p0(this,new Uint8Array(d),!1);Lc(p)>1&&Mr(this.bcChannel,_e(p),this)}},this._updateHandler=(d,h)=>{if(h!==this){const p=He();J(p,Qn),aN(p,d),ya(this,_e(p))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:d,updated:h,removed:p},g)=>{const m=d.concat(h).concat(p),y=He();J(y,qr),Ce(y,Ui(s,m)),ya(this,_e(y))},this._exitHandler=()=>{uf(this.awareness,[r.clientID],"app closed")},$n&&typeof process<"u"&&process.on("exit",this._exitHandler),s.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&_p<jn()-this.wsLastMessageReceived&&wu(this,this.ws,null)},_p/10),i&&this.connect()}get url(){const e=gN(this.params);return this.serverUrl+"/"+this.roomname+(e.length===0?"":"?"+e)}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),$n&&typeof process<"u"&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(sN(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const e=He();J(e,Qn),xu(e,this.doc),Mr(this.bcChannel,_e(e),this);const n=He();J(n,Qn),f0(n,this.doc),Mr(this.bcChannel,_e(n),this);const r=He();J(r,h0),Mr(this.bcChannel,_e(r),this);const i=He();J(i,qr),Ce(i,Ui(this.awareness,[this.doc.clientID])),Mr(this.bcChannel,_e(i),this)}disconnectBc(){const e=He();J(e,qr),Ce(e,Ui(this.awareness,[this.doc.clientID],new Map)),ya(this,_e(e)),this.bcconnected&&(oN(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&wu(this,this.ws,null)}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(g0(this),this.connectBc())}}const ba=5,xN=({edit:t})=>{const[e,n]=P.useState([]),[r,i]=P.useState(null),[s,o]=P.useState(!1),[l,a]=P.useState([]),u=P.useCallback(()=>{if(t){const h=r.awareness;a(Array.from(h.getStates().entries()).map(([p,{color:g,name:m}])=>({color:g,name:m,userId:p})))}},[t,r]);P.useEffect(()=>{if(r!=null&&t)return r.awareness.on("update",u),()=>r.awareness.off("update",u)},[r,u,t]);const c=P.useCallback((h,p)=>{const g=wN(h,p,t);return g.on("status",m=>{o(m.status==="connected"||"connected"in m&&m.connected===!0),m.status==="disconnected"&&n(y=>y.concat([new Date]).slice(-10))}),setTimeout(()=>i(g),0),g},[t]),[f,d]=P.useState(!1);return P.useEffect(()=>{if(!f&&e.length>ba){const h=e.slice(-ba);E1(new Date(h[ba-1]),new Date(e[0]))<2&&d(!0)}},[e,f]),{providerFactory:c,activeUsers:l,connected:s,hasTimedOut:f}};function wN(t,e,n){const r=kN(t,e);return new bN(B0,n?`items/pages/${t}/ws`:`items/pages/${t}/ws/read`,r,{connect:!1})}function kN(t,e){let n=e.get(t);return n===void 0?(n=new Xt,e.set(t,n)):n.load(),n}function _N(t){console.error(t)}function NL({item:t}){const{providerFactory:e}=xN({edit:!1}),n=P.useRef(null),r={namespace:"MyEditor",theme:nN,onError:_N,nodes:[fi,yr,Ts],editable:!1};return D.jsx("div",{ref:n,children:D.jsx(dO,{initialConfig:r,children:D.jsx("div",{style:{width:"100%",height:"100vh"},children:D.jsxs("div",{className:"editor-inner",children:[D.jsx(uO,{id:t.id,providerFactory:e,shouldBootstrap:!1,cursorsContainerRef:n}),D.jsx(WO,{ErrorBoundary:_O,contentEditable:D.jsx(bO,{})}),D.jsx(tN,{})]})})})})}const LL=({id:t,item:e,emptyMessage:n="This document is empty",showEmpty:r,showCollapse:i,showTitle:s,onCollapse:o})=>{let l;const a=h1(e.extra);return!a?.content&&r?l=D.jsx(Ot,{variant:"body2",sx:{fontStyle:"italic",color:"lightgrey"},children:n}):l=p1({content:D.jsx(Lp,{id:t,content:a?.content}),flavor:a?.flavor,title:s?e?.name:void 0}),i&&(l=ku({item:e,onCollapse:o})(l)),l},ML=({itemId:t,padUrl:e,iframeId:n=`etherpad-container-${t}`,options:r,style:i})=>{const s=new URL(e);return r&&Object.entries(r).forEach(([o,l])=>s.searchParams.set(o,String(l))),D.jsx("iframe",{title:"etherpad frame",id:n,src:s.href,frameBorder:0,sandbox:"allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-presentation allow-scripts allow-same-origin",style:{width:"100%",height:"100%",border:"none",display:"block",...i}})},Sp={BlobURL:"errorBlobUrl"},SN=Pe("a")({textDecoration:"none"}),EN=({id:t,name:e="File",caption:n="",url:r,onClick:i})=>D.jsx(SN,{id:t,href:r,target:"_blank",rel:"noreferrer",download:e,children:D.jsx(Ai,{size:"large",variant:"contained",startIcon:D.jsx(D1,{}),onClick:i,sx:{textTransform:"none"},children:D.jsxs(St,{direction:"row",gap:4,alignItems:"center",children:[D.jsxs(St,{direction:"column",alignItems:"flex-start",children:[D.jsx(Ot,{children:e}),D.jsx(Ot,{variant:"caption",children:n})]}),D.jsx(T1,{})]})})}),vN=({id:t,url:e,type:n,sx:r})=>{const i=Pe("audio")({maxWidth:"100%",width:"100%"});return D.jsx(i,{sx:r,id:t,controls:!0,children:D.jsx("source",{src:e,type:n})})},CN=({id:t,url:e,alt:n})=>D.jsx("img",{id:t,src:e,alt:n,title:n,style:{maxWidth:"100%",width:"100%"}}),AN=Pe("embed")({maxHeight:g1}),TN=({url:t,id:e,sx:n,height:r,showCollapse:i,pdfViewerLink:s})=>{const o=P.useRef(null),[l,a]=P.useState(r??"100%"),u=f=>{if(!i){const d=f.target?.offsetParent?.scrollHeight;d&&a(d)}};let c=t;return s&&(c=`${s}${encodeURIComponent(t)}`),D.jsx(AN,{ref:o,id:e,src:c,width:"100%",height:l||"100%",onLoad:u,sx:n})},DN=Pe("video")({maxWidth:"100%"}),IN=({id:t,url:e,sx:n})=>D.jsx(DN,{sx:n,id:t,controls:!0,children:D.jsx("source",{src:e})}),FN=t=>{switch(t){case Ir.ExtraSmall:return"100px";case Ir.Small:return"200px";case Ir.Medium:return"400px";case Ir.Large:return"800px";case Ir.ExtraLarge:default:return"100%"}},ON=({size:t=Ir.ExtraLarge,children:e})=>{const n=FN(t);return D.jsx(qe,{maxWidth:"100%",width:n,children:e})},NN=({content:t,fileUrl:e,defaultItem:n,errorMessage:r=C1,id:i,item:s,maxHeight:o="100%",showCollapse:l,pdfViewerLink:a,onClick:u,onCollapse:c})=>{const[f,d]=P.useState();if(P.useEffect(()=>{(async()=>{if(e)d(e);else if(t){const g=URL.createObjectURL(t);d(g||Sp.BlobURL)}return()=>{t&&f&&URL.revokeObjectURL(f)}})()},[t,e]),!f)return D.jsx(Np,{variant:"rectangular",width:"100%",height:o||v1});if(f===Sp.BlobURL)return D.jsx(Op,{severity:"error",children:r});let p=(()=>{const g=I1(s.extra),{mimetype:m,altText:y,size:b}=g;if(m){if(Os.isImage(m))return D.jsx(qe,{children:D.jsx(CN,{id:i,url:f,alt:y||s.name})});if(Os.isAudio(m))return D.jsx(vN,{id:i,url:f,type:m});if(Os.isVideo(m))return D.jsx(IN,{id:i,url:f});if(Os.isPdf(m))return D.jsx(TN,{id:i,url:f,height:o,showCollapse:l,pdfViewerLink:a})}return n||D.jsx(EN,{id:i,name:s.name,caption:b?F1(b):void 0,url:f,onClick:u})})();return p=D.jsx(ON,{size:s.settings.maxWidth,children:p}),p=D.jsx(v0,{item:s,children:p}),l&&(p=ku({item:s,onCollapse:c})(p)),p},PL=P.memo(NN),RL=({itemName:t,itemId:e,contentId:n,integrationUrl:r,iframeId:i=`h5p-container-${e}`,showCollapse:s=!1,onCollapse:o})=>{const l=new URL(r);l.searchParams.set("content",encodeURIComponent(n));const a=P.useRef(null);P.useEffect(()=>{const c=f=>{if(a.current===null||f.origin!==l.origin||f.source!==a.current.contentWindow||!f.data||typeof f.data!="object"||!f.data.contentId||!f.data.height||typeof f.data.contentId!="string"||M1(f.data.contentId)!==4||!Mp(f.data.contentId)||f.data.contentId!==n||typeof f.data.height!="number")return;const d=Number.parseInt(f.data.height);a.current.height=d.toString()};return window.addEventListener("message",c),()=>{window.removeEventListener("message",c)}},[]);let u=D.jsx("iframe",{title:"h5p frame",ref:a,id:i,src:l.href,allowFullScreen:!0,scrolling:"no",style:{width:"100%",border:"none",display:"block"}});return s&&(u=ku({item:{name:t},onCollapse:o})(u)),u};function BL({item:t}){const e=N1(z0.breakpoints.up("sm")),{t:n}=Vt(qt.Common),r=t.thumbnails?.medium;return D.jsxs(St,{gap:2,children:[D.jsxs(St,{direction:{sm:"row"},gap:2,alignItems:"center",children:[r&&D.jsx(St,{width:{xs:"100%",sm:"inherit"},children:D.jsx(O1,{maxWidth:e?"96px":"100%",maxHeight:e?"96px":"100%",url:r,alt:t.name,sx:{borderRadius:5}})}),D.jsxs(St,{gap:1,width:"100%",children:[D.jsx(Ot,{className:j0,variant:"h2",component:"h1",children:t.name}),t.creator&&D.jsx(Ot,{variant:"caption",children:n("FOLDER_HEADER_CREATED_BY",{name:t.creator?.name})})]})]}),D.jsx(Lp,{content:t.description??""})]})}const zL=({handleDrawerClose:t,children:e})=>{const r=vp().direction??A1;return D.jsxs(St,{direction:"row",gap:2,alignItems:"center",justifyContent:"space-between",py:1,children:[e,D.jsx(qo,{onClick:t,children:r==="ltr"?D.jsx(L1,{}):D.jsx(R1,{})})]})};export{Pm as $,uO as A,WO as B,R1 as C,LL as D,ML as E,PL as F,_O as G,RL as H,eN as I,bO as J,fi as K,Ts as L,OL as M,tN as N,AL as O,NL as P,_L as Q,BL as S,st as T,vL as U,zm as V,DL as Y,j as _,zL as a,SL as b,EL as c,Gs as d,me as e,ah as f,K as g,TL as h,pl as i,Sr as j,Qr as k,Rm as l,bs as m,sf as n,Hn as o,Cm as p,In as q,FL as r,xN as s,dO as t,Eu as u,CL as v,de as w,O as x,yr as y,nN as z};
