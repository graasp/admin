import{v,j as t,r as g,T as C,S as c,s as E,h as b,b as P,N as M,bg as _,i as w,C as z,G as S,bh as L,O}from"./index-B_BHgQQY.js";import{T as I}from"./TypographyLink-BhX6wc0l.js";import{M as R}from"./MenuItemLink-BMQoDPhe.js";import{I as k}from"./IconButton-t5WdCoTE.js";import{M as B}from"./Menu-C45l_y2r.js";import{C as N}from"./chevron-right-CtTm1uPZ.js";import{B as D}from"./Box-CXXiFbSb.js";import{B as $}from"./Breadcrumbs-CifeKTUg.js";import{b as H,a as V,c as G,B as W,d as y,T as F,A as U}from"./selectors-D3m2hp05.js";import{N as q}from"./constants-Wv2H5Vy8.js";import{M as K,H as X}from"./Main-C431biOU.js";import{M as f,H as Y}from"./HomeHeaderLink-BUnyokPa.js";import{P as J,a as u}from"./PlatformSwitch-WByAblGo.js";import{u as Q}from"./useMobileView-Wj1l5_E9.js";import{A as Z}from"./AnalyticsIcon-QnG2Q_YS.js";import{c as tt}from"./createSvgIcon-CR_wPvPv.js";import{D as rt,a as ot,V as it}from"./DataProvider-Da4vEUf0.js";import{P as et}from"./permissionLevel-BOsSKewz.js";import"./MenuItem-i4R53H8t.js";import"./listItemTextClasses-DkicRqsl.js";import"./ButtonBase-ylRkSt5R.js";import"./isFocusVisible-B8k4qzLc.js";import"./dividerClasses-Bk0V9OT7.js";import"./CircularProgress-_2M16NEZ.js";import"./useSlot-D6B6Ly0P.js";import"./Grow-BvZTf0bq.js";import"./utils-NE7yIt1Q.js";import"./Modal-DNRlalor.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Popover-CgVTRYfe.js";import"./Paper-e3G0y0Go.js";import"./List-Cf8ruq7c.js";import"./toDate-BXq0HhWu.js";import"./triggers-BfmRfMmW.js";import"./ListItemIcon-BTN91sVG.js";import"./house-CTODF5ty.js";import"./settings-CTRMiCcG.js";import"./Divider-DwBPlmwR.js";import"./circle-question-mark-BrH_Q4hU.js";import"./door-open-CFditvjb.js";import"./Avatar-DCfOgV-R.js";import"./Thumbnail-CeEWDJof.js";import"./StyledBaseComponents-0ZpECQxB.js";import"./Skeleton-Bf_dEhrE.js";import"./Avatar-BO-XeDPi.js";import"./DialogContent-BLGJ1kXP.js";import"./DialogTitle-BL-ZXwRQ.js";import"./DialogActions-B4c7iV3e.js";import"./Button-4ORflwU5.js";import"./TableRow-iBTETprB.js";import"./TableHead-CbzCS9fp.js";import"./Grid-DwBZvdO2.js";import"./isMuiElement-BdxtYttK.js";import"./Tooltip-CY4gBTjx.js";import"./useControlled-BMwunPLn.js";import"./Badge-DAnJA1M3.js";import"./usePreviousProps-WLnL_Kyw.js";import"./ButtonLink-D-yZd9SS.js";import"./LanguageSwitch-Csgxy8ls.js";import"./langs-C5VEx8tQ.js";import"./normalizeDates-Bl5IZJGD.js";import"./chevron-down-D3HPGb0W.js";import"./menu-DkoWrpIq.js";import"./ListItem-DMPRMp_G.js";import"./listItemButtonClasses-BxUs8zQL.js";import"./ListItemButton-TRjTb-Ya.js";import"./ListItemText-Db53d-gu.js";import"./PlayIcon-DlP8i5u8.js";import"./LibraryIcon-Us5FpFqN.js";import"./index-CVpgN-ou.js";import"./Fab-g5xTBhKE.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],nt=v("chart-pie",at);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.5",key:"13ddob"}],["path",{d:"M4.017 11.512a6 6 0 1 0 8.466 8.475",key:"s6vs5t"}],["path",{d:"M9 16a1 1 0 0 1-1-1v-4c0-.552.45-1.008.995-.917a6 6 0 0 1 4.922 4.922c.091.544-.365.995-.917.995z",key:"1dl6s6"}]],mt=v("file-chart-pie",st),pt=tt(t.jsx("path",{d:"M4 8h4V4H4zm6 12h4v-4h-4zm-6 0h4v-4H4zm0-6h4v-4H4zm6 0h4v-4h-4zm6-10v4h4V4zm-6 4h4V4h-4zm6 6h4v-4h-4zm0 6h4v-4h-4z"})),ct=t.jsx(N,{"data-testid":"NavigateNextIcon"});function T({buildIconId:r,buildMenuId:e,buildMenuItemId:i,icon:a=ct,itemId:o,useChildren:n,renderArrow:s}){const[m,p]=g.useState(null),l=!!m,{data:d}=n(o),h=x=>{p(x.currentTarget)},A=()=>{p(null)};return!d?.length&&s?a:d?.length?t.jsxs(t.Fragment,{children:[t.jsx(k,{onClick:h,id:r?.(o),"aria-controls":l?e?.(o):void 0,"aria-haspopup":"true","aria-expanded":l?!0:void 0,children:a}),t.jsx(B,{anchorEl:m,id:e?.(o),open:l,onClose:A,onClick:A,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:d?.map(({name:x,id:j})=>t.jsx(R,{id:i?.(j),to:"/analytics/items/$itemId",params:{itemId:j},children:t.jsx(C,{children:x})},j))})]}):null}function lt({item:r,buildBreadcrumbsItemLinkId:e,useChildren:i,buildIconId:a,buildMenuId:o,buildMenuItemId:n,showArrow:s}){return t.jsxs(c,{direction:"row",alignItems:"center",children:[t.jsx(I,{id:e?.(r.id),to:".",params:{itemId:r.id},children:r.name},r.id),(r.type==="folder"||s)&&t.jsx(T,{useChildren:i,itemId:r.id,buildIconId:a,buildMenuItemId:n,buildMenuId:o,renderArrow:s})]})}const dt=t.jsx(N,{"data-testid":"NavigateNextIcon"});function ht({icon:r=dt,menuItems:e}){const[i,a]=g.useState(null),o=!!i,n=m=>{a(m.currentTarget)},s=()=>{a(null)};return t.jsxs(t.Fragment,{children:[t.jsx(k,{onClick:n,"aria-haspopup":"true","aria-expanded":o?!0:void 0,children:r}),t.jsx(B,{anchorEl:i,open:o,onClose:s,onClick:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:e?.map(({name:m,path:p})=>t.jsx(R,{to:p,children:t.jsx(C,{children:m})},m))})]})}function ut({extraItems:r}){return r.map(({icon:e,name:i,path:a,menuItems:o})=>t.jsxs(c,{direction:"row",alignItems:"center",children:[t.jsxs(D,{display:"flex",gap:1,children:[e,t.jsx(I,{to:a,children:i})]}),o&&o.length>0&&t.jsx(ht,{menuItems:o})]},i))}function xt({parents:r,useChildren:e,buildBreadcrumbsItemLinkId:i}){return t.jsx(c,{direction:"row",alignItems:"center",children:r.map(({name:a,id:o})=>t.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"center",children:[t.jsx(I,{id:i?.(o),to:"/analytics/items/$itemId",params:{itemId:o},children:a}),t.jsx(T,{useChildren:e,itemId:o})]},o))})}const jt=E($)(()=>({".MuiBreadcrumbs-separator":{margin:0}}));function ft({backgroundColor:r,buildBreadcrumbsItemLinkId:e,buildIconId:i,buildMenuItemId:a,id:o,item:n,parents:s,sx:m,useChildren:p,buildMenuId:l,maxItems:d=4,extraItems:h}){return t.jsxs(jt,{sx:m,id:o,maxItems:d,separator:"","aria-label":"breadcrumb",style:{backgroundColor:r},children:[n?.id&&s&&t.jsx(xt,{useChildren:p,parents:s,buildBreadcrumbsItemLinkId:e}),n?.id&&n&&t.jsx(lt,{item:n,useChildren:p,buildBreadcrumbsItemLinkId:e,buildIconId:i,buildMenuId:l,buildMenuItemId:a,showArrow:!!h?.length}),h&&t.jsx(ut,{extraItems:h})]})}const{useItem:gt,useParents:It,useChildren:At}=b;function yt({itemId:r}){const{data:e}=gt(r),{data:i}=It({id:r});return t.jsx(ft,{id:W,sx:{paddingLeft:2},item:e,parents:i,backgroundColor:q,buildBreadcrumbsItemLinkId:G,buildMenuItemId:V,useChildren:At,buildIconId:H})}function vt({itemId:r}){const{t:e}=P(M.Analytics),{descendantApps:i}=g.useContext(rt),{data:a}=b.useItem(r),o=[];return o.push(t.jsx(f,{id:y(F),text:e("TAB_GENERAL"),icon:t.jsx(nt,{}),to:"/analytics/items/$itemId",params:{itemId:r}},"general")),i.length&&o.push(t.jsx(f,{id:y(U),text:e("TAB_APPS"),icon:t.jsx(pt,{}),to:"/analytics/items/$itemId/apps",params:{itemId:r}},"apps")),a?.permission&&et.gte(a.permission,"write")&&o.push(t.jsx(f,{text:e("TAB_EXPORT"),to:"/analytics/items/$itemId/export",params:{itemId:r},icon:t.jsx(mt,{})},"export")),t.jsx(c,{children:o})}const Ct=_("/analytics/items/$itemId"),bt=({children:r})=>t.jsx(Y,{to:"/home",children:r});function Pt({children:r}){const{t:e}=P(M.Analytics),{itemId:i}=Ct.useParams(),{isMobile:a}=Q(),o=w(),n={[u.Builder]:{href:`/builder/items/${i}`},[u.Player]:{href:`/player/${i}/${i}`},[u.Library]:{href:S},[u.Analytics]:{disabled:!0}};return t.jsx(K,{context:z.Analytics,drawerContent:t.jsx(vt,{itemId:i}),drawerOpenAriaLabel:e("DRAWER_OPEN_ARIA"),headerRightContent:t.jsx(X,{}),PlatformComponent:t.jsx(J,{CustomMobileIcon:Z,platformsProps:n,color:a?o.palette.primary.main:"white",accentColor:a?"white":o.palette.primary.main}),LinkComponent:bt,children:r})}function Gr(){const{itemId:r}=L.useParams();return t.jsx(ot,{itemId:r,children:t.jsxs(Pt,{children:[t.jsx(yt,{itemId:r}),t.jsx(it,{children:t.jsx(c,{direction:"column",p:2,alignItems:"center",width:"100%",children:t.jsx(O,{})})})]})})}export{Gr as component};
