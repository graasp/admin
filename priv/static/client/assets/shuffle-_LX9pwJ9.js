import{v as I}from"./validate-DVgNBRRM.js";import{u as b}from"./stringify-D92ucQ0I.js";function p(n){if(!I(n))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(n.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(n.slice(9,13),16))>>>8,e&255,(e=parseInt(n.slice(14,18),16))>>>8,e&255,(e=parseInt(n.slice(19,23),16))>>>8,e&255,(e=parseInt(n.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}function m(n){n=unescape(encodeURIComponent(n));const e=new Uint8Array(n.length);for(let t=0;t<n.length;++t)e[t]=n.charCodeAt(t);return e}const v="6ba7b810-9dad-11d1-80b4-00c04fd430c8",B="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function L(n,e,t,r,a,i){const s=typeof t=="string"?m(t):t,l=typeof r=="string"?p(r):r;if(typeof r=="string"&&(r=p(r)),r?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+s.length);if(f.set(l),f.set(s,l.length),f=e(f),f[6]=f[6]&15|n,f[8]=f[8]&63|128,a){i=i||0;for(let o=0;o<16;++o)a[i+o]=f[o];return a}return b(f)}function M(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function U(n,e){return n<<e|n>>>32-e}function R(n){const e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520],r=new Uint8Array(n.length+1);r.set(n),r[n.length]=128,n=r;const a=n.length/4+2,i=Math.ceil(a/16),s=new Array(i);for(let l=0;l<i;++l){const f=new Uint32Array(16);for(let o=0;o<16;++o)f[o]=n[l*64+o*4]<<24|n[l*64+o*4+1]<<16|n[l*64+o*4+2]<<8|n[l*64+o*4+3];s[l]=f}s[i-1][14]=(n.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(n.length-1)*8&4294967295;for(let l=0;l<i;++l){const f=new Uint32Array(80);for(let c=0;c<16;++c)f[c]=s[l][c];for(let c=16;c<80;++c)f[c]=U(f[c-3]^f[c-8]^f[c-14]^f[c-16],1);let o=t[0],h=t[1],u=t[2],g=t[3],d=t[4];for(let c=0;c<80;++c){const A=Math.floor(c/20),w=U(o,5)+M(A,h,u,g)+d+e[A]+f[c]>>>0;d=g,g=u,u=U(h,30)>>>0,h=o,o=w}t[0]=t[0]+o>>>0,t[1]=t[1]+h>>>0,t[2]=t[2]+u>>>0,t[3]=t[3]+g>>>0,t[4]=t[4]+d>>>0}return Uint8Array.of(t[0]>>24,t[0]>>16,t[0]>>8,t[0],t[1]>>24,t[1]>>16,t[1]>>8,t[1],t[2]>>24,t[2]>>16,t[2]>>8,t[2],t[3]>>24,t[3]>>16,t[3]>>8,t[3],t[4]>>24,t[4]>>16,t[4]>>8,t[4])}function x(n,e,t,r){return L(80,R,n,e,t,r)}x.DNS=v;x.URL=B;function T(n,e){if(e===0)return 0;let t=0;for(let r=0;r<n.length;r++)t=t*31+n.charCodeAt(r),t|=0;return Math.abs(t)%e}function y(n,e=""){const t=n.slice();for(let r=t.length-1;r>0;r--){const a=T(e,r+1);[t[r],t[a]]=[t[a],t[r]]}return t}function C(n,e=""){if(!n?.length||n.length===1)return n;const t=n.slice(0,n.length-1),r=n[n.length-1];return[...y(t,e),r]}function E(n,e){const t=n+e;return x(t,x.URL)}export{E as c,C as s};
